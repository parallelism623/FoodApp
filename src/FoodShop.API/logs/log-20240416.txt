2024-04-16 01:14:28.781 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-04-16 01:14:29.383 +07:00 [DBG] The index {'ProductId'} was not created on entity type 'CartProduct' as the properties are already covered by the index {'ProductId', 'CartId'}.
2024-04-16 01:14:29.384 +07:00 [DBG] The index {'OrderId'} was not created on entity type 'OrderProduct' as the properties are already covered by the index {'OrderId', 'ProductId'}.
2024-04-16 01:14:29.384 +07:00 [DBG] The index {'ProductId'} was not created on entity type 'ProductCategory' as the properties are already covered by the index {'ProductId', 'CategoryId'}.
2024-04-16 01:14:29.385 +07:00 [DBG] The index {'RoleId'} was not created on entity type 'IdentityUserRole<Guid>' as the properties are already covered by the index {'RoleId', 'UserId'}.
2024-04-16 01:14:29.465 +07:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-04-16 01:14:29.487 +07:00 [DBG] The property 'IdentityUserToken<Guid>.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-04-16 01:14:29.515 +07:00 [WRN] No store type was specified for the decimal property 'Amout' on entity type 'Cart'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 01:14:29.516 +07:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'CartProduct'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 01:14:29.516 +07:00 [WRN] No store type was specified for the decimal property 'Amout' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 01:14:29.516 +07:00 [WRN] No store type was specified for the decimal property 'AmoutTotal' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 01:14:29.516 +07:00 [WRN] No store type was specified for the decimal property 'Discount' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 01:14:29.517 +07:00 [WRN] No store type was specified for the decimal property 'Shipping' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 01:14:29.517 +07:00 [WRN] No store type was specified for the decimal property 'Tax' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 01:14:29.517 +07:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'OrderProduct'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 01:14:29.518 +07:00 [WRN] No store type was specified for the decimal property 'Discount' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 01:14:29.518 +07:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 01:14:29.654 +07:00 [DBG] Entity Framework Core 8.0.4 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.3' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using lazy loading proxies QuerySplittingBehavior=SplitQuery MigrationsAssembly=FoodShop.Persistence 
2024-04-16 01:14:29.660 +07:00 [DBG] Creating DbConnection.
2024-04-16 01:14:29.709 +07:00 [DBG] Created DbConnection. (47ms).
2024-04-16 01:14:29.712 +07:00 [DBG] Migrating using database 'FoodShop' on server 'localhost'.
2024-04-16 01:14:29.720 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:14:29.953 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:14:29.957 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-04-16 01:14:29.963 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (5ms).
2024-04-16 01:14:29.965 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (9ms).
2024-04-16 01:14:29.970 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 01:14:29.990 +07:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 01:14:29.991 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:14:29.999 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (3ms).
2024-04-16 01:14:30.005 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-04-16 01:14:30.005 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 01:14:30.005 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 01:14:30.005 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:14:30.006 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:14:30.007 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 01:14:30.028 +07:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 01:14:30.028 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:14:30.029 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 01:14:30.031 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:14:30.031 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:14:30.031 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-04-16 01:14:30.031 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-04-16 01:14:30.032 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-04-16 01:14:30.032 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 01:14:30.033 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 01:14:30.034 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:14:30.034 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 01:14:30.034 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-04-16 01:14:30.034 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 01:14:30.035 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 01:14:30.035 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:14:30.035 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:14:30.035 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 01:14:30.036 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 01:14:30.036 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:14:30.037 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 01:14:30.047 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:14:30.047 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:14:30.048 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 01:14:30.048 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 01:14:30.048 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 01:14:30.048 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-16 01:14:30.055 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-16 01:14:30.058 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 01:14:30.059 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 2ms reading results.
2024-04-16 01:14:30.060 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:14:30.060 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 01:14:30.068 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-04-16 01:14:30.102 +07:00 [DBG] Compiling query expression: 
'DbSet<AppRole>()
    .Any()'
2024-04-16 01:14:30.210 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SplitQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AppRole AS a)), 
    ReaderColumn[] { ReaderColumn<bool> }, 
    Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, bool>, 
    null, 
    null, 
    FoodShop.Persistence.ApplicationDbContext, 
    False, 
    True, 
    True
)
    .Single()'
2024-04-16 01:14:30.227 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:14:30.228 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:14:30.228 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 01:14:30.228 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 01:14:30.228 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 01:14:30.229 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AppRole] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-04-16 01:14:30.232 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AppRole] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-04-16 01:14:30.242 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 01:14:30.243 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 2ms reading results.
2024-04-16 01:14:30.243 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:14:30.243 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 01:14:30.245 +07:00 [DBG] 'ApplicationDbContext' disposed.
2024-04-16 01:14:30.248 +07:00 [DBG] Disposing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:14:30.249 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-04-16 01:14:30.329 +07:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-04-16 01:14:30.382 +07:00 [DBG] Hosting starting
2024-04-16 01:14:30.404 +07:00 [INF] User profile is available. Using 'C:\Users\hieud\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-04-16 01:14:30.409 +07:00 [DBG] Reading data from file 'C:\Users\hieud\AppData\Local\ASP.NET\DataProtection-Keys\key-5b2baa0a-904f-4101-af08-7ac673b8db2c.xml'.
2024-04-16 01:14:30.418 +07:00 [DBG] Found key {5b2baa0a-904f-4101-af08-7ac673b8db2c}.
2024-04-16 01:14:30.428 +07:00 [DBG] Considering key {5b2baa0a-904f-4101-af08-7ac673b8db2c} with expiration date 2024-05-20 17:09:10Z as default key.
2024-04-16 01:14:30.431 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-04-16 01:14:30.432 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-04-16 01:14:30.434 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-04-16 01:14:30.436 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-04-16 01:14:30.438 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-04-16 01:14:30.442 +07:00 [DBG] Using key {5b2baa0a-904f-4101-af08-7ac673b8db2c} as the default key.
2024-04-16 01:14:30.443 +07:00 [DBG] Key ring with default key {5b2baa0a-904f-4101-af08-7ac673b8db2c} was loaded during application startup.
2024-04-16 01:14:30.613 +07:00 [INF] Now listening on: https://localhost:7286
2024-04-16 01:14:30.613 +07:00 [INF] Now listening on: http://localhost:5010
2024-04-16 01:14:30.614 +07:00 [DBG] Loaded hosting startup assembly FoodShop.API
2024-04-16 01:14:30.614 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-04-16 01:14:30.614 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-04-16 01:14:30.614 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-04-16 01:14:30.677 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-04-16 01:14:30.678 +07:00 [INF] Hosting environment: Development
2024-04-16 01:14:30.679 +07:00 [INF] Content root path: C:\Users\hieud\Code\C#\FoodShop\FoodShop\src\FoodShop.API
2024-04-16 01:14:30.679 +07:00 [DBG] Hosting started
2024-04-16 01:14:30.690 +07:00 [DBG] Connection id "0HN2TEVIIH0VJ" accepted.
2024-04-16 01:14:30.691 +07:00 [DBG] Connection id "0HN2TEVIIH0VJ" started.
2024-04-16 01:14:30.850 +07:00 [DBG] Connection id "0HN2TEVIIH0VK" accepted.
2024-04-16 01:14:30.851 +07:00 [DBG] Connection id "0HN2TEVIIH0VK" started.
2024-04-16 01:14:31.157 +07:00 [DBG] Connection id "0HN2TEVIIH0VL" accepted.
2024-04-16 01:14:31.158 +07:00 [DBG] Connection id "0HN2TEVIIH0VL" started.
2024-04-16 01:14:31.251 +07:00 [DBG] Connection 0HN2TEVIIH0VL established using the following protocol: "Tls13"
2024-04-16 01:14:31.354 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/swagger/index.html - null null
2024-04-16 01:14:31.608 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-04-16 01:14:31.667 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-04-16 01:14:31.668 +07:00 [DBG] Request did not match any endpoints
2024-04-16 01:14:32.152 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-16 01:14:32.262 +07:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-04-16 01:14:32.263 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-04-16 01:14:32.286 +07:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-04-16 01:14:32.286 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-04-16 01:14:32.289 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/swagger/index.html - 200 null text/html;charset=utf-8 951.3825ms
2024-04-16 01:14:32.334 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/_framework/aspnetcore-browser-refresh.js - null null
2024-04-16 01:14:32.342 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/_vs/browserLink - null null
2024-04-16 01:14:32.343 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 8.8756ms
2024-04-16 01:14:32.409 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/_vs/browserLink - 200 null text/javascript; charset=UTF-8 67.6031ms
2024-04-16 01:14:32.772 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/swagger/v1/swagger.json - null null
2024-04-16 01:14:32.773 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-04-16 01:14:32.773 +07:00 [DBG] Request did not match any endpoints
2024-04-16 01:14:32.775 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-16 01:14:32.872 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 99.5265ms
2024-04-16 01:14:40.719 +07:00 [DBG] Authentication of the HTTPS connection timed out.
2024-04-16 01:14:40.722 +07:00 [DBG] Connection id "0HN2TEVIIH0VJ" stopped.
2024-04-16 01:14:40.724 +07:00 [DBG] Connection id "0HN2TEVIIH0VJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-04-16 01:14:40.852 +07:00 [DBG] Authentication of the HTTPS connection timed out.
2024-04-16 01:14:40.852 +07:00 [DBG] Connection id "0HN2TEVIIH0VK" stopped.
2024-04-16 01:14:40.853 +07:00 [DBG] Connection id "0HN2TEVIIH0VK" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-04-16 01:15:43.903 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7286/api/v1/Authentication/register - application/json; ver=1.0 147
2024-04-16 01:15:43.969 +07:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Authentication/register'
2024-04-16 01:15:43.972 +07:00 [DBG] Endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)' with route pattern 'api/v{version:apiVersion}/Authentication/register' is valid for the request path '/api/v1/Authentication/register'
2024-04-16 01:15:43.978 +07:00 [DBG] Request matched endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)'
2024-04-16 01:15:43.982 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-16 01:15:43.985 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-04-16 01:15:43.987 +07:00 [INF] Start request......!
2024-04-16 01:15:43.993 +07:00 [INF] Executing endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)'
2024-04-16 01:15:44.032 +07:00 [INF] Route matched with {action = "Register", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest) on controller FoodShop.Presentation.Controllers.V1.AuthenticationController (FoodShop.Presentation).
2024-04-16 01:15:44.040 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-04-16 01:15:44.041 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-04-16 01:15:44.042 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)","Asp.Versioning.ApplyContentTypeVersionActionFilter"]
2024-04-16 01:15:44.042 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-04-16 01:15:44.045 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-04-16 01:15:44.048 +07:00 [DBG] Executing controller factory for controller FoodShop.Presentation.Controllers.V1.AuthenticationController (FoodShop.Presentation)
2024-04-16 01:15:44.049 +07:00 [DBG] Executed controller factory for controller FoodShop.Presentation.Controllers.V1.AuthenticationController (FoodShop.Presentation)
2024-04-16 01:15:44.058 +07:00 [DBG] Attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest' ...
2024-04-16 01:15:44.061 +07:00 [DBG] Attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest' using the name '' in request data ...
2024-04-16 01:15:44.064 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json; ver=1.0'.
2024-04-16 01:15:44.076 +07:00 [DBG] Connection id "0HN2TEVIIH0VL", Request id "0HN2TEVIIH0VL:00000009": started reading request body.
2024-04-16 01:15:44.077 +07:00 [DBG] Connection id "0HN2TEVIIH0VL", Request id "0HN2TEVIIH0VL:00000009": done reading request body.
2024-04-16 01:15:44.085 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'
2024-04-16 01:15:44.087 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'.
2024-04-16 01:15:44.088 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'.
2024-04-16 01:15:44.088 +07:00 [DBG] Attempting to validate the bound parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest' ...
2024-04-16 01:15:44.104 +07:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'.
2024-04-16 01:15:56.278 +07:00 [DBG] Entity Framework Core 8.0.4 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.3' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using lazy loading proxies QuerySplittingBehavior=SplitQuery MigrationsAssembly=FoodShop.Persistence 
2024-04-16 01:15:56.297 +07:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2024-04-16 01:15:56.771 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppUser>(
    asyncEnumerable: new SplitQueryingEnumerable<AppUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AppUser.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: AppUser.AccessFailedCount (int) Required, 1], [Property: AppUser.Address (string), 2], [Property: AppUser.Avatar (string), 3], [Property: AppUser.ConcurrencyStamp (string), 4], [Property: AppUser.CreatedDate (DateTime) Required, 5], [Property: AppUser.Email (string), 6], [Property: AppUser.EmailConfirmed (bool) Required, 7], [Property: AppUser.Facebook (string), 8], [Property: AppUser.FirstName (string), 9], [Property: AppUser.LastName (string), 10], [Property: AppUser.LockoutEnabled (bool) Required, 11], [Property: AppUser.LockoutEnd (DateTimeOffset?), 12], [Property: AppUser.NormalizedEmail (string), 13], [Property: AppUser.NormalizedUserName (string), 14], [Property: AppUser.PasswordHash (string), 15], [Property: AppUser.PhoneNumber (string), 16], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 17], [Property: AppUser.SecurityStamp (string), 18], [Property: AppUser.TwoFactorEnabled (bool) Required, 19], [Property: AppUser.UpdateDate (DateTime) Required, 20], [Property: AppUser.UserName (string), 21] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.Address, a.Avatar, a.ConcurrencyStamp, a.CreatedDate, a.Email, a.EmailConfirmed, a.Facebook, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UpdateDate, a.UserName
            FROM AppUser AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<int>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<DateTime>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<DateTimeOffset>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<DateTime>, ReaderColumn<object> }, 
        Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, AppUser>, 
        null, 
        null, 
        FoodShop.Persistence.ApplicationDbContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-04-16 01:15:56.797 +07:00 [DBG] Creating DbConnection.
2024-04-16 01:15:56.798 +07:00 [DBG] Created DbConnection. (1ms).
2024-04-16 01:15:56.800 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:15:56.803 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:15:56.803 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 01:15:56.803 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 01:15:56.808 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-04-16 01:15:56.826 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='STRING' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 01:15:57.328 +07:00 [INF] Executed DbCommand (516ms) [Parameters=[@__normalizedUserName_0='STRING' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 01:15:57.354 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 01:15:57.388 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 40ms reading results.
2024-04-16 01:15:57.396 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:15:57.401 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (5ms).
2024-04-16 01:15:57.442 +07:00 [DBG] 'ApplicationDbContext' generated value '"82f1667a-615d-4fe7-3a61-08dc5d7818dd"' for the property 'AppUser.Id'.
2024-04-16 01:15:57.564 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'AppUser' entity with key '{Id: 82f1667a-615d-4fe7-3a61-08dc5d7818dd}'.
2024-04-16 01:15:57.595 +07:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-04-16 01:15:57.607 +07:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-04-16 01:15:57.638 +07:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-04-16 01:15:57.748 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:15:57.748 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:15:57.753 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 01:15:57.757 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-04-16 01:15:57.763 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2024-04-16 01:15:57.770 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='82f1667a-615d-4fe7-3a61-08dc5d7818dd', @p1='0', @p2=NULL (Size = 4000), @p3=NULL (Size = 4000), @p4='833abafa-986c-46cd-87e7-d45c2ec53097' (Size = 4000), @p5='0001-01-01T00:00:00.0000000', @p6='string' (Size = 4000), @p7='False', @p8=NULL (Size = 4000), @p9='string' (Size = 4000), @p10='string' (Size = 4000), @p11='True', @p12=NULL (DbType = DateTimeOffset), @p13='STRING' (Size = 4000), @p14='STRING' (Size = 4000), @p15='AQAAAAIAAYagAAAAEPp+rllwud3+HIa144XN7stYWfsdPZ4MIW3Pn30NQ7YNqjmgehxYsTjf+LZVllvuYw==' (Size = 4000), @p16='string' (Size = 4000), @p17='False', @p18='EWQDKERH7QMX4BUG22G33IKO2IYF2CPF' (Size = 4000), @p19='False', @p20='0001-01-01T00:00:00.0000000', @p21='string' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AppUser] ([Id], [AccessFailedCount], [Address], [Avatar], [ConcurrencyStamp], [CreatedDate], [Email], [EmailConfirmed], [Facebook], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UpdateDate], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21);
2024-04-16 01:15:57.791 +07:00 [INF] Executed DbCommand (23ms) [Parameters=[@p0='82f1667a-615d-4fe7-3a61-08dc5d7818dd', @p1='0', @p2=NULL (Size = 4000), @p3=NULL (Size = 4000), @p4='833abafa-986c-46cd-87e7-d45c2ec53097' (Size = 4000), @p5='0001-01-01T00:00:00.0000000', @p6='string' (Size = 4000), @p7='False', @p8=NULL (Size = 4000), @p9='string' (Size = 4000), @p10='string' (Size = 4000), @p11='True', @p12=NULL (DbType = DateTimeOffset), @p13='STRING' (Size = 4000), @p14='STRING' (Size = 4000), @p15='AQAAAAIAAYagAAAAEPp+rllwud3+HIa144XN7stYWfsdPZ4MIW3Pn30NQ7YNqjmgehxYsTjf+LZVllvuYw==' (Size = 4000), @p16='string' (Size = 4000), @p17='False', @p18='EWQDKERH7QMX4BUG22G33IKO2IYF2CPF' (Size = 4000), @p19='False', @p20='0001-01-01T00:00:00.0000000', @p21='string' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AppUser] ([Id], [AccessFailedCount], [Address], [Avatar], [ConcurrencyStamp], [CreatedDate], [Email], [EmailConfirmed], [Facebook], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UpdateDate], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21);
2024-04-16 01:15:57.900 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 01:15:57.908 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 11ms reading results.
2024-04-16 01:15:57.911 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:15:57.927 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (15ms).
2024-04-16 01:15:57.939 +07:00 [DBG] The 'AppUser' entity with key '{Id: 82f1667a-615d-4fe7-3a61-08dc5d7818dd}' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'.
2024-04-16 01:15:57.960 +07:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-04-16 01:16:00.859 +07:00 [DBG] Compiling query expression: 
'DbSet<AppRole>()
    .SingleOrDefault(r => r.NormalizedName == __normalizedRoleName_0)'
2024-04-16 01:16:00.987 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppRole>(
    asyncEnumerable: new SplitQueryingEnumerable<AppRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AppRole.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: AppRole.ConcurrencyStamp (string), 1], [Property: AppRole.CreateBy (string), 2], [Property: AppRole.CreateDate (DateTime?), 3], [Property: AppRole.Description (string) Required MaxLength(250), 4], [Property: AppRole.Name (string), 5], [Property: AppRole.NormalizedName (string), 6], [Property: AppRole.RoleCode (string) Required MaxLength(50), 7], [Property: AppRole.UpdateBy (string), 8], [Property: AppRole.UpdateDate (DateTime?), 9] }
            SELECT TOP(2) a.Id, a.ConcurrencyStamp, a.CreateBy, a.CreateDate, a.Description, a.Name, a.NormalizedName, a.RoleCode, a.UpdateBy, a.UpdateDate
            FROM AppRole AS a
            WHERE a.NormalizedName == @__normalizedRoleName_0), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<DateTime>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<DateTime> }, 
        Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, AppRole>, 
        null, 
        null, 
        FoodShop.Persistence.ApplicationDbContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-04-16 01:16:01.030 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:16:01.031 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:16:01.031 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 01:16:01.031 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 01:16:01.031 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 01:16:01.031 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 01:16:01.211 +07:00 [INF] Executed DbCommand (179ms) [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 01:16:01.237 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'AppRole' entity with key '{Id: 1ddacd3b-495b-4144-b828-3c9740ba1651}'.
2024-04-16 01:16:01.305 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 01:16:01.317 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 99ms reading results.
2024-04-16 01:16:01.343 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:16:01.343 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 01:16:01.370 +07:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<Guid>>()
    .FirstOrDefault(e => object.Equals(
        objA: EF.Property<object>(e, "RoleId"), 
        objB: __get_Item_0) && object.Equals(
        objA: EF.Property<object>(e, "UserId"), 
        objB: __get_Item_1))'
2024-04-16 01:16:01.446 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityUserRole<Guid>>(
    asyncEnumerable: new SplitQueryingEnumerable<IdentityUserRole<Guid>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUserRole<Guid>.RoleId (Guid) Required PK FK AfterSave:Throw, 0], [Property: IdentityUserRole<Guid>.UserId (Guid) Required PK FK Index AfterSave:Throw, 1] }
            SELECT TOP(1) a.RoleId, a.UserId
            FROM AppUserRole AS a
            WHERE (a.RoleId == @__get_Item_0) && (a.UserId == @__get_Item_1)), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<Guid> }, 
        Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, IdentityUserRole<Guid>>, 
        null, 
        null, 
        FoodShop.Persistence.ApplicationDbContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-04-16 01:16:01.450 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:16:01.452 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:16:01.452 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 01:16:01.453 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 01:16:01.453 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 01:16:01.453 +07:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='82f1667a-615d-4fe7-3a61-08dc5d7818dd' (Nullable = true), @__get_Item_1='1ddacd3b-495b-4144-b828-3c9740ba1651' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[RoleId], [a].[UserId]
FROM [AppUserRole] AS [a]
WHERE [a].[RoleId] = @__get_Item_0 AND [a].[UserId] = @__get_Item_1
2024-04-16 01:16:01.458 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='82f1667a-615d-4fe7-3a61-08dc5d7818dd' (Nullable = true), @__get_Item_1='1ddacd3b-495b-4144-b828-3c9740ba1651' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[RoleId], [a].[UserId]
FROM [AppUserRole] AS [a]
WHERE [a].[RoleId] = @__get_Item_0 AND [a].[UserId] = @__get_Item_1
2024-04-16 01:16:01.459 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 01:16:01.459 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 0ms reading results.
2024-04-16 01:16:01.459 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:16:01.460 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 01:16:01.468 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:16:01.468 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:16:01.469 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 01:16:01.469 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 01:16:01.469 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 01:16:01.469 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 01:16:01.471 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 01:16:01.472 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 01:16:01.472 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 0ms reading results.
2024-04-16 01:16:01.472 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:16:01.473 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 01:16:01.498 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityUserRole' entity with key '{RoleId: 1ddacd3b-495b-4144-b828-3c9740ba1651, UserId: 82f1667a-615d-4fe7-3a61-08dc5d7818dd}'.
2024-04-16 01:16:01.501 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:16:01.501 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:16:01.502 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 01:16:01.502 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 01:16:01.502 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 01:16:01.502 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='STRING' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 01:16:01.508 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='STRING' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 01:16:01.511 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 01:16:01.511 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 0ms reading results.
2024-04-16 01:16:01.512 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:16:01.512 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 01:16:01.518 +07:00 [DBG] The 'AppUser' entity with key '{Id: 82f1667a-615d-4fe7-3a61-08dc5d7818dd}' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'.
2024-04-16 01:16:01.519 +07:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-04-16 01:16:01.519 +07:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-04-16 01:16:01.531 +07:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-04-16 01:16:01.547 +07:00 [DBG] Executing 2 update commands as a batch.
2024-04-16 01:16:01.550 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:16:01.551 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:16:01.552 +07:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-04-16 01:16:01.563 +07:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-04-16 01:16:01.565 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 01:16:01.566 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 01:16:01.567 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-04-16 01:16:01.568 +07:00 [DBG] Executing DbCommand [Parameters=[@p21='82f1667a-615d-4fe7-3a61-08dc5d7818dd', @p0='0', @p1=NULL (Size = 4000), @p2=NULL (Size = 4000), @p3='81be47f6-fc39-4442-82b9-c00a3df8055b' (Size = 4000), @p4='0001-01-01T00:00:00.0000000', @p5='string' (Size = 4000), @p6='False', @p7=NULL (Size = 4000), @p8='string' (Size = 4000), @p9='string' (Size = 4000), @p10='True', @p11=NULL (DbType = DateTimeOffset), @p12='STRING' (Size = 4000), @p13='STRING' (Size = 4000), @p14='AQAAAAIAAYagAAAAEPp+rllwud3+HIa144XN7stYWfsdPZ4MIW3Pn30NQ7YNqjmgehxYsTjf+LZVllvuYw==' (Size = 4000), @p15='string' (Size = 4000), @p16='False', @p17='EWQDKERH7QMX4BUG22G33IKO2IYF2CPF' (Size = 4000), @p18='False', @p19='0001-01-01T00:00:00.0000000', @p20='string' (Size = 4000), @p22='1ddacd3b-495b-4144-b828-3c9740ba1651', @p23='82f1667a-615d-4fe7-3a61-08dc5d7818dd'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AppUser] SET [AccessFailedCount] = @p0, [Address] = @p1, [Avatar] = @p2, [ConcurrencyStamp] = @p3, [CreatedDate] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [Facebook] = @p7, [FirstName] = @p8, [LastName] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [SecurityStamp] = @p17, [TwoFactorEnabled] = @p18, [UpdateDate] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21;
INSERT INTO [AppUserRole] ([RoleId], [UserId])
VALUES (@p22, @p23);
2024-04-16 01:16:01.578 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@p21='82f1667a-615d-4fe7-3a61-08dc5d7818dd', @p0='0', @p1=NULL (Size = 4000), @p2=NULL (Size = 4000), @p3='81be47f6-fc39-4442-82b9-c00a3df8055b' (Size = 4000), @p4='0001-01-01T00:00:00.0000000', @p5='string' (Size = 4000), @p6='False', @p7=NULL (Size = 4000), @p8='string' (Size = 4000), @p9='string' (Size = 4000), @p10='True', @p11=NULL (DbType = DateTimeOffset), @p12='STRING' (Size = 4000), @p13='STRING' (Size = 4000), @p14='AQAAAAIAAYagAAAAEPp+rllwud3+HIa144XN7stYWfsdPZ4MIW3Pn30NQ7YNqjmgehxYsTjf+LZVllvuYw==' (Size = 4000), @p15='string' (Size = 4000), @p16='False', @p17='EWQDKERH7QMX4BUG22G33IKO2IYF2CPF' (Size = 4000), @p18='False', @p19='0001-01-01T00:00:00.0000000', @p20='string' (Size = 4000), @p22='1ddacd3b-495b-4144-b828-3c9740ba1651', @p23='82f1667a-615d-4fe7-3a61-08dc5d7818dd'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AppUser] SET [AccessFailedCount] = @p0, [Address] = @p1, [Avatar] = @p2, [ConcurrencyStamp] = @p3, [CreatedDate] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [Facebook] = @p7, [FirstName] = @p8, [LastName] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [SecurityStamp] = @p17, [TwoFactorEnabled] = @p18, [UpdateDate] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21;
INSERT INTO [AppUserRole] ([RoleId], [UserId])
VALUES (@p22, @p23);
2024-04-16 01:16:01.581 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 01:16:01.581 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 2ms reading results.
2024-04-16 01:16:01.585 +07:00 [DBG] Committing transaction.
2024-04-16 01:16:01.590 +07:00 [DBG] Committed transaction.
2024-04-16 01:16:01.592 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:16:01.593 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 01:16:01.595 +07:00 [DBG] Disposing transaction.
2024-04-16 01:16:01.596 +07:00 [DBG] The 'IdentityUserRole' entity with key '{RoleId: 1ddacd3b-495b-4144-b828-3c9740ba1651, UserId: 82f1667a-615d-4fe7-3a61-08dc5d7818dd}' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'.
2024-04-16 01:16:01.596 +07:00 [DBG] The 'AppUser' entity with key '{Id: 82f1667a-615d-4fe7-3a61-08dc5d7818dd}' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'.
2024-04-16 01:16:01.596 +07:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 2 entities written to the database.
2024-04-16 01:16:04.606 +07:00 [INF] Executed action FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation) in 20557.1007ms
2024-04-16 01:16:04.608 +07:00 [INF] Executed endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)'
2024-04-16 01:16:04.680 +07:00 [ERR] Value cannot be null. (Parameter 'uriString')
System.ArgumentNullException: Value cannot be null. (Parameter 'uriString')
   at System.ArgumentNullException.Throw(String paramName)
   at System.ArgumentNullException.ThrowIfNull(Object argument, String paramName)
   at System.Uri..ctor(String uriString)
   at FoodShop.Infrastructure.DependencyInjection.Extensions.ServiceCollectionExtensions.<>c__DisplayClass1_0.<AddMailServiceConfiguration>b__0(IServiceProvider services, HttpClient client) in C:\Users\hieud\Code\C#\FoodShop\FoodShop\src\FoodShop.Infrastructure\DependencyInjection\Extensions\ServiceCollectionExtensions.cs:line 55
   at Microsoft.Extensions.Http.DefaultHttpClientFactory.CreateClient(String name)
   at FoodShop.Infrastructure.EmailServices.EmailSender..ctor(IOptionsMonitor`1 mailSettings, IHttpClientFactory httpClientFactory) in C:\Users\hieud\Code\C#\FoodShop\FoodShop\src\FoodShop.Infrastructure\EmailServices\EmailSender.cs:line 21
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithFewArgs(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitIEnumerable(IEnumerableCallSite enumerableCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at MediatR.Wrappers.NotificationHandlerWrapperImpl`1.Handle(INotification notification, IServiceProvider serviceFactory, Func`4 publish, CancellationToken cancellationToken)
   at MediatR.Mediator.PublishNotification(INotification notification, CancellationToken cancellationToken)
   at MediatR.Mediator.Publish[TNotification](TNotification notification, CancellationToken cancellationToken)
   at FoodShop.Presentation.Controllers.V1.AuthenticationController.Register(RegisterRequest model) in C:\Users\hieud\Code\C#\FoodShop\FoodShop\src\FoodShop.Presentation\Controllers\V1\AuthenticationController.cs:line 48
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at FoodShop.API.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in C:\Users\hieud\Code\C#\FoodShop\FoodShop\src\FoodShop.API\Middleware\ExceptionHandlingMiddleware.cs:line 22
2024-04-16 01:16:04.723 +07:00 [DBG] 'ApplicationDbContext' disposed.
2024-04-16 01:16:04.732 +07:00 [DBG] Disposing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:16:04.735 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-04-16 01:16:04.736 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7286/api/v1/Authentication/register - 500 null application/json; ver=1 20832.7468ms
2024-04-16 01:17:55.343 +07:00 [DBG] HttpMessageHandler expired after 120000ms for client ''
2024-04-16 01:18:04.524 +07:00 [DBG] HttpMessageHandler expired after 120000ms for client 'MailTrapApiClient'
2024-04-16 01:18:05.344 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 01:18:05.347 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0893ms - processed: 0 items - remaining: 2 items
2024-04-16 01:18:15.347 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 01:18:15.347 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.1045ms - processed: 0 items - remaining: 2 items
2024-04-16 01:18:25.347 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 01:18:25.348 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0029ms - processed: 0 items - remaining: 2 items
2024-04-16 01:18:25.485 +07:00 [DBG] Connection id "0HN2TEVIIH0VL" received FIN.
2024-04-16 01:18:25.512 +07:00 [DBG] Connection id "0HN2TEVIIH0VL" is closed. The last processed stream ID was 9.
2024-04-16 01:18:25.512 +07:00 [DBG] Connection id "0HN2TEVIIH0VL" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-04-16 01:18:25.513 +07:00 [DBG] The connection queue processing loop for 0HN2TEVIIH0VL completed.
2024-04-16 01:18:25.522 +07:00 [DBG] Connection id "0HN2TEVIIH0VL" stopped.
2024-04-16 01:18:35.350 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 01:18:35.350 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0875ms - processed: 0 items - remaining: 2 items
2024-04-16 01:18:45.350 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 01:18:45.350 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0041ms - processed: 0 items - remaining: 2 items
2024-04-16 01:18:55.350 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 01:18:55.351 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0035ms - processed: 0 items - remaining: 2 items
2024-04-16 01:19:05.352 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 01:19:05.353 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0072ms - processed: 0 items - remaining: 2 items
2024-04-16 01:19:15.354 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 01:19:15.354 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.004ms - processed: 0 items - remaining: 2 items
2024-04-16 01:19:25.354 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 01:19:25.355 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0159ms - processed: 0 items - remaining: 2 items
2024-04-16 01:19:35.356 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 01:19:35.356 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.004ms - processed: 0 items - remaining: 2 items
2024-04-16 01:19:45.356 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 01:19:45.357 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0038ms - processed: 0 items - remaining: 2 items
2024-04-16 01:19:55.358 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 01:19:55.359 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0045ms - processed: 0 items - remaining: 2 items
2024-04-16 01:20:05.359 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 01:20:05.359 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.2155ms - processed: 2 items - remaining: 0 items
2024-04-16 01:42:27.146 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-04-16 01:42:27.626 +07:00 [DBG] The index {'ProductId'} was not created on entity type 'CartProduct' as the properties are already covered by the index {'ProductId', 'CartId'}.
2024-04-16 01:42:27.627 +07:00 [DBG] The index {'OrderId'} was not created on entity type 'OrderProduct' as the properties are already covered by the index {'OrderId', 'ProductId'}.
2024-04-16 01:42:27.628 +07:00 [DBG] The index {'ProductId'} was not created on entity type 'ProductCategory' as the properties are already covered by the index {'ProductId', 'CategoryId'}.
2024-04-16 01:42:27.628 +07:00 [DBG] The index {'RoleId'} was not created on entity type 'IdentityUserRole<Guid>' as the properties are already covered by the index {'RoleId', 'UserId'}.
2024-04-16 01:42:27.725 +07:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-04-16 01:42:27.748 +07:00 [DBG] The property 'IdentityUserToken<Guid>.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-04-16 01:42:27.770 +07:00 [WRN] No store type was specified for the decimal property 'Amout' on entity type 'Cart'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 01:42:27.771 +07:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'CartProduct'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 01:42:27.771 +07:00 [WRN] No store type was specified for the decimal property 'Amout' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 01:42:27.772 +07:00 [WRN] No store type was specified for the decimal property 'AmoutTotal' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 01:42:27.772 +07:00 [WRN] No store type was specified for the decimal property 'Discount' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 01:42:27.773 +07:00 [WRN] No store type was specified for the decimal property 'Shipping' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 01:42:27.773 +07:00 [WRN] No store type was specified for the decimal property 'Tax' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 01:42:27.774 +07:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'OrderProduct'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 01:42:27.774 +07:00 [WRN] No store type was specified for the decimal property 'Discount' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 01:42:27.775 +07:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 01:42:27.931 +07:00 [DBG] Entity Framework Core 8.0.4 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.3' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using lazy loading proxies QuerySplittingBehavior=SplitQuery MigrationsAssembly=FoodShop.Persistence 
2024-04-16 01:42:27.947 +07:00 [DBG] Creating DbConnection.
2024-04-16 01:42:28.009 +07:00 [DBG] Created DbConnection. (60ms).
2024-04-16 01:42:28.013 +07:00 [DBG] Migrating using database 'FoodShop' on server 'localhost'.
2024-04-16 01:42:28.020 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:42:28.286 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:42:28.293 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-04-16 01:42:28.301 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (6ms).
2024-04-16 01:42:28.304 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (13ms).
2024-04-16 01:42:28.312 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 01:42:28.345 +07:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 01:42:28.348 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:42:28.357 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (5ms).
2024-04-16 01:42:28.360 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-04-16 01:42:28.360 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 01:42:28.360 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 01:42:28.361 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:42:28.362 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:42:28.363 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 01:42:28.394 +07:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 01:42:28.394 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:42:28.395 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (1ms).
2024-04-16 01:42:28.397 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:42:28.397 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:42:28.397 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-04-16 01:42:28.397 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-04-16 01:42:28.398 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-04-16 01:42:28.398 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 01:42:28.399 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 01:42:28.400 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:42:28.400 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 01:42:28.400 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-04-16 01:42:28.400 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 01:42:28.401 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 01:42:28.401 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:42:28.401 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:42:28.401 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 01:42:28.402 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 01:42:28.402 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:42:28.402 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 01:42:28.414 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:42:28.415 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:42:28.415 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 01:42:28.415 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 01:42:28.415 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 01:42:28.415 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-16 01:42:28.420 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-16 01:42:28.422 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 01:42:28.423 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 1ms reading results.
2024-04-16 01:42:28.423 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:42:28.423 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 01:42:28.433 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-04-16 01:42:28.477 +07:00 [DBG] Compiling query expression: 
'DbSet<AppRole>()
    .Any()'
2024-04-16 01:42:28.621 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SplitQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AppRole AS a)), 
    ReaderColumn[] { ReaderColumn<bool> }, 
    Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, bool>, 
    null, 
    null, 
    FoodShop.Persistence.ApplicationDbContext, 
    False, 
    True, 
    True
)
    .Single()'
2024-04-16 01:42:28.642 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:42:28.642 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:42:28.642 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 01:42:28.643 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 01:42:28.643 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 01:42:28.643 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AppRole] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-04-16 01:42:28.656 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AppRole] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-04-16 01:42:28.666 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 01:42:28.666 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 1ms reading results.
2024-04-16 01:42:28.667 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:42:28.667 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 01:42:28.669 +07:00 [DBG] 'ApplicationDbContext' disposed.
2024-04-16 01:42:28.671 +07:00 [DBG] Disposing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:42:28.672 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-04-16 01:42:28.735 +07:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-04-16 01:42:28.829 +07:00 [DBG] Hosting starting
2024-04-16 01:42:28.876 +07:00 [INF] User profile is available. Using 'C:\Users\hieud\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-04-16 01:42:28.887 +07:00 [DBG] Reading data from file 'C:\Users\hieud\AppData\Local\ASP.NET\DataProtection-Keys\key-5b2baa0a-904f-4101-af08-7ac673b8db2c.xml'.
2024-04-16 01:42:28.901 +07:00 [DBG] Found key {5b2baa0a-904f-4101-af08-7ac673b8db2c}.
2024-04-16 01:42:28.911 +07:00 [DBG] Considering key {5b2baa0a-904f-4101-af08-7ac673b8db2c} with expiration date 2024-05-20 17:09:10Z as default key.
2024-04-16 01:42:28.915 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-04-16 01:42:28.917 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-04-16 01:42:28.919 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-04-16 01:42:28.921 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-04-16 01:42:28.924 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-04-16 01:42:28.928 +07:00 [DBG] Using key {5b2baa0a-904f-4101-af08-7ac673b8db2c} as the default key.
2024-04-16 01:42:28.929 +07:00 [DBG] Key ring with default key {5b2baa0a-904f-4101-af08-7ac673b8db2c} was loaded during application startup.
2024-04-16 01:42:29.158 +07:00 [INF] Now listening on: https://localhost:7286
2024-04-16 01:42:29.159 +07:00 [INF] Now listening on: http://localhost:5010
2024-04-16 01:42:29.159 +07:00 [DBG] Loaded hosting startup assembly FoodShop.API
2024-04-16 01:42:29.159 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-04-16 01:42:29.159 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-04-16 01:42:29.159 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-04-16 01:42:29.201 +07:00 [DBG] Connection id "0HN2TFF6Q25C6" received FIN.
2024-04-16 01:42:29.208 +07:00 [DBG] Connection id "0HN2TFF6Q25C6" accepted.
2024-04-16 01:42:29.210 +07:00 [DBG] Connection id "0HN2TFF6Q25C6" started.
2024-04-16 01:42:29.246 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-04-16 01:42:29.252 +07:00 [INF] Hosting environment: Development
2024-04-16 01:42:29.255 +07:00 [INF] Content root path: C:\Users\hieud\Code\C#\FoodShop\FoodShop\src\FoodShop.API
2024-04-16 01:42:29.256 +07:00 [DBG] Hosting started
2024-04-16 01:42:29.235 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-04-16 01:42:29.279 +07:00 [DBG] Connection id "0HN2TFF6Q25C6" stopped.
2024-04-16 01:42:29.285 +07:00 [DBG] Connection id "0HN2TFF6Q25C6" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-04-16 01:42:29.537 +07:00 [DBG] Connection id "0HN2TFF6Q25C7" accepted.
2024-04-16 01:42:29.538 +07:00 [DBG] Connection id "0HN2TFF6Q25C7" started.
2024-04-16 01:42:29.579 +07:00 [DBG] Connection 0HN2TFF6Q25C7 established using the following protocol: "Tls13"
2024-04-16 01:42:29.633 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/swagger/index.html - null null
2024-04-16 01:42:29.735 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-04-16 01:42:29.772 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-04-16 01:42:29.773 +07:00 [DBG] Request did not match any endpoints
2024-04-16 01:42:29.835 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-16 01:42:29.899 +07:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-04-16 01:42:29.900 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-04-16 01:42:29.920 +07:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-04-16 01:42:29.921 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-04-16 01:42:29.926 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/swagger/index.html - 200 null text/html;charset=utf-8 296.7209ms
2024-04-16 01:42:29.964 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/_framework/aspnetcore-browser-refresh.js - null null
2024-04-16 01:42:29.965 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/_vs/browserLink - null null
2024-04-16 01:42:29.977 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 13.114ms
2024-04-16 01:42:30.018 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/_vs/browserLink - 200 null text/javascript; charset=UTF-8 52.9349ms
2024-04-16 01:42:30.513 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/swagger/v1/swagger.json - null null
2024-04-16 01:42:30.513 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-04-16 01:42:30.514 +07:00 [DBG] Request did not match any endpoints
2024-04-16 01:42:30.516 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-16 01:42:30.662 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 149.409ms
2024-04-16 01:43:19.681 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7286/api/v1/Authentication/register - application/json; ver=1.0 164
2024-04-16 01:43:19.749 +07:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Authentication/register'
2024-04-16 01:43:19.752 +07:00 [DBG] Endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)' with route pattern 'api/v{version:apiVersion}/Authentication/register' is valid for the request path '/api/v1/Authentication/register'
2024-04-16 01:43:19.759 +07:00 [DBG] Request matched endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)'
2024-04-16 01:43:19.763 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-16 01:43:19.765 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-04-16 01:43:19.767 +07:00 [INF] Start request......!
2024-04-16 01:43:19.771 +07:00 [INF] Executing endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)'
2024-04-16 01:43:19.793 +07:00 [INF] Route matched with {action = "Register", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest) on controller FoodShop.Presentation.Controllers.V1.AuthenticationController (FoodShop.Presentation).
2024-04-16 01:43:19.796 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-04-16 01:43:19.796 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-04-16 01:43:19.797 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)","Asp.Versioning.ApplyContentTypeVersionActionFilter"]
2024-04-16 01:43:19.798 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-04-16 01:43:19.798 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-04-16 01:43:19.800 +07:00 [DBG] Executing controller factory for controller FoodShop.Presentation.Controllers.V1.AuthenticationController (FoodShop.Presentation)
2024-04-16 01:43:19.881 +07:00 [DBG] Executed controller factory for controller FoodShop.Presentation.Controllers.V1.AuthenticationController (FoodShop.Presentation)
2024-04-16 01:43:19.885 +07:00 [DBG] Attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest' ...
2024-04-16 01:43:19.889 +07:00 [DBG] Attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest' using the name '' in request data ...
2024-04-16 01:43:19.890 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json; ver=1.0'.
2024-04-16 01:43:19.895 +07:00 [DBG] Connection id "0HN2TFF6Q25C7", Request id "0HN2TFF6Q25C7:00000009": started reading request body.
2024-04-16 01:43:19.895 +07:00 [DBG] Connection id "0HN2TFF6Q25C7", Request id "0HN2TFF6Q25C7:00000009": done reading request body.
2024-04-16 01:43:19.901 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'
2024-04-16 01:43:19.902 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'.
2024-04-16 01:43:19.902 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'.
2024-04-16 01:43:19.903 +07:00 [DBG] Attempting to validate the bound parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest' ...
2024-04-16 01:43:19.916 +07:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'.
2024-04-16 01:43:29.950 +07:00 [DBG] Entity Framework Core 8.0.4 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.3' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using lazy loading proxies QuerySplittingBehavior=SplitQuery MigrationsAssembly=FoodShop.Persistence 
2024-04-16 01:43:29.959 +07:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2024-04-16 01:43:30.279 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppUser>(
    asyncEnumerable: new SplitQueryingEnumerable<AppUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AppUser.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: AppUser.AccessFailedCount (int) Required, 1], [Property: AppUser.Address (string), 2], [Property: AppUser.Avatar (string), 3], [Property: AppUser.ConcurrencyStamp (string), 4], [Property: AppUser.CreatedDate (DateTime) Required, 5], [Property: AppUser.Email (string), 6], [Property: AppUser.EmailConfirmed (bool) Required, 7], [Property: AppUser.Facebook (string), 8], [Property: AppUser.FirstName (string), 9], [Property: AppUser.LastName (string), 10], [Property: AppUser.LockoutEnabled (bool) Required, 11], [Property: AppUser.LockoutEnd (DateTimeOffset?), 12], [Property: AppUser.NormalizedEmail (string), 13], [Property: AppUser.NormalizedUserName (string), 14], [Property: AppUser.PasswordHash (string), 15], [Property: AppUser.PhoneNumber (string), 16], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 17], [Property: AppUser.SecurityStamp (string), 18], [Property: AppUser.TwoFactorEnabled (bool) Required, 19], [Property: AppUser.UpdateDate (DateTime) Required, 20], [Property: AppUser.UserName (string), 21] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.Address, a.Avatar, a.ConcurrencyStamp, a.CreatedDate, a.Email, a.EmailConfirmed, a.Facebook, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UpdateDate, a.UserName
            FROM AppUser AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<int>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<DateTime>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<DateTimeOffset>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<DateTime>, ReaderColumn<object> }, 
        Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, AppUser>, 
        null, 
        null, 
        FoodShop.Persistence.ApplicationDbContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-04-16 01:43:30.304 +07:00 [DBG] Creating DbConnection.
2024-04-16 01:43:30.305 +07:00 [DBG] Created DbConnection. (1ms).
2024-04-16 01:43:30.308 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:43:30.312 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:43:30.312 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 01:43:30.313 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 01:43:30.319 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-04-16 01:43:30.323 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 01:43:30.387 +07:00 [INF] Executed DbCommand (67ms) [Parameters=[@__normalizedUserName_0='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 01:43:30.409 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 01:43:30.409 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 8ms reading results.
2024-04-16 01:43:30.411 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:43:30.412 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 01:43:30.440 +07:00 [DBG] 'ApplicationDbContext' generated value '"b490fd05-bdcb-4477-01a9-08dc5d7bf221"' for the property 'AppUser.Id'.
2024-04-16 01:43:30.542 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'AppUser' entity with key '{Id: b490fd05-bdcb-4477-01a9-08dc5d7bf221}'.
2024-04-16 01:43:30.546 +07:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-04-16 01:43:30.549 +07:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-04-16 01:43:30.577 +07:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-04-16 01:43:30.636 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:43:30.636 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:43:30.639 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 01:43:30.639 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 01:43:30.640 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-04-16 01:43:30.641 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='b490fd05-bdcb-4477-01a9-08dc5d7bf221', @p1='0', @p2=NULL (Size = 4000), @p3=NULL (Size = 4000), @p4='8c752d10-727f-4a61-9390-3638b4b5200d' (Size = 4000), @p5='0001-01-01T00:00:00.0000000', @p6='anhhieuqtqtqt@gmail.com' (Size = 4000), @p7='False', @p8=NULL (Size = 4000), @p9='string' (Size = 4000), @p10='string' (Size = 4000), @p11='True', @p12=NULL (DbType = DateTimeOffset), @p13='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000), @p14='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000), @p15='AQAAAAIAAYagAAAAEFlJ33fsZiSNiSVeOpKkW0gDXbriTSZWRq+mhJ+xUWsUmQiX1SGTDc7MBQFrpAkCCA==' (Size = 4000), @p16='string' (Size = 4000), @p17='False', @p18='MOOZIJMNRYL5XNBO62BRKZTA7PQXONBU' (Size = 4000), @p19='False', @p20='0001-01-01T00:00:00.0000000', @p21='anhhieuqtqtqt@gmail.com' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AppUser] ([Id], [AccessFailedCount], [Address], [Avatar], [ConcurrencyStamp], [CreatedDate], [Email], [EmailConfirmed], [Facebook], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UpdateDate], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21);
2024-04-16 01:43:30.647 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='b490fd05-bdcb-4477-01a9-08dc5d7bf221', @p1='0', @p2=NULL (Size = 4000), @p3=NULL (Size = 4000), @p4='8c752d10-727f-4a61-9390-3638b4b5200d' (Size = 4000), @p5='0001-01-01T00:00:00.0000000', @p6='anhhieuqtqtqt@gmail.com' (Size = 4000), @p7='False', @p8=NULL (Size = 4000), @p9='string' (Size = 4000), @p10='string' (Size = 4000), @p11='True', @p12=NULL (DbType = DateTimeOffset), @p13='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000), @p14='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000), @p15='AQAAAAIAAYagAAAAEFlJ33fsZiSNiSVeOpKkW0gDXbriTSZWRq+mhJ+xUWsUmQiX1SGTDc7MBQFrpAkCCA==' (Size = 4000), @p16='string' (Size = 4000), @p17='False', @p18='MOOZIJMNRYL5XNBO62BRKZTA7PQXONBU' (Size = 4000), @p19='False', @p20='0001-01-01T00:00:00.0000000', @p21='anhhieuqtqtqt@gmail.com' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AppUser] ([Id], [AccessFailedCount], [Address], [Avatar], [ConcurrencyStamp], [CreatedDate], [Email], [EmailConfirmed], [Facebook], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UpdateDate], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21);
2024-04-16 01:43:30.651 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 01:43:30.651 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 2ms reading results.
2024-04-16 01:43:30.653 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:43:30.653 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 01:43:30.659 +07:00 [DBG] The 'AppUser' entity with key '{Id: b490fd05-bdcb-4477-01a9-08dc5d7bf221}' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'.
2024-04-16 01:43:30.661 +07:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-04-16 01:43:30.667 +07:00 [DBG] Compiling query expression: 
'DbSet<AppRole>()
    .SingleOrDefault(r => r.NormalizedName == __normalizedRoleName_0)'
2024-04-16 01:43:30.749 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppRole>(
    asyncEnumerable: new SplitQueryingEnumerable<AppRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AppRole.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: AppRole.ConcurrencyStamp (string), 1], [Property: AppRole.CreateBy (string), 2], [Property: AppRole.CreateDate (DateTime?), 3], [Property: AppRole.Description (string) Required MaxLength(250), 4], [Property: AppRole.Name (string), 5], [Property: AppRole.NormalizedName (string), 6], [Property: AppRole.RoleCode (string) Required MaxLength(50), 7], [Property: AppRole.UpdateBy (string), 8], [Property: AppRole.UpdateDate (DateTime?), 9] }
            SELECT TOP(2) a.Id, a.ConcurrencyStamp, a.CreateBy, a.CreateDate, a.Description, a.Name, a.NormalizedName, a.RoleCode, a.UpdateBy, a.UpdateDate
            FROM AppRole AS a
            WHERE a.NormalizedName == @__normalizedRoleName_0), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<DateTime>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<DateTime> }, 
        Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, AppRole>, 
        null, 
        null, 
        FoodShop.Persistence.ApplicationDbContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-04-16 01:43:30.752 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:43:30.753 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:43:30.753 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 01:43:30.753 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 01:43:30.754 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 01:43:30.754 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 01:43:30.759 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 01:43:30.780 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'AppRole' entity with key '{Id: 1ddacd3b-495b-4144-b828-3c9740ba1651}'.
2024-04-16 01:43:30.799 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 01:43:30.799 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 35ms reading results.
2024-04-16 01:43:30.800 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:43:30.800 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 01:43:30.833 +07:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<Guid>>()
    .FirstOrDefault(e => object.Equals(
        objA: EF.Property<object>(e, "RoleId"), 
        objB: __get_Item_0) && object.Equals(
        objA: EF.Property<object>(e, "UserId"), 
        objB: __get_Item_1))'
2024-04-16 01:43:30.840 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/swagger/index.html - null null
2024-04-16 01:43:30.856 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-04-16 01:43:30.856 +07:00 [DBG] Request did not match any endpoints
2024-04-16 01:43:30.857 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-16 01:43:30.858 +07:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-04-16 01:43:30.858 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-04-16 01:43:30.873 +07:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-04-16 01:43:30.874 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-04-16 01:43:30.875 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/swagger/index.html - 200 null text/html;charset=utf-8 34.4034ms
2024-04-16 01:43:30.914 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/_framework/aspnetcore-browser-refresh.js - null null
2024-04-16 01:43:30.915 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/_vs/browserLink - null null
2024-04-16 01:43:30.930 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 15.3043ms
2024-04-16 01:43:30.961 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/_vs/browserLink - 200 null text/javascript; charset=UTF-8 47.077ms
2024-04-16 01:43:30.966 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityUserRole<Guid>>(
    asyncEnumerable: new SplitQueryingEnumerable<IdentityUserRole<Guid>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUserRole<Guid>.RoleId (Guid) Required PK FK AfterSave:Throw, 0], [Property: IdentityUserRole<Guid>.UserId (Guid) Required PK FK Index AfterSave:Throw, 1] }
            SELECT TOP(1) a.RoleId, a.UserId
            FROM AppUserRole AS a
            WHERE (a.RoleId == @__get_Item_0) && (a.UserId == @__get_Item_1)), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<Guid> }, 
        Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, IdentityUserRole<Guid>>, 
        null, 
        null, 
        FoodShop.Persistence.ApplicationDbContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-04-16 01:43:30.972 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:43:30.972 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:43:30.973 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 01:43:30.973 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 01:43:30.973 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 01:43:30.974 +07:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='b490fd05-bdcb-4477-01a9-08dc5d7bf221' (Nullable = true), @__get_Item_1='1ddacd3b-495b-4144-b828-3c9740ba1651' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[RoleId], [a].[UserId]
FROM [AppUserRole] AS [a]
WHERE [a].[RoleId] = @__get_Item_0 AND [a].[UserId] = @__get_Item_1
2024-04-16 01:43:30.980 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__get_Item_0='b490fd05-bdcb-4477-01a9-08dc5d7bf221' (Nullable = true), @__get_Item_1='1ddacd3b-495b-4144-b828-3c9740ba1651' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[RoleId], [a].[UserId]
FROM [AppUserRole] AS [a]
WHERE [a].[RoleId] = @__get_Item_0 AND [a].[UserId] = @__get_Item_1
2024-04-16 01:43:30.981 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 01:43:30.982 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 1ms reading results.
2024-04-16 01:43:30.986 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:43:30.991 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (5ms).
2024-04-16 01:43:30.998 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:43:31.000 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:43:31.000 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 01:43:31.000 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 01:43:31.001 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 01:43:31.001 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 01:43:31.003 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 01:43:31.004 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 01:43:31.004 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 0ms reading results.
2024-04-16 01:43:31.004 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:43:31.004 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 01:43:31.058 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityUserRole' entity with key '{RoleId: 1ddacd3b-495b-4144-b828-3c9740ba1651, UserId: b490fd05-bdcb-4477-01a9-08dc5d7bf221}'.
2024-04-16 01:43:31.069 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:43:31.071 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:43:31.076 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 01:43:31.086 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (9ms).
2024-04-16 01:43:31.096 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (20ms).
2024-04-16 01:43:31.097 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 01:43:31.100 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 01:43:31.104 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 01:43:31.105 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 1ms reading results.
2024-04-16 01:43:31.105 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:43:31.106 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 01:43:31.112 +07:00 [DBG] The 'AppUser' entity with key '{Id: b490fd05-bdcb-4477-01a9-08dc5d7bf221}' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'.
2024-04-16 01:43:31.113 +07:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-04-16 01:43:31.113 +07:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-04-16 01:43:31.127 +07:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-04-16 01:43:31.149 +07:00 [DBG] Executing 2 update commands as a batch.
2024-04-16 01:43:31.150 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:43:31.151 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:43:31.152 +07:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-04-16 01:43:31.170 +07:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-04-16 01:43:31.172 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 01:43:31.172 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 01:43:31.174 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-04-16 01:43:31.175 +07:00 [DBG] Executing DbCommand [Parameters=[@p21='b490fd05-bdcb-4477-01a9-08dc5d7bf221', @p0='0', @p1=NULL (Size = 4000), @p2=NULL (Size = 4000), @p3='3ce6a03d-0ab1-49bd-b830-0e920a3945b4' (Size = 4000), @p4='0001-01-01T00:00:00.0000000', @p5='anhhieuqtqtqt@gmail.com' (Size = 4000), @p6='False', @p7=NULL (Size = 4000), @p8='string' (Size = 4000), @p9='string' (Size = 4000), @p10='True', @p11=NULL (DbType = DateTimeOffset), @p12='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000), @p13='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000), @p14='AQAAAAIAAYagAAAAEFlJ33fsZiSNiSVeOpKkW0gDXbriTSZWRq+mhJ+xUWsUmQiX1SGTDc7MBQFrpAkCCA==' (Size = 4000), @p15='string' (Size = 4000), @p16='False', @p17='MOOZIJMNRYL5XNBO62BRKZTA7PQXONBU' (Size = 4000), @p18='False', @p19='0001-01-01T00:00:00.0000000', @p20='anhhieuqtqtqt@gmail.com' (Size = 4000), @p22='1ddacd3b-495b-4144-b828-3c9740ba1651', @p23='b490fd05-bdcb-4477-01a9-08dc5d7bf221'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AppUser] SET [AccessFailedCount] = @p0, [Address] = @p1, [Avatar] = @p2, [ConcurrencyStamp] = @p3, [CreatedDate] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [Facebook] = @p7, [FirstName] = @p8, [LastName] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [SecurityStamp] = @p17, [TwoFactorEnabled] = @p18, [UpdateDate] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21;
INSERT INTO [AppUserRole] ([RoleId], [UserId])
VALUES (@p22, @p23);
2024-04-16 01:43:31.186 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@p21='b490fd05-bdcb-4477-01a9-08dc5d7bf221', @p0='0', @p1=NULL (Size = 4000), @p2=NULL (Size = 4000), @p3='3ce6a03d-0ab1-49bd-b830-0e920a3945b4' (Size = 4000), @p4='0001-01-01T00:00:00.0000000', @p5='anhhieuqtqtqt@gmail.com' (Size = 4000), @p6='False', @p7=NULL (Size = 4000), @p8='string' (Size = 4000), @p9='string' (Size = 4000), @p10='True', @p11=NULL (DbType = DateTimeOffset), @p12='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000), @p13='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000), @p14='AQAAAAIAAYagAAAAEFlJ33fsZiSNiSVeOpKkW0gDXbriTSZWRq+mhJ+xUWsUmQiX1SGTDc7MBQFrpAkCCA==' (Size = 4000), @p15='string' (Size = 4000), @p16='False', @p17='MOOZIJMNRYL5XNBO62BRKZTA7PQXONBU' (Size = 4000), @p18='False', @p19='0001-01-01T00:00:00.0000000', @p20='anhhieuqtqtqt@gmail.com' (Size = 4000), @p22='1ddacd3b-495b-4144-b828-3c9740ba1651', @p23='b490fd05-bdcb-4477-01a9-08dc5d7bf221'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AppUser] SET [AccessFailedCount] = @p0, [Address] = @p1, [Avatar] = @p2, [ConcurrencyStamp] = @p3, [CreatedDate] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [Facebook] = @p7, [FirstName] = @p8, [LastName] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [SecurityStamp] = @p17, [TwoFactorEnabled] = @p18, [UpdateDate] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21;
INSERT INTO [AppUserRole] ([RoleId], [UserId])
VALUES (@p22, @p23);
2024-04-16 01:43:31.190 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 01:43:31.190 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 3ms reading results.
2024-04-16 01:43:31.193 +07:00 [DBG] Committing transaction.
2024-04-16 01:43:31.199 +07:00 [DBG] Committed transaction.
2024-04-16 01:43:31.202 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:43:31.204 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (1ms).
2024-04-16 01:43:31.219 +07:00 [DBG] Disposing transaction.
2024-04-16 01:43:31.231 +07:00 [DBG] The 'IdentityUserRole' entity with key '{RoleId: 1ddacd3b-495b-4144-b828-3c9740ba1651, UserId: b490fd05-bdcb-4477-01a9-08dc5d7bf221}' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'.
2024-04-16 01:43:31.246 +07:00 [DBG] The 'AppUser' entity with key '{Id: b490fd05-bdcb-4477-01a9-08dc5d7bf221}' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'.
2024-04-16 01:43:31.250 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/swagger/v1/swagger.json - null null
2024-04-16 01:43:31.250 +07:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 2 entities written to the database.
2024-04-16 01:43:31.253 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-04-16 01:43:31.252 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/swagger/favicon-32x32.png - null null
2024-04-16 01:43:31.254 +07:00 [DBG] Request did not match any endpoints
2024-04-16 01:43:31.261 +07:00 [DBG] No candidates found for the request path '/swagger/favicon-32x32.png'
2024-04-16 01:43:31.266 +07:00 [DBG] Request did not match any endpoints
2024-04-16 01:43:31.266 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-16 01:43:33.587 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-16 01:43:33.666 +07:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2024-04-16 01:43:33.667 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/swagger/favicon-32x32.png - 200 628 image/png 2414.4203ms
2024-04-16 01:43:33.674 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 2427.7444ms
2024-04-16 01:43:33.676 +07:00 [INF] Executed action FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation) in 13873.1672ms
2024-04-16 01:43:33.679 +07:00 [INF] Executed endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)'
2024-04-16 01:43:33.740 +07:00 [ERR] Value cannot be null. (Parameter 'uriString')
System.ArgumentNullException: Value cannot be null. (Parameter 'uriString')
   at System.ArgumentNullException.Throw(String paramName)
   at System.ArgumentNullException.ThrowIfNull(Object argument, String paramName)
   at System.Uri..ctor(String uriString)
   at FoodShop.Infrastructure.DependencyInjection.Extensions.ServiceCollectionExtensions.<>c__DisplayClass1_0.<AddMailServiceConfiguration>b__0(IServiceProvider services, HttpClient client)
   at Microsoft.Extensions.Http.DefaultHttpClientFactory.CreateClient(String name)
   at FoodShop.Infrastructure.EmailServices.EmailSender..ctor(IOptionsMonitor`1 mailSettings, IHttpClientFactory httpClientFactory)
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithFewArgs(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitIEnumerable(IEnumerableCallSite enumerableCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at MediatR.Wrappers.NotificationHandlerWrapperImpl`1.Handle(INotification notification, IServiceProvider serviceFactory, Func`4 publish, CancellationToken cancellationToken)
   at MediatR.Mediator.PublishNotification(INotification notification, CancellationToken cancellationToken)
   at MediatR.Mediator.Publish[TNotification](TNotification notification, CancellationToken cancellationToken)
   at FoodShop.Presentation.Controllers.V1.AuthenticationController.Register(RegisterRequest model) in C:\Users\hieud\Code\C#\FoodShop\FoodShop\src\FoodShop.Presentation\Controllers\V1\AuthenticationController.cs:line 53
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at FoodShop.API.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in C:\Users\hieud\Code\C#\FoodShop\FoodShop\src\FoodShop.API\Middleware\ExceptionHandlingMiddleware.cs:line 22
2024-04-16 01:43:33.783 +07:00 [DBG] 'ApplicationDbContext' disposed.
2024-04-16 01:43:33.790 +07:00 [DBG] Disposing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:43:33.790 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-04-16 01:43:33.791 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7286/api/v1/Authentication/register - 500 null application/json; ver=1 14110.2371ms
2024-04-16 01:45:46.357 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-04-16 01:45:47.034 +07:00 [DBG] The index {'ProductId'} was not created on entity type 'CartProduct' as the properties are already covered by the index {'ProductId', 'CartId'}.
2024-04-16 01:45:47.035 +07:00 [DBG] The index {'OrderId'} was not created on entity type 'OrderProduct' as the properties are already covered by the index {'OrderId', 'ProductId'}.
2024-04-16 01:45:47.036 +07:00 [DBG] The index {'ProductId'} was not created on entity type 'ProductCategory' as the properties are already covered by the index {'ProductId', 'CategoryId'}.
2024-04-16 01:45:47.036 +07:00 [DBG] The index {'RoleId'} was not created on entity type 'IdentityUserRole<Guid>' as the properties are already covered by the index {'RoleId', 'UserId'}.
2024-04-16 01:45:47.121 +07:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-04-16 01:45:47.140 +07:00 [DBG] The property 'IdentityUserToken<Guid>.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-04-16 01:45:47.167 +07:00 [WRN] No store type was specified for the decimal property 'Amout' on entity type 'Cart'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 01:45:47.167 +07:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'CartProduct'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 01:45:47.168 +07:00 [WRN] No store type was specified for the decimal property 'Amout' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 01:45:47.169 +07:00 [WRN] No store type was specified for the decimal property 'AmoutTotal' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 01:45:47.169 +07:00 [WRN] No store type was specified for the decimal property 'Discount' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 01:45:47.170 +07:00 [WRN] No store type was specified for the decimal property 'Shipping' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 01:45:47.170 +07:00 [WRN] No store type was specified for the decimal property 'Tax' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 01:45:47.171 +07:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'OrderProduct'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 01:45:47.171 +07:00 [WRN] No store type was specified for the decimal property 'Discount' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 01:45:47.172 +07:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 01:45:47.312 +07:00 [DBG] Entity Framework Core 8.0.4 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.3' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using lazy loading proxies QuerySplittingBehavior=SplitQuery MigrationsAssembly=FoodShop.Persistence 
2024-04-16 01:45:47.320 +07:00 [DBG] Creating DbConnection.
2024-04-16 01:45:47.375 +07:00 [DBG] Created DbConnection. (51ms).
2024-04-16 01:45:47.378 +07:00 [DBG] Migrating using database 'FoodShop' on server 'localhost'.
2024-04-16 01:45:47.385 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:45:47.627 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:45:47.632 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-04-16 01:45:47.639 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (5ms).
2024-04-16 01:45:47.641 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (10ms).
2024-04-16 01:45:47.649 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 01:45:47.669 +07:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 01:45:47.671 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:45:47.677 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (3ms).
2024-04-16 01:45:47.680 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-04-16 01:45:47.680 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 01:45:47.681 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 01:45:47.681 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:45:47.682 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:45:47.682 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 01:45:47.711 +07:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 01:45:47.711 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:45:47.712 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 01:45:47.714 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:45:47.714 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:45:47.714 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-04-16 01:45:47.715 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-04-16 01:45:47.715 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-04-16 01:45:47.715 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 01:45:47.717 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 01:45:47.718 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:45:47.718 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 01:45:47.719 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-04-16 01:45:47.719 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 01:45:47.719 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 01:45:47.719 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:45:47.720 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:45:47.720 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 01:45:47.721 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 01:45:47.722 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:45:47.722 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 01:45:47.738 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:45:47.739 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:45:47.739 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 01:45:47.739 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 01:45:47.740 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 01:45:47.740 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-16 01:45:47.746 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-16 01:45:47.749 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 01:45:47.750 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 3ms reading results.
2024-04-16 01:45:47.751 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:45:47.752 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 01:45:47.764 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-04-16 01:45:47.804 +07:00 [DBG] Compiling query expression: 
'DbSet<AppRole>()
    .Any()'
2024-04-16 01:45:47.940 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SplitQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AppRole AS a)), 
    ReaderColumn[] { ReaderColumn<bool> }, 
    Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, bool>, 
    null, 
    null, 
    FoodShop.Persistence.ApplicationDbContext, 
    False, 
    True, 
    True
)
    .Single()'
2024-04-16 01:45:47.961 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:45:47.962 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:45:47.962 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 01:45:47.962 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 01:45:47.962 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 01:45:47.962 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AppRole] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-04-16 01:45:47.975 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AppRole] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-04-16 01:45:47.986 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 01:45:47.986 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 1ms reading results.
2024-04-16 01:45:47.987 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:45:47.987 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 01:45:47.989 +07:00 [DBG] 'ApplicationDbContext' disposed.
2024-04-16 01:45:47.991 +07:00 [DBG] Disposing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:45:47.992 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-04-16 01:45:48.057 +07:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-04-16 01:45:48.125 +07:00 [DBG] Hosting starting
2024-04-16 01:45:48.151 +07:00 [INF] User profile is available. Using 'C:\Users\hieud\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-04-16 01:45:48.157 +07:00 [DBG] Reading data from file 'C:\Users\hieud\AppData\Local\ASP.NET\DataProtection-Keys\key-5b2baa0a-904f-4101-af08-7ac673b8db2c.xml'.
2024-04-16 01:45:48.165 +07:00 [DBG] Found key {5b2baa0a-904f-4101-af08-7ac673b8db2c}.
2024-04-16 01:45:48.177 +07:00 [DBG] Considering key {5b2baa0a-904f-4101-af08-7ac673b8db2c} with expiration date 2024-05-20 17:09:10Z as default key.
2024-04-16 01:45:48.183 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-04-16 01:45:48.184 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-04-16 01:45:48.187 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-04-16 01:45:48.190 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-04-16 01:45:48.194 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-04-16 01:45:48.199 +07:00 [DBG] Using key {5b2baa0a-904f-4101-af08-7ac673b8db2c} as the default key.
2024-04-16 01:45:48.201 +07:00 [DBG] Key ring with default key {5b2baa0a-904f-4101-af08-7ac673b8db2c} was loaded during application startup.
2024-04-16 01:45:48.434 +07:00 [INF] Now listening on: https://localhost:7286
2024-04-16 01:45:48.434 +07:00 [INF] Now listening on: http://localhost:5010
2024-04-16 01:45:48.435 +07:00 [DBG] Loaded hosting startup assembly FoodShop.API
2024-04-16 01:45:48.436 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-04-16 01:45:48.436 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-04-16 01:45:48.437 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-04-16 01:45:48.437 +07:00 [DBG] Connection id "0HN2TFH263PJR" accepted.
2024-04-16 01:45:48.439 +07:00 [DBG] Connection id "0HN2TFH263PJR" started.
2024-04-16 01:45:48.439 +07:00 [DBG] Connection id "0HN2TFH263PJR" received FIN.
2024-04-16 01:45:48.466 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-04-16 01:45:48.487 +07:00 [DBG] Connection id "0HN2TFH263PJR" stopped.
2024-04-16 01:45:48.490 +07:00 [DBG] Connection id "0HN2TFH263PJR" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-04-16 01:45:48.551 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-04-16 01:45:48.552 +07:00 [INF] Hosting environment: Development
2024-04-16 01:45:48.553 +07:00 [INF] Content root path: C:\Users\hieud\Code\C#\FoodShop\FoodShop\src\FoodShop.API
2024-04-16 01:45:48.553 +07:00 [DBG] Hosting started
2024-04-16 01:45:48.673 +07:00 [DBG] Connection id "0HN2TFH263PJS" accepted.
2024-04-16 01:45:48.674 +07:00 [DBG] Connection id "0HN2TFH263PJS" started.
2024-04-16 01:45:48.704 +07:00 [DBG] Connection 0HN2TFH263PJS established using the following protocol: "Tls13"
2024-04-16 01:45:48.765 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/swagger/index.html - null null
2024-04-16 01:45:48.912 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-04-16 01:45:48.958 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-04-16 01:45:48.959 +07:00 [DBG] Request did not match any endpoints
2024-04-16 01:45:49.033 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-16 01:45:49.078 +07:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-04-16 01:45:49.086 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-04-16 01:45:49.103 +07:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-04-16 01:45:49.104 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-04-16 01:45:49.108 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/swagger/index.html - 200 null text/html;charset=utf-8 348.3447ms
2024-04-16 01:45:49.118 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/_framework/aspnetcore-browser-refresh.js - null null
2024-04-16 01:45:49.123 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 5.4418ms
2024-04-16 01:45:49.151 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/_vs/browserLink - null null
2024-04-16 01:45:49.198 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/_vs/browserLink - 200 null text/javascript; charset=UTF-8 47.3394ms
2024-04-16 01:45:49.554 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/swagger/v1/swagger.json - null null
2024-04-16 01:45:49.554 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-04-16 01:45:49.554 +07:00 [DBG] Request did not match any endpoints
2024-04-16 01:45:49.557 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-16 01:45:49.690 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 136.9921ms
2024-04-16 01:46:09.564 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7286/api/v1.0/Authentication/register - application/json; ver=1.0 161
2024-04-16 01:46:09.602 +07:00 [DBG] 1 candidate(s) found for the request path '/api/v1.0/Authentication/register'
2024-04-16 01:46:09.605 +07:00 [DBG] Endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)' with route pattern 'api/v{version:apiVersion}/Authentication/register' is valid for the request path '/api/v1.0/Authentication/register'
2024-04-16 01:46:09.612 +07:00 [DBG] Request matched endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)'
2024-04-16 01:46:09.617 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-16 01:46:09.619 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-04-16 01:46:09.622 +07:00 [INF] Start request......!
2024-04-16 01:46:09.626 +07:00 [INF] Executing endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)'
2024-04-16 01:46:09.649 +07:00 [INF] Route matched with {action = "Register", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest) on controller FoodShop.Presentation.Controllers.V1.AuthenticationController (FoodShop.Presentation).
2024-04-16 01:46:09.651 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-04-16 01:46:09.651 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-04-16 01:46:09.652 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)","Asp.Versioning.ApplyContentTypeVersionActionFilter"]
2024-04-16 01:46:09.653 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-04-16 01:46:09.653 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-04-16 01:46:09.655 +07:00 [DBG] Executing controller factory for controller FoodShop.Presentation.Controllers.V1.AuthenticationController (FoodShop.Presentation)
2024-04-16 01:46:09.771 +07:00 [DBG] Executed controller factory for controller FoodShop.Presentation.Controllers.V1.AuthenticationController (FoodShop.Presentation)
2024-04-16 01:46:09.775 +07:00 [DBG] Attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest' ...
2024-04-16 01:46:09.777 +07:00 [DBG] Attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest' using the name '' in request data ...
2024-04-16 01:46:09.779 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json; ver=1.0'.
2024-04-16 01:46:09.783 +07:00 [DBG] Connection id "0HN2TFH263PJS", Request id "0HN2TFH263PJS:00000009": started reading request body.
2024-04-16 01:46:09.784 +07:00 [DBG] Connection id "0HN2TFH263PJS", Request id "0HN2TFH263PJS:00000009": done reading request body.
2024-04-16 01:46:09.789 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'
2024-04-16 01:46:09.790 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'.
2024-04-16 01:46:09.791 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'.
2024-04-16 01:46:09.791 +07:00 [DBG] Attempting to validate the bound parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest' ...
2024-04-16 01:46:09.801 +07:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'.
2024-04-16 01:46:12.804 +07:00 [DBG] Entity Framework Core 8.0.4 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.3' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using lazy loading proxies QuerySplittingBehavior=SplitQuery MigrationsAssembly=FoodShop.Persistence 
2024-04-16 01:46:12.813 +07:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2024-04-16 01:46:13.080 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppUser>(
    asyncEnumerable: new SplitQueryingEnumerable<AppUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AppUser.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: AppUser.AccessFailedCount (int) Required, 1], [Property: AppUser.Address (string), 2], [Property: AppUser.Avatar (string), 3], [Property: AppUser.ConcurrencyStamp (string), 4], [Property: AppUser.CreatedDate (DateTime) Required, 5], [Property: AppUser.Email (string), 6], [Property: AppUser.EmailConfirmed (bool) Required, 7], [Property: AppUser.Facebook (string), 8], [Property: AppUser.FirstName (string), 9], [Property: AppUser.LastName (string), 10], [Property: AppUser.LockoutEnabled (bool) Required, 11], [Property: AppUser.LockoutEnd (DateTimeOffset?), 12], [Property: AppUser.NormalizedEmail (string), 13], [Property: AppUser.NormalizedUserName (string), 14], [Property: AppUser.PasswordHash (string), 15], [Property: AppUser.PhoneNumber (string), 16], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 17], [Property: AppUser.SecurityStamp (string), 18], [Property: AppUser.TwoFactorEnabled (bool) Required, 19], [Property: AppUser.UpdateDate (DateTime) Required, 20], [Property: AppUser.UserName (string), 21] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.Address, a.Avatar, a.ConcurrencyStamp, a.CreatedDate, a.Email, a.EmailConfirmed, a.Facebook, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UpdateDate, a.UserName
            FROM AppUser AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<int>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<DateTime>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<DateTimeOffset>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<DateTime>, ReaderColumn<object> }, 
        Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, AppUser>, 
        null, 
        null, 
        FoodShop.Persistence.ApplicationDbContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-04-16 01:46:13.098 +07:00 [DBG] Creating DbConnection.
2024-04-16 01:46:13.099 +07:00 [DBG] Created DbConnection. (0ms).
2024-04-16 01:46:13.100 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:46:13.102 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:46:13.103 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 01:46:13.103 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 01:46:13.105 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-04-16 01:46:13.107 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='HIEUDEV623@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 01:46:13.149 +07:00 [INF] Executed DbCommand (43ms) [Parameters=[@__normalizedUserName_0='HIEUDEV623@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 01:46:13.185 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 01:46:13.185 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 9ms reading results.
2024-04-16 01:46:13.187 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:46:13.188 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 01:46:13.214 +07:00 [DBG] 'ApplicationDbContext' generated value '"d9ace8c3-8bd2-4e7b-578a-08dc5d7c5326"' for the property 'AppUser.Id'.
2024-04-16 01:46:13.294 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'AppUser' entity with key '{Id: d9ace8c3-8bd2-4e7b-578a-08dc5d7c5326}'.
2024-04-16 01:46:13.298 +07:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-04-16 01:46:13.301 +07:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-04-16 01:46:13.325 +07:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-04-16 01:46:13.394 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:46:13.395 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:46:13.397 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 01:46:13.398 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 01:46:13.399 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-04-16 01:46:13.402 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='d9ace8c3-8bd2-4e7b-578a-08dc5d7c5326', @p1='0', @p2=NULL (Size = 4000), @p3=NULL (Size = 4000), @p4='87edfb73-9b1f-40a5-a386-7da96840661c' (Size = 4000), @p5='0001-01-01T00:00:00.0000000', @p6='hieudev623@gmail.com' (Size = 4000), @p7='False', @p8=NULL (Size = 4000), @p9='string' (Size = 4000), @p10='string' (Size = 4000), @p11='True', @p12=NULL (DbType = DateTimeOffset), @p13='HIEUDEV623@GMAIL.COM' (Size = 4000), @p14='HIEUDEV623@GMAIL.COM' (Size = 4000), @p15='AQAAAAIAAYagAAAAEE8PVKS3mRhqZjFGAtzlftfiYMmZwv/IxFaRdY5HLgShwRzBYm423I9e9dpfxD9lrA==' (Size = 4000), @p16='string' (Size = 4000), @p17='False', @p18='5C7QUXEPEEJKOYZH55LRSXAQQKTMTX52' (Size = 4000), @p19='False', @p20='0001-01-01T00:00:00.0000000', @p21='hieudev623@gmail.com' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AppUser] ([Id], [AccessFailedCount], [Address], [Avatar], [ConcurrencyStamp], [CreatedDate], [Email], [EmailConfirmed], [Facebook], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UpdateDate], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21);
2024-04-16 01:46:13.417 +07:00 [INF] Executed DbCommand (18ms) [Parameters=[@p0='d9ace8c3-8bd2-4e7b-578a-08dc5d7c5326', @p1='0', @p2=NULL (Size = 4000), @p3=NULL (Size = 4000), @p4='87edfb73-9b1f-40a5-a386-7da96840661c' (Size = 4000), @p5='0001-01-01T00:00:00.0000000', @p6='hieudev623@gmail.com' (Size = 4000), @p7='False', @p8=NULL (Size = 4000), @p9='string' (Size = 4000), @p10='string' (Size = 4000), @p11='True', @p12=NULL (DbType = DateTimeOffset), @p13='HIEUDEV623@GMAIL.COM' (Size = 4000), @p14='HIEUDEV623@GMAIL.COM' (Size = 4000), @p15='AQAAAAIAAYagAAAAEE8PVKS3mRhqZjFGAtzlftfiYMmZwv/IxFaRdY5HLgShwRzBYm423I9e9dpfxD9lrA==' (Size = 4000), @p16='string' (Size = 4000), @p17='False', @p18='5C7QUXEPEEJKOYZH55LRSXAQQKTMTX52' (Size = 4000), @p19='False', @p20='0001-01-01T00:00:00.0000000', @p21='hieudev623@gmail.com' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AppUser] ([Id], [AccessFailedCount], [Address], [Avatar], [ConcurrencyStamp], [CreatedDate], [Email], [EmailConfirmed], [Facebook], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UpdateDate], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21);
2024-04-16 01:46:13.421 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 01:46:13.421 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 3ms reading results.
2024-04-16 01:46:13.423 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:46:13.423 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 01:46:13.429 +07:00 [DBG] The 'AppUser' entity with key '{Id: d9ace8c3-8bd2-4e7b-578a-08dc5d7c5326}' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'.
2024-04-16 01:46:13.432 +07:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-04-16 01:46:14.397 +07:00 [DBG] Compiling query expression: 
'DbSet<AppRole>()
    .SingleOrDefault(r => r.NormalizedName == __normalizedRoleName_0)'
2024-04-16 01:46:14.487 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppRole>(
    asyncEnumerable: new SplitQueryingEnumerable<AppRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AppRole.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: AppRole.ConcurrencyStamp (string), 1], [Property: AppRole.CreateBy (string), 2], [Property: AppRole.CreateDate (DateTime?), 3], [Property: AppRole.Description (string) Required MaxLength(250), 4], [Property: AppRole.Name (string), 5], [Property: AppRole.NormalizedName (string), 6], [Property: AppRole.RoleCode (string) Required MaxLength(50), 7], [Property: AppRole.UpdateBy (string), 8], [Property: AppRole.UpdateDate (DateTime?), 9] }
            SELECT TOP(2) a.Id, a.ConcurrencyStamp, a.CreateBy, a.CreateDate, a.Description, a.Name, a.NormalizedName, a.RoleCode, a.UpdateBy, a.UpdateDate
            FROM AppRole AS a
            WHERE a.NormalizedName == @__normalizedRoleName_0), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<DateTime>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<DateTime> }, 
        Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, AppRole>, 
        null, 
        null, 
        FoodShop.Persistence.ApplicationDbContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-04-16 01:46:14.490 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:46:14.491 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:46:14.491 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 01:46:14.491 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 01:46:14.492 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 01:46:14.492 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 01:46:14.495 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 01:46:14.550 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'AppRole' entity with key '{Id: 1ddacd3b-495b-4144-b828-3c9740ba1651}'.
2024-04-16 01:46:14.576 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 01:46:14.577 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 47ms reading results.
2024-04-16 01:46:14.577 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:46:14.578 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 01:46:14.593 +07:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<Guid>>()
    .FirstOrDefault(e => object.Equals(
        objA: EF.Property<object>(e, "RoleId"), 
        objB: __get_Item_0) && object.Equals(
        objA: EF.Property<object>(e, "UserId"), 
        objB: __get_Item_1))'
2024-04-16 01:46:14.704 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityUserRole<Guid>>(
    asyncEnumerable: new SplitQueryingEnumerable<IdentityUserRole<Guid>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUserRole<Guid>.RoleId (Guid) Required PK FK AfterSave:Throw, 0], [Property: IdentityUserRole<Guid>.UserId (Guid) Required PK FK Index AfterSave:Throw, 1] }
            SELECT TOP(1) a.RoleId, a.UserId
            FROM AppUserRole AS a
            WHERE (a.RoleId == @__get_Item_0) && (a.UserId == @__get_Item_1)), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<Guid> }, 
        Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, IdentityUserRole<Guid>>, 
        null, 
        null, 
        FoodShop.Persistence.ApplicationDbContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-04-16 01:46:14.708 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:46:14.709 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:46:14.709 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 01:46:14.709 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 01:46:14.710 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 01:46:14.710 +07:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='d9ace8c3-8bd2-4e7b-578a-08dc5d7c5326' (Nullable = true), @__get_Item_1='1ddacd3b-495b-4144-b828-3c9740ba1651' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[RoleId], [a].[UserId]
FROM [AppUserRole] AS [a]
WHERE [a].[RoleId] = @__get_Item_0 AND [a].[UserId] = @__get_Item_1
2024-04-16 01:46:14.725 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[@__get_Item_0='d9ace8c3-8bd2-4e7b-578a-08dc5d7c5326' (Nullable = true), @__get_Item_1='1ddacd3b-495b-4144-b828-3c9740ba1651' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[RoleId], [a].[UserId]
FROM [AppUserRole] AS [a]
WHERE [a].[RoleId] = @__get_Item_0 AND [a].[UserId] = @__get_Item_1
2024-04-16 01:46:14.727 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 01:46:14.727 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 0ms reading results.
2024-04-16 01:46:14.728 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:46:14.729 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 01:46:14.739 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:46:14.740 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:46:14.740 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 01:46:14.741 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 01:46:14.741 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-04-16 01:46:14.742 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 01:46:14.745 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 01:46:14.747 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 01:46:14.748 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 1ms reading results.
2024-04-16 01:46:14.749 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:46:14.750 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 01:46:14.789 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityUserRole' entity with key '{RoleId: 1ddacd3b-495b-4144-b828-3c9740ba1651, UserId: d9ace8c3-8bd2-4e7b-578a-08dc5d7c5326}'.
2024-04-16 01:46:14.792 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:46:14.792 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:46:14.793 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 01:46:14.793 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 01:46:14.793 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 01:46:14.794 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='HIEUDEV623@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 01:46:14.798 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='HIEUDEV623@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 01:46:14.803 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 01:46:14.803 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 0ms reading results.
2024-04-16 01:46:14.804 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:46:14.804 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 01:46:14.811 +07:00 [DBG] The 'AppUser' entity with key '{Id: d9ace8c3-8bd2-4e7b-578a-08dc5d7c5326}' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'.
2024-04-16 01:46:14.811 +07:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-04-16 01:46:14.812 +07:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-04-16 01:46:14.832 +07:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-04-16 01:46:14.848 +07:00 [DBG] Executing 2 update commands as a batch.
2024-04-16 01:46:14.850 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:46:14.850 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:46:14.852 +07:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-04-16 01:46:14.862 +07:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-04-16 01:46:14.864 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 01:46:14.865 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 01:46:14.867 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-04-16 01:46:14.868 +07:00 [DBG] Executing DbCommand [Parameters=[@p21='d9ace8c3-8bd2-4e7b-578a-08dc5d7c5326', @p0='0', @p1=NULL (Size = 4000), @p2=NULL (Size = 4000), @p3='8227c265-0f28-4817-803b-1ca4f140e32d' (Size = 4000), @p4='0001-01-01T00:00:00.0000000', @p5='hieudev623@gmail.com' (Size = 4000), @p6='False', @p7=NULL (Size = 4000), @p8='string' (Size = 4000), @p9='string' (Size = 4000), @p10='True', @p11=NULL (DbType = DateTimeOffset), @p12='HIEUDEV623@GMAIL.COM' (Size = 4000), @p13='HIEUDEV623@GMAIL.COM' (Size = 4000), @p14='AQAAAAIAAYagAAAAEE8PVKS3mRhqZjFGAtzlftfiYMmZwv/IxFaRdY5HLgShwRzBYm423I9e9dpfxD9lrA==' (Size = 4000), @p15='string' (Size = 4000), @p16='False', @p17='5C7QUXEPEEJKOYZH55LRSXAQQKTMTX52' (Size = 4000), @p18='False', @p19='0001-01-01T00:00:00.0000000', @p20='hieudev623@gmail.com' (Size = 4000), @p22='1ddacd3b-495b-4144-b828-3c9740ba1651', @p23='d9ace8c3-8bd2-4e7b-578a-08dc5d7c5326'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AppUser] SET [AccessFailedCount] = @p0, [Address] = @p1, [Avatar] = @p2, [ConcurrencyStamp] = @p3, [CreatedDate] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [Facebook] = @p7, [FirstName] = @p8, [LastName] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [SecurityStamp] = @p17, [TwoFactorEnabled] = @p18, [UpdateDate] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21;
INSERT INTO [AppUserRole] ([RoleId], [UserId])
VALUES (@p22, @p23);
2024-04-16 01:46:14.898 +07:00 [INF] Executed DbCommand (30ms) [Parameters=[@p21='d9ace8c3-8bd2-4e7b-578a-08dc5d7c5326', @p0='0', @p1=NULL (Size = 4000), @p2=NULL (Size = 4000), @p3='8227c265-0f28-4817-803b-1ca4f140e32d' (Size = 4000), @p4='0001-01-01T00:00:00.0000000', @p5='hieudev623@gmail.com' (Size = 4000), @p6='False', @p7=NULL (Size = 4000), @p8='string' (Size = 4000), @p9='string' (Size = 4000), @p10='True', @p11=NULL (DbType = DateTimeOffset), @p12='HIEUDEV623@GMAIL.COM' (Size = 4000), @p13='HIEUDEV623@GMAIL.COM' (Size = 4000), @p14='AQAAAAIAAYagAAAAEE8PVKS3mRhqZjFGAtzlftfiYMmZwv/IxFaRdY5HLgShwRzBYm423I9e9dpfxD9lrA==' (Size = 4000), @p15='string' (Size = 4000), @p16='False', @p17='5C7QUXEPEEJKOYZH55LRSXAQQKTMTX52' (Size = 4000), @p18='False', @p19='0001-01-01T00:00:00.0000000', @p20='hieudev623@gmail.com' (Size = 4000), @p22='1ddacd3b-495b-4144-b828-3c9740ba1651', @p23='d9ace8c3-8bd2-4e7b-578a-08dc5d7c5326'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AppUser] SET [AccessFailedCount] = @p0, [Address] = @p1, [Avatar] = @p2, [ConcurrencyStamp] = @p3, [CreatedDate] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [Facebook] = @p7, [FirstName] = @p8, [LastName] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [SecurityStamp] = @p17, [TwoFactorEnabled] = @p18, [UpdateDate] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21;
INSERT INTO [AppUserRole] ([RoleId], [UserId])
VALUES (@p22, @p23);
2024-04-16 01:46:14.901 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 01:46:14.902 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 2ms reading results.
2024-04-16 01:46:14.905 +07:00 [DBG] Committing transaction.
2024-04-16 01:46:14.910 +07:00 [DBG] Committed transaction.
2024-04-16 01:46:14.912 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:46:14.912 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 01:46:14.914 +07:00 [DBG] Disposing transaction.
2024-04-16 01:46:14.915 +07:00 [DBG] The 'IdentityUserRole' entity with key '{RoleId: 1ddacd3b-495b-4144-b828-3c9740ba1651, UserId: d9ace8c3-8bd2-4e7b-578a-08dc5d7c5326}' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'.
2024-04-16 01:46:14.915 +07:00 [DBG] The 'AppUser' entity with key '{Id: d9ace8c3-8bd2-4e7b-578a-08dc5d7c5326}' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'.
2024-04-16 01:46:14.916 +07:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 2 entities written to the database.
2024-04-16 01:46:18.818 +07:00 [INF] Executed action FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation) in 9162.1402ms
2024-04-16 01:46:18.820 +07:00 [INF] Executed endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)'
2024-04-16 01:46:18.881 +07:00 [ERR] Value cannot be null. (Parameter 'uriString')
System.ArgumentNullException: Value cannot be null. (Parameter 'uriString')
   at System.ArgumentNullException.Throw(String paramName)
   at System.ArgumentNullException.ThrowIfNull(Object argument, String paramName)
   at System.Uri..ctor(String uriString)
   at FoodShop.Infrastructure.DependencyInjection.Extensions.ServiceCollectionExtensions.<>c__DisplayClass1_0.<AddMailServiceConfiguration>b__0(IServiceProvider services, HttpClient client) in C:\Users\hieud\Code\C#\FoodShop\FoodShop\src\FoodShop.Infrastructure\DependencyInjection\Extensions\ServiceCollectionExtensions.cs:line 55
   at Microsoft.Extensions.Http.DefaultHttpClientFactory.CreateClient(String name)
   at FoodShop.Infrastructure.EmailServices.EmailSender..ctor(IOptionsMonitor`1 mailSettings, IHttpClientFactory httpClientFactory) in C:\Users\hieud\Code\C#\FoodShop\FoodShop\src\FoodShop.Infrastructure\EmailServices\EmailSender.cs:line 21
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithFewArgs(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitIEnumerable(IEnumerableCallSite enumerableCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at MediatR.Wrappers.NotificationHandlerWrapperImpl`1.Handle(INotification notification, IServiceProvider serviceFactory, Func`4 publish, CancellationToken cancellationToken)
   at MediatR.Mediator.PublishNotification(INotification notification, CancellationToken cancellationToken)
   at MediatR.Mediator.Publish[TNotification](TNotification notification, CancellationToken cancellationToken)
   at FoodShop.Presentation.Controllers.V1.AuthenticationController.Register(RegisterRequest model) in C:\Users\hieud\Code\C#\FoodShop\FoodShop\src\FoodShop.Presentation\Controllers\V1\AuthenticationController.cs:line 53
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at FoodShop.API.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in C:\Users\hieud\Code\C#\FoodShop\FoodShop\src\FoodShop.API\Middleware\ExceptionHandlingMiddleware.cs:line 22
2024-04-16 01:46:18.934 +07:00 [DBG] 'ApplicationDbContext' disposed.
2024-04-16 01:46:18.941 +07:00 [DBG] Disposing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:46:18.942 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-04-16 01:46:18.942 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7286/api/v1.0/Authentication/register - 500 null application/json; ver=1.0 9379.7233ms
2024-04-16 01:47:58.008 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-04-16 01:47:58.458 +07:00 [DBG] The index {'ProductId'} was not created on entity type 'CartProduct' as the properties are already covered by the index {'ProductId', 'CartId'}.
2024-04-16 01:47:58.459 +07:00 [DBG] The index {'OrderId'} was not created on entity type 'OrderProduct' as the properties are already covered by the index {'OrderId', 'ProductId'}.
2024-04-16 01:47:58.460 +07:00 [DBG] The index {'ProductId'} was not created on entity type 'ProductCategory' as the properties are already covered by the index {'ProductId', 'CategoryId'}.
2024-04-16 01:47:58.460 +07:00 [DBG] The index {'RoleId'} was not created on entity type 'IdentityUserRole<Guid>' as the properties are already covered by the index {'RoleId', 'UserId'}.
2024-04-16 01:47:58.554 +07:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-04-16 01:47:58.579 +07:00 [DBG] The property 'IdentityUserToken<Guid>.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-04-16 01:47:58.606 +07:00 [WRN] No store type was specified for the decimal property 'Amout' on entity type 'Cart'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 01:47:58.607 +07:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'CartProduct'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 01:47:58.608 +07:00 [WRN] No store type was specified for the decimal property 'Amout' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 01:47:58.608 +07:00 [WRN] No store type was specified for the decimal property 'AmoutTotal' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 01:47:58.609 +07:00 [WRN] No store type was specified for the decimal property 'Discount' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 01:47:58.609 +07:00 [WRN] No store type was specified for the decimal property 'Shipping' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 01:47:58.610 +07:00 [WRN] No store type was specified for the decimal property 'Tax' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 01:47:58.610 +07:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'OrderProduct'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 01:47:58.610 +07:00 [WRN] No store type was specified for the decimal property 'Discount' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 01:47:58.611 +07:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 01:47:58.759 +07:00 [DBG] Entity Framework Core 8.0.4 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.3' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using lazy loading proxies QuerySplittingBehavior=SplitQuery MigrationsAssembly=FoodShop.Persistence 
2024-04-16 01:47:58.764 +07:00 [DBG] Creating DbConnection.
2024-04-16 01:47:58.820 +07:00 [DBG] Created DbConnection. (51ms).
2024-04-16 01:47:58.826 +07:00 [DBG] Migrating using database 'FoodShop' on server 'localhost'.
2024-04-16 01:47:58.834 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:47:59.101 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:47:59.107 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-04-16 01:47:59.114 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (4ms).
2024-04-16 01:47:59.116 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (10ms).
2024-04-16 01:47:59.122 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 01:47:59.146 +07:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 01:47:59.148 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:47:59.156 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (5ms).
2024-04-16 01:47:59.160 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-04-16 01:47:59.160 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 01:47:59.160 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 01:47:59.160 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:47:59.162 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:47:59.162 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 01:47:59.177 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 01:47:59.177 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:47:59.178 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 01:47:59.179 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:47:59.179 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:47:59.180 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-04-16 01:47:59.180 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-04-16 01:47:59.180 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-04-16 01:47:59.180 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 01:47:59.182 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 01:47:59.182 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:47:59.183 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 01:47:59.183 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-04-16 01:47:59.183 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 01:47:59.183 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 01:47:59.184 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:47:59.184 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:47:59.184 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 01:47:59.185 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 01:47:59.185 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:47:59.186 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 01:47:59.197 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:47:59.197 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:47:59.197 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 01:47:59.198 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 01:47:59.198 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 01:47:59.199 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-16 01:47:59.213 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-16 01:47:59.218 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 01:47:59.221 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 5ms reading results.
2024-04-16 01:47:59.222 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:47:59.223 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 01:47:59.246 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-04-16 01:47:59.303 +07:00 [DBG] Compiling query expression: 
'DbSet<AppRole>()
    .Any()'
2024-04-16 01:47:59.487 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SplitQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AppRole AS a)), 
    ReaderColumn[] { ReaderColumn<bool> }, 
    Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, bool>, 
    null, 
    null, 
    FoodShop.Persistence.ApplicationDbContext, 
    False, 
    True, 
    True
)
    .Single()'
2024-04-16 01:47:59.509 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:47:59.510 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:47:59.510 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 01:47:59.510 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 01:47:59.510 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 01:47:59.510 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AppRole] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-04-16 01:47:59.513 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AppRole] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-04-16 01:47:59.524 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 01:47:59.525 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 2ms reading results.
2024-04-16 01:47:59.525 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:47:59.526 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 01:47:59.527 +07:00 [DBG] 'ApplicationDbContext' disposed.
2024-04-16 01:47:59.530 +07:00 [DBG] Disposing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:47:59.531 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-04-16 01:47:59.592 +07:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-04-16 01:47:59.662 +07:00 [DBG] Hosting starting
2024-04-16 01:47:59.683 +07:00 [INF] User profile is available. Using 'C:\Users\hieud\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-04-16 01:47:59.692 +07:00 [DBG] Reading data from file 'C:\Users\hieud\AppData\Local\ASP.NET\DataProtection-Keys\key-5b2baa0a-904f-4101-af08-7ac673b8db2c.xml'.
2024-04-16 01:47:59.698 +07:00 [DBG] Found key {5b2baa0a-904f-4101-af08-7ac673b8db2c}.
2024-04-16 01:47:59.711 +07:00 [DBG] Considering key {5b2baa0a-904f-4101-af08-7ac673b8db2c} with expiration date 2024-05-20 17:09:10Z as default key.
2024-04-16 01:47:59.718 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-04-16 01:47:59.719 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-04-16 01:47:59.721 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-04-16 01:47:59.723 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-04-16 01:47:59.726 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-04-16 01:47:59.730 +07:00 [DBG] Using key {5b2baa0a-904f-4101-af08-7ac673b8db2c} as the default key.
2024-04-16 01:47:59.731 +07:00 [DBG] Key ring with default key {5b2baa0a-904f-4101-af08-7ac673b8db2c} was loaded during application startup.
2024-04-16 01:47:59.961 +07:00 [INF] Now listening on: https://localhost:7286
2024-04-16 01:47:59.962 +07:00 [INF] Now listening on: http://localhost:5010
2024-04-16 01:47:59.962 +07:00 [DBG] Loaded hosting startup assembly FoodShop.API
2024-04-16 01:47:59.963 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-04-16 01:47:59.963 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-04-16 01:47:59.963 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-04-16 01:48:00.040 +07:00 [DBG] Connection id "0HN2TFI9D5V7D" accepted.
2024-04-16 01:48:00.042 +07:00 [DBG] Connection id "0HN2TFI9D5V7D" started.
2024-04-16 01:48:00.046 +07:00 [DBG] Connection id "0HN2TFI9D5V7D" received FIN.
2024-04-16 01:48:00.046 +07:00 [DBG] Connection id "0HN2TFI9D5V7E" received FIN.
2024-04-16 01:48:00.053 +07:00 [DBG] Connection id "0HN2TFI9D5V7E" accepted.
2024-04-16 01:48:00.055 +07:00 [DBG] Connection id "0HN2TFI9D5V7E" started.
2024-04-16 01:48:00.067 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-04-16 01:48:00.067 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-04-16 01:48:00.085 +07:00 [DBG] Connection id "0HN2TFI9D5V7D" stopped.
2024-04-16 01:48:00.085 +07:00 [DBG] Connection id "0HN2TFI9D5V7E" stopped.
2024-04-16 01:48:00.088 +07:00 [DBG] Connection id "0HN2TFI9D5V7D" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-04-16 01:48:00.088 +07:00 [DBG] Connection id "0HN2TFI9D5V7E" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-04-16 01:48:00.100 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-04-16 01:48:00.101 +07:00 [INF] Hosting environment: Development
2024-04-16 01:48:00.105 +07:00 [INF] Content root path: C:\Users\hieud\Code\C#\FoodShop\FoodShop\src\FoodShop.API
2024-04-16 01:48:00.106 +07:00 [DBG] Hosting started
2024-04-16 01:48:00.565 +07:00 [DBG] Connection id "0HN2TFI9D5V7F" accepted.
2024-04-16 01:48:00.566 +07:00 [DBG] Connection id "0HN2TFI9D5V7F" started.
2024-04-16 01:48:00.596 +07:00 [DBG] Connection 0HN2TFI9D5V7F established using the following protocol: "Tls13"
2024-04-16 01:48:00.655 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/swagger/index.html - null null
2024-04-16 01:48:00.765 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-04-16 01:48:00.832 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-04-16 01:48:00.833 +07:00 [DBG] Request did not match any endpoints
2024-04-16 01:48:00.891 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-16 01:48:00.936 +07:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-04-16 01:48:00.938 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-04-16 01:48:00.961 +07:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-04-16 01:48:00.962 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-04-16 01:48:00.967 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/swagger/index.html - 200 null text/html;charset=utf-8 318.7548ms
2024-04-16 01:48:00.978 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/_framework/aspnetcore-browser-refresh.js - null null
2024-04-16 01:48:00.986 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 8.5175ms
2024-04-16 01:48:01.023 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/_vs/browserLink - null null
2024-04-16 01:48:01.080 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/_vs/browserLink - 200 null text/javascript; charset=UTF-8 56.8624ms
2024-04-16 01:48:01.483 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/swagger/v1/swagger.json - null null
2024-04-16 01:48:01.484 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-04-16 01:48:01.484 +07:00 [DBG] Request did not match any endpoints
2024-04-16 01:48:01.486 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-16 01:48:01.587 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 104.2066ms
2024-04-16 01:48:23.921 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7286/api/v1/Authentication/register - application/json; ver=1.0 164
2024-04-16 01:48:23.949 +07:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Authentication/register'
2024-04-16 01:48:23.951 +07:00 [DBG] Endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)' with route pattern 'api/v{version:apiVersion}/Authentication/register' is valid for the request path '/api/v1/Authentication/register'
2024-04-16 01:48:23.956 +07:00 [DBG] Request matched endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)'
2024-04-16 01:48:23.959 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-16 01:48:23.961 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-04-16 01:48:23.963 +07:00 [INF] Start request......!
2024-04-16 01:48:23.965 +07:00 [INF] Executing endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)'
2024-04-16 01:48:23.984 +07:00 [INF] Route matched with {action = "Register", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest) on controller FoodShop.Presentation.Controllers.V1.AuthenticationController (FoodShop.Presentation).
2024-04-16 01:48:23.986 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-04-16 01:48:23.986 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-04-16 01:48:23.987 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)","Asp.Versioning.ApplyContentTypeVersionActionFilter"]
2024-04-16 01:48:23.987 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-04-16 01:48:23.988 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-04-16 01:48:23.990 +07:00 [DBG] Executing controller factory for controller FoodShop.Presentation.Controllers.V1.AuthenticationController (FoodShop.Presentation)
2024-04-16 01:48:24.072 +07:00 [DBG] Executed controller factory for controller FoodShop.Presentation.Controllers.V1.AuthenticationController (FoodShop.Presentation)
2024-04-16 01:48:24.076 +07:00 [DBG] Attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest' ...
2024-04-16 01:48:24.078 +07:00 [DBG] Attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest' using the name '' in request data ...
2024-04-16 01:48:24.080 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json; ver=1.0'.
2024-04-16 01:48:24.084 +07:00 [DBG] Connection id "0HN2TFI9D5V7F", Request id "0HN2TFI9D5V7F:00000009": started reading request body.
2024-04-16 01:48:24.084 +07:00 [DBG] Connection id "0HN2TFI9D5V7F", Request id "0HN2TFI9D5V7F:00000009": done reading request body.
2024-04-16 01:48:24.089 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'
2024-04-16 01:48:24.089 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'.
2024-04-16 01:48:24.090 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'.
2024-04-16 01:48:24.090 +07:00 [DBG] Attempting to validate the bound parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest' ...
2024-04-16 01:48:24.099 +07:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'.
2024-04-16 01:48:26.610 +07:00 [DBG] Entity Framework Core 8.0.4 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.3' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using lazy loading proxies QuerySplittingBehavior=SplitQuery MigrationsAssembly=FoodShop.Persistence 
2024-04-16 01:48:26.621 +07:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2024-04-16 01:48:26.952 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppUser>(
    asyncEnumerable: new SplitQueryingEnumerable<AppUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AppUser.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: AppUser.AccessFailedCount (int) Required, 1], [Property: AppUser.Address (string), 2], [Property: AppUser.Avatar (string), 3], [Property: AppUser.ConcurrencyStamp (string), 4], [Property: AppUser.CreatedDate (DateTime) Required, 5], [Property: AppUser.Email (string), 6], [Property: AppUser.EmailConfirmed (bool) Required, 7], [Property: AppUser.Facebook (string), 8], [Property: AppUser.FirstName (string), 9], [Property: AppUser.LastName (string), 10], [Property: AppUser.LockoutEnabled (bool) Required, 11], [Property: AppUser.LockoutEnd (DateTimeOffset?), 12], [Property: AppUser.NormalizedEmail (string), 13], [Property: AppUser.NormalizedUserName (string), 14], [Property: AppUser.PasswordHash (string), 15], [Property: AppUser.PhoneNumber (string), 16], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 17], [Property: AppUser.SecurityStamp (string), 18], [Property: AppUser.TwoFactorEnabled (bool) Required, 19], [Property: AppUser.UpdateDate (DateTime) Required, 20], [Property: AppUser.UserName (string), 21] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.Address, a.Avatar, a.ConcurrencyStamp, a.CreatedDate, a.Email, a.EmailConfirmed, a.Facebook, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UpdateDate, a.UserName
            FROM AppUser AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<int>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<DateTime>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<DateTimeOffset>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<DateTime>, ReaderColumn<object> }, 
        Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, AppUser>, 
        null, 
        null, 
        FoodShop.Persistence.ApplicationDbContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-04-16 01:48:26.971 +07:00 [DBG] Creating DbConnection.
2024-04-16 01:48:26.972 +07:00 [DBG] Created DbConnection. (0ms).
2024-04-16 01:48:26.974 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:48:26.977 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:48:26.978 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 01:48:26.978 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 01:48:26.983 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-04-16 01:48:26.986 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 01:48:27.069 +07:00 [INF] Executed DbCommand (85ms) [Parameters=[@__normalizedUserName_0='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 01:48:27.090 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 01:48:27.090 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 8ms reading results.
2024-04-16 01:48:27.093 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:48:27.094 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (1ms).
2024-04-16 01:48:27.132 +07:00 [DBG] 'ApplicationDbContext' generated value '"70b4e7a5-38f8-4ce7-7856-08dc5d7ca2f8"' for the property 'AppUser.Id'.
2024-04-16 01:48:27.240 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'AppUser' entity with key '{Id: 70b4e7a5-38f8-4ce7-7856-08dc5d7ca2f8}'.
2024-04-16 01:48:27.244 +07:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-04-16 01:48:27.247 +07:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-04-16 01:48:27.275 +07:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-04-16 01:48:27.397 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:48:27.398 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:48:27.403 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 01:48:27.403 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 01:48:27.404 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-04-16 01:48:27.406 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='70b4e7a5-38f8-4ce7-7856-08dc5d7ca2f8', @p1='0', @p2=NULL (Size = 4000), @p3=NULL (Size = 4000), @p4='b48ef772-7099-4f6b-a036-fda2d9956d49' (Size = 4000), @p5='0001-01-01T00:00:00.0000000', @p6='anhhieuqtqtqt@gmail.com' (Size = 4000), @p7='False', @p8=NULL (Size = 4000), @p9='string' (Size = 4000), @p10='string' (Size = 4000), @p11='True', @p12=NULL (DbType = DateTimeOffset), @p13='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000), @p14='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000), @p15='AQAAAAIAAYagAAAAEH3jFgMeuP8c2QPnAO8rpOj5/9X7gCNjww3eRJN8SIVXbPI+ZxIBBVYVfPu9OJF1Ag==' (Size = 4000), @p16='string' (Size = 4000), @p17='False', @p18='YTMYVWF3O4EERRQEUI6S52JI5GINR2WE' (Size = 4000), @p19='False', @p20='0001-01-01T00:00:00.0000000', @p21='anhhieuqtqtqt@gmail.com' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AppUser] ([Id], [AccessFailedCount], [Address], [Avatar], [ConcurrencyStamp], [CreatedDate], [Email], [EmailConfirmed], [Facebook], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UpdateDate], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21);
2024-04-16 01:48:27.422 +07:00 [INF] Executed DbCommand (17ms) [Parameters=[@p0='70b4e7a5-38f8-4ce7-7856-08dc5d7ca2f8', @p1='0', @p2=NULL (Size = 4000), @p3=NULL (Size = 4000), @p4='b48ef772-7099-4f6b-a036-fda2d9956d49' (Size = 4000), @p5='0001-01-01T00:00:00.0000000', @p6='anhhieuqtqtqt@gmail.com' (Size = 4000), @p7='False', @p8=NULL (Size = 4000), @p9='string' (Size = 4000), @p10='string' (Size = 4000), @p11='True', @p12=NULL (DbType = DateTimeOffset), @p13='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000), @p14='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000), @p15='AQAAAAIAAYagAAAAEH3jFgMeuP8c2QPnAO8rpOj5/9X7gCNjww3eRJN8SIVXbPI+ZxIBBVYVfPu9OJF1Ag==' (Size = 4000), @p16='string' (Size = 4000), @p17='False', @p18='YTMYVWF3O4EERRQEUI6S52JI5GINR2WE' (Size = 4000), @p19='False', @p20='0001-01-01T00:00:00.0000000', @p21='anhhieuqtqtqt@gmail.com' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AppUser] ([Id], [AccessFailedCount], [Address], [Avatar], [ConcurrencyStamp], [CreatedDate], [Email], [EmailConfirmed], [Facebook], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UpdateDate], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21);
2024-04-16 01:48:27.426 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 01:48:27.426 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 3ms reading results.
2024-04-16 01:48:27.428 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:48:27.429 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 01:48:27.437 +07:00 [DBG] The 'AppUser' entity with key '{Id: 70b4e7a5-38f8-4ce7-7856-08dc5d7ca2f8}' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'.
2024-04-16 01:48:27.439 +07:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-04-16 01:48:29.484 +07:00 [DBG] Compiling query expression: 
'DbSet<AppRole>()
    .SingleOrDefault(r => r.NormalizedName == __normalizedRoleName_0)'
2024-04-16 01:48:29.556 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppRole>(
    asyncEnumerable: new SplitQueryingEnumerable<AppRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AppRole.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: AppRole.ConcurrencyStamp (string), 1], [Property: AppRole.CreateBy (string), 2], [Property: AppRole.CreateDate (DateTime?), 3], [Property: AppRole.Description (string) Required MaxLength(250), 4], [Property: AppRole.Name (string), 5], [Property: AppRole.NormalizedName (string), 6], [Property: AppRole.RoleCode (string) Required MaxLength(50), 7], [Property: AppRole.UpdateBy (string), 8], [Property: AppRole.UpdateDate (DateTime?), 9] }
            SELECT TOP(2) a.Id, a.ConcurrencyStamp, a.CreateBy, a.CreateDate, a.Description, a.Name, a.NormalizedName, a.RoleCode, a.UpdateBy, a.UpdateDate
            FROM AppRole AS a
            WHERE a.NormalizedName == @__normalizedRoleName_0), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<DateTime>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<DateTime> }, 
        Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, AppRole>, 
        null, 
        null, 
        FoodShop.Persistence.ApplicationDbContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-04-16 01:48:29.558 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:48:29.558 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:48:29.559 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 01:48:29.559 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 01:48:29.559 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 01:48:29.560 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 01:48:29.584 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 01:48:29.614 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'AppRole' entity with key '{Id: 1ddacd3b-495b-4144-b828-3c9740ba1651}'.
2024-04-16 01:48:29.632 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 01:48:29.632 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 37ms reading results.
2024-04-16 01:48:29.633 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:48:29.633 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 01:48:29.644 +07:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<Guid>>()
    .FirstOrDefault(e => object.Equals(
        objA: EF.Property<object>(e, "RoleId"), 
        objB: __get_Item_0) && object.Equals(
        objA: EF.Property<object>(e, "UserId"), 
        objB: __get_Item_1))'
2024-04-16 01:48:29.710 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityUserRole<Guid>>(
    asyncEnumerable: new SplitQueryingEnumerable<IdentityUserRole<Guid>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUserRole<Guid>.RoleId (Guid) Required PK FK AfterSave:Throw, 0], [Property: IdentityUserRole<Guid>.UserId (Guid) Required PK FK Index AfterSave:Throw, 1] }
            SELECT TOP(1) a.RoleId, a.UserId
            FROM AppUserRole AS a
            WHERE (a.RoleId == @__get_Item_0) && (a.UserId == @__get_Item_1)), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<Guid> }, 
        Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, IdentityUserRole<Guid>>, 
        null, 
        null, 
        FoodShop.Persistence.ApplicationDbContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-04-16 01:48:29.716 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:48:29.717 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:48:29.717 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 01:48:29.717 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 01:48:29.718 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 01:48:29.718 +07:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='70b4e7a5-38f8-4ce7-7856-08dc5d7ca2f8' (Nullable = true), @__get_Item_1='1ddacd3b-495b-4144-b828-3c9740ba1651' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[RoleId], [a].[UserId]
FROM [AppUserRole] AS [a]
WHERE [a].[RoleId] = @__get_Item_0 AND [a].[UserId] = @__get_Item_1
2024-04-16 01:48:29.722 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='70b4e7a5-38f8-4ce7-7856-08dc5d7ca2f8' (Nullable = true), @__get_Item_1='1ddacd3b-495b-4144-b828-3c9740ba1651' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[RoleId], [a].[UserId]
FROM [AppUserRole] AS [a]
WHERE [a].[RoleId] = @__get_Item_0 AND [a].[UserId] = @__get_Item_1
2024-04-16 01:48:29.724 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 01:48:29.724 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 0ms reading results.
2024-04-16 01:48:29.725 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:48:29.725 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 01:48:29.736 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:48:29.737 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:48:29.737 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 01:48:29.738 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 01:48:29.739 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-04-16 01:48:29.740 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 01:48:29.743 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 01:48:29.745 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 01:48:29.746 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 1ms reading results.
2024-04-16 01:48:29.747 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:48:29.747 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 01:48:29.790 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityUserRole' entity with key '{RoleId: 1ddacd3b-495b-4144-b828-3c9740ba1651, UserId: 70b4e7a5-38f8-4ce7-7856-08dc5d7ca2f8}'.
2024-04-16 01:48:29.793 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:48:29.794 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:48:29.794 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 01:48:29.795 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 01:48:29.795 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 01:48:29.795 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 01:48:29.799 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 01:48:29.803 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 01:48:29.803 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 0ms reading results.
2024-04-16 01:48:29.804 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:48:29.805 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 01:48:29.815 +07:00 [DBG] The 'AppUser' entity with key '{Id: 70b4e7a5-38f8-4ce7-7856-08dc5d7ca2f8}' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'.
2024-04-16 01:48:29.816 +07:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-04-16 01:48:29.817 +07:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-04-16 01:48:29.839 +07:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-04-16 01:48:29.864 +07:00 [DBG] Executing 2 update commands as a batch.
2024-04-16 01:48:29.868 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:48:29.869 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:48:29.872 +07:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-04-16 01:48:29.886 +07:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-04-16 01:48:29.888 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 01:48:29.889 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 01:48:29.892 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-04-16 01:48:29.892 +07:00 [DBG] Executing DbCommand [Parameters=[@p21='70b4e7a5-38f8-4ce7-7856-08dc5d7ca2f8', @p0='0', @p1=NULL (Size = 4000), @p2=NULL (Size = 4000), @p3='0b2c495d-2fcc-436b-89c7-089f98bd7555' (Size = 4000), @p4='0001-01-01T00:00:00.0000000', @p5='anhhieuqtqtqt@gmail.com' (Size = 4000), @p6='False', @p7=NULL (Size = 4000), @p8='string' (Size = 4000), @p9='string' (Size = 4000), @p10='True', @p11=NULL (DbType = DateTimeOffset), @p12='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000), @p13='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000), @p14='AQAAAAIAAYagAAAAEH3jFgMeuP8c2QPnAO8rpOj5/9X7gCNjww3eRJN8SIVXbPI+ZxIBBVYVfPu9OJF1Ag==' (Size = 4000), @p15='string' (Size = 4000), @p16='False', @p17='YTMYVWF3O4EERRQEUI6S52JI5GINR2WE' (Size = 4000), @p18='False', @p19='0001-01-01T00:00:00.0000000', @p20='anhhieuqtqtqt@gmail.com' (Size = 4000), @p22='1ddacd3b-495b-4144-b828-3c9740ba1651', @p23='70b4e7a5-38f8-4ce7-7856-08dc5d7ca2f8'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AppUser] SET [AccessFailedCount] = @p0, [Address] = @p1, [Avatar] = @p2, [ConcurrencyStamp] = @p3, [CreatedDate] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [Facebook] = @p7, [FirstName] = @p8, [LastName] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [SecurityStamp] = @p17, [TwoFactorEnabled] = @p18, [UpdateDate] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21;
INSERT INTO [AppUserRole] ([RoleId], [UserId])
VALUES (@p22, @p23);
2024-04-16 01:48:29.917 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[@p21='70b4e7a5-38f8-4ce7-7856-08dc5d7ca2f8', @p0='0', @p1=NULL (Size = 4000), @p2=NULL (Size = 4000), @p3='0b2c495d-2fcc-436b-89c7-089f98bd7555' (Size = 4000), @p4='0001-01-01T00:00:00.0000000', @p5='anhhieuqtqtqt@gmail.com' (Size = 4000), @p6='False', @p7=NULL (Size = 4000), @p8='string' (Size = 4000), @p9='string' (Size = 4000), @p10='True', @p11=NULL (DbType = DateTimeOffset), @p12='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000), @p13='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000), @p14='AQAAAAIAAYagAAAAEH3jFgMeuP8c2QPnAO8rpOj5/9X7gCNjww3eRJN8SIVXbPI+ZxIBBVYVfPu9OJF1Ag==' (Size = 4000), @p15='string' (Size = 4000), @p16='False', @p17='YTMYVWF3O4EERRQEUI6S52JI5GINR2WE' (Size = 4000), @p18='False', @p19='0001-01-01T00:00:00.0000000', @p20='anhhieuqtqtqt@gmail.com' (Size = 4000), @p22='1ddacd3b-495b-4144-b828-3c9740ba1651', @p23='70b4e7a5-38f8-4ce7-7856-08dc5d7ca2f8'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AppUser] SET [AccessFailedCount] = @p0, [Address] = @p1, [Avatar] = @p2, [ConcurrencyStamp] = @p3, [CreatedDate] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [Facebook] = @p7, [FirstName] = @p8, [LastName] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [SecurityStamp] = @p17, [TwoFactorEnabled] = @p18, [UpdateDate] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21;
INSERT INTO [AppUserRole] ([RoleId], [UserId])
VALUES (@p22, @p23);
2024-04-16 01:48:29.920 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 01:48:29.921 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 2ms reading results.
2024-04-16 01:48:29.924 +07:00 [DBG] Committing transaction.
2024-04-16 01:48:29.930 +07:00 [DBG] Committed transaction.
2024-04-16 01:48:29.933 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:48:29.933 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 01:48:29.936 +07:00 [DBG] Disposing transaction.
2024-04-16 01:48:29.937 +07:00 [DBG] The 'IdentityUserRole' entity with key '{RoleId: 1ddacd3b-495b-4144-b828-3c9740ba1651, UserId: 70b4e7a5-38f8-4ce7-7856-08dc5d7ca2f8}' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'.
2024-04-16 01:48:29.938 +07:00 [DBG] The 'AppUser' entity with key '{Id: 70b4e7a5-38f8-4ce7-7856-08dc5d7ca2f8}' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'.
2024-04-16 01:48:29.939 +07:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 2 entities written to the database.
2024-04-16 01:48:35.491 +07:00 [INF] Executed action FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation) in 11500.4973ms
2024-04-16 01:48:35.493 +07:00 [INF] Executed endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)'
2024-04-16 01:48:35.556 +07:00 [ERR] Value cannot be null. (Parameter 'uriString')
System.ArgumentNullException: Value cannot be null. (Parameter 'uriString')
   at System.ArgumentNullException.Throw(String paramName)
   at System.ArgumentNullException.ThrowIfNull(Object argument, String paramName)
   at System.Uri..ctor(String uriString)
   at FoodShop.Infrastructure.DependencyInjection.Extensions.ServiceCollectionExtensions.<>c__DisplayClass1_0.<AddMailServiceConfiguration>b__0(IServiceProvider services, HttpClient client) in C:\Users\hieud\Code\C#\FoodShop\FoodShop\src\FoodShop.Infrastructure\DependencyInjection\Extensions\ServiceCollectionExtensions.cs:line 55
   at Microsoft.Extensions.Http.DefaultHttpClientFactory.CreateClient(String name)
   at FoodShop.Infrastructure.EmailServices.EmailSender..ctor(IOptionsMonitor`1 mailSettings, IHttpClientFactory httpClientFactory) in C:\Users\hieud\Code\C#\FoodShop\FoodShop\src\FoodShop.Infrastructure\EmailServices\EmailSender.cs:line 21
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithFewArgs(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitIEnumerable(IEnumerableCallSite enumerableCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at MediatR.Wrappers.NotificationHandlerWrapperImpl`1.Handle(INotification notification, IServiceProvider serviceFactory, Func`4 publish, CancellationToken cancellationToken)
   at MediatR.Mediator.PublishNotification(INotification notification, CancellationToken cancellationToken)
   at MediatR.Mediator.Publish[TNotification](TNotification notification, CancellationToken cancellationToken)
   at FoodShop.Presentation.Controllers.V1.AuthenticationController.Register(RegisterRequest model) in C:\Users\hieud\Code\C#\FoodShop\FoodShop\src\FoodShop.Presentation\Controllers\V1\AuthenticationController.cs:line 53
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at FoodShop.API.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in C:\Users\hieud\Code\C#\FoodShop\FoodShop\src\FoodShop.API\Middleware\ExceptionHandlingMiddleware.cs:line 22
2024-04-16 01:48:35.579 +07:00 [DBG] 'ApplicationDbContext' disposed.
2024-04-16 01:48:35.584 +07:00 [DBG] Disposing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:48:35.585 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-04-16 01:48:35.586 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7286/api/v1/Authentication/register - 500 null application/json; ver=1 11665.2494ms
2024-04-16 01:49:17.628 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-04-16 01:49:18.327 +07:00 [DBG] The index {'ProductId'} was not created on entity type 'CartProduct' as the properties are already covered by the index {'ProductId', 'CartId'}.
2024-04-16 01:49:18.328 +07:00 [DBG] The index {'OrderId'} was not created on entity type 'OrderProduct' as the properties are already covered by the index {'OrderId', 'ProductId'}.
2024-04-16 01:49:18.329 +07:00 [DBG] The index {'ProductId'} was not created on entity type 'ProductCategory' as the properties are already covered by the index {'ProductId', 'CategoryId'}.
2024-04-16 01:49:18.329 +07:00 [DBG] The index {'RoleId'} was not created on entity type 'IdentityUserRole<Guid>' as the properties are already covered by the index {'RoleId', 'UserId'}.
2024-04-16 01:49:18.442 +07:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-04-16 01:49:18.472 +07:00 [DBG] The property 'IdentityUserToken<Guid>.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-04-16 01:49:18.499 +07:00 [WRN] No store type was specified for the decimal property 'Amout' on entity type 'Cart'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 01:49:18.500 +07:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'CartProduct'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 01:49:18.500 +07:00 [WRN] No store type was specified for the decimal property 'Amout' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 01:49:18.501 +07:00 [WRN] No store type was specified for the decimal property 'AmoutTotal' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 01:49:18.501 +07:00 [WRN] No store type was specified for the decimal property 'Discount' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 01:49:18.502 +07:00 [WRN] No store type was specified for the decimal property 'Shipping' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 01:49:18.502 +07:00 [WRN] No store type was specified for the decimal property 'Tax' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 01:49:18.503 +07:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'OrderProduct'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 01:49:18.504 +07:00 [WRN] No store type was specified for the decimal property 'Discount' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 01:49:18.504 +07:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 01:49:18.657 +07:00 [DBG] Entity Framework Core 8.0.4 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.3' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using lazy loading proxies QuerySplittingBehavior=SplitQuery MigrationsAssembly=FoodShop.Persistence 
2024-04-16 01:49:18.666 +07:00 [DBG] Creating DbConnection.
2024-04-16 01:49:18.724 +07:00 [DBG] Created DbConnection. (55ms).
2024-04-16 01:49:18.728 +07:00 [DBG] Migrating using database 'FoodShop' on server 'localhost'.
2024-04-16 01:49:18.735 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:49:18.979 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:49:18.988 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-04-16 01:49:18.999 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (9ms).
2024-04-16 01:49:19.003 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (18ms).
2024-04-16 01:49:19.016 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 01:49:19.062 +07:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 01:49:19.066 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:49:19.080 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (9ms).
2024-04-16 01:49:19.083 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-04-16 01:49:19.083 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 01:49:19.083 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 01:49:19.083 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:49:19.084 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:49:19.084 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 01:49:19.102 +07:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 01:49:19.103 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:49:19.104 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (1ms).
2024-04-16 01:49:19.106 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:49:19.107 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:49:19.107 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-04-16 01:49:19.107 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-04-16 01:49:19.107 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-04-16 01:49:19.108 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 01:49:19.110 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 01:49:19.110 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:49:19.110 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 01:49:19.111 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-04-16 01:49:19.111 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 01:49:19.111 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 01:49:19.111 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:49:19.112 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:49:19.112 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 01:49:19.113 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 01:49:19.114 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:49:19.114 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 01:49:19.130 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:49:19.133 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:49:19.133 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 01:49:19.133 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 01:49:19.134 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 01:49:19.134 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-16 01:49:19.139 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-16 01:49:19.143 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 01:49:19.145 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 3ms reading results.
2024-04-16 01:49:19.146 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:49:19.146 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 01:49:19.156 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-04-16 01:49:19.197 +07:00 [DBG] Compiling query expression: 
'DbSet<AppRole>()
    .Any()'
2024-04-16 01:49:19.350 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SplitQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AppRole AS a)), 
    ReaderColumn[] { ReaderColumn<bool> }, 
    Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, bool>, 
    null, 
    null, 
    FoodShop.Persistence.ApplicationDbContext, 
    False, 
    True, 
    True
)
    .Single()'
2024-04-16 01:49:19.407 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:49:19.408 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:49:19.408 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 01:49:19.408 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 01:49:19.409 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 01:49:19.409 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AppRole] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-04-16 01:49:19.412 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AppRole] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-04-16 01:49:19.430 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 01:49:19.431 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 2ms reading results.
2024-04-16 01:49:19.431 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:49:19.432 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 01:49:19.435 +07:00 [DBG] 'ApplicationDbContext' disposed.
2024-04-16 01:49:19.438 +07:00 [DBG] Disposing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:49:19.440 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-04-16 01:49:19.562 +07:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-04-16 01:49:19.671 +07:00 [DBG] Hosting starting
2024-04-16 01:49:20.002 +07:00 [INF] User profile is available. Using 'C:\Users\hieud\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-04-16 01:49:20.010 +07:00 [DBG] Reading data from file 'C:\Users\hieud\AppData\Local\ASP.NET\DataProtection-Keys\key-5b2baa0a-904f-4101-af08-7ac673b8db2c.xml'.
2024-04-16 01:49:20.017 +07:00 [DBG] Found key {5b2baa0a-904f-4101-af08-7ac673b8db2c}.
2024-04-16 01:49:20.024 +07:00 [DBG] Considering key {5b2baa0a-904f-4101-af08-7ac673b8db2c} with expiration date 2024-05-20 17:09:10Z as default key.
2024-04-16 01:49:20.029 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-04-16 01:49:20.030 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-04-16 01:49:20.034 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-04-16 01:49:20.038 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-04-16 01:49:20.044 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-04-16 01:49:20.052 +07:00 [DBG] Using key {5b2baa0a-904f-4101-af08-7ac673b8db2c} as the default key.
2024-04-16 01:49:20.054 +07:00 [DBG] Key ring with default key {5b2baa0a-904f-4101-af08-7ac673b8db2c} was loaded during application startup.
2024-04-16 01:49:20.228 +07:00 [INF] Now listening on: https://localhost:7286
2024-04-16 01:49:20.228 +07:00 [INF] Now listening on: http://localhost:5010
2024-04-16 01:49:20.229 +07:00 [DBG] Loaded hosting startup assembly FoodShop.API
2024-04-16 01:49:20.229 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-04-16 01:49:20.229 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-04-16 01:49:20.230 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-04-16 01:49:20.304 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-04-16 01:49:20.304 +07:00 [INF] Hosting environment: Development
2024-04-16 01:49:20.304 +07:00 [INF] Content root path: C:\Users\hieud\Code\C#\FoodShop\FoodShop\src\FoodShop.API
2024-04-16 01:49:20.305 +07:00 [DBG] Hosting started
2024-04-16 01:49:20.681 +07:00 [DBG] Connection id "0HN2TFJ1E7KND" accepted.
2024-04-16 01:49:20.682 +07:00 [DBG] Connection id "0HN2TFJ1E7KND" started.
2024-04-16 01:49:20.686 +07:00 [DBG] Connection id "0HN2TFJ1E7KNE" accepted.
2024-04-16 01:49:20.686 +07:00 [DBG] Connection id "0HN2TFJ1E7KNE" started.
2024-04-16 01:49:20.719 +07:00 [DBG] Connection id "0HN2TFJ1E7KND" received FIN.
2024-04-16 01:49:20.719 +07:00 [DBG] Connection id "0HN2TFJ1E7KNE" received FIN.
2024-04-16 01:49:20.733 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-04-16 01:49:20.733 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-04-16 01:49:20.752 +07:00 [DBG] Connection id "0HN2TFJ1E7KNE" stopped.
2024-04-16 01:49:20.752 +07:00 [DBG] Connection id "0HN2TFJ1E7KND" stopped.
2024-04-16 01:49:20.755 +07:00 [DBG] Connection id "0HN2TFJ1E7KND" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-04-16 01:49:20.755 +07:00 [DBG] Connection id "0HN2TFJ1E7KNE" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-04-16 01:49:20.953 +07:00 [DBG] Connection id "0HN2TFJ1E7KNF" accepted.
2024-04-16 01:49:20.953 +07:00 [DBG] Connection id "0HN2TFJ1E7KNF" started.
2024-04-16 01:49:20.986 +07:00 [DBG] Connection 0HN2TFJ1E7KNF established using the following protocol: "Tls13"
2024-04-16 01:49:21.038 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/swagger/index.html - null null
2024-04-16 01:49:21.132 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-04-16 01:49:21.182 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-04-16 01:49:21.183 +07:00 [DBG] Request did not match any endpoints
2024-04-16 01:49:21.233 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-16 01:49:21.294 +07:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-04-16 01:49:21.297 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-04-16 01:49:21.318 +07:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-04-16 01:49:21.318 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-04-16 01:49:21.322 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/swagger/index.html - 200 null text/html;charset=utf-8 288.6918ms
2024-04-16 01:49:21.330 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/_framework/aspnetcore-browser-refresh.js - null null
2024-04-16 01:49:21.336 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 6.1536ms
2024-04-16 01:49:21.375 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/_vs/browserLink - null null
2024-04-16 01:49:21.428 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/_vs/browserLink - 200 null text/javascript; charset=UTF-8 53.4236ms
2024-04-16 01:49:21.755 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/swagger/v1/swagger.json - null null
2024-04-16 01:49:21.756 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-04-16 01:49:21.756 +07:00 [DBG] Request did not match any endpoints
2024-04-16 01:49:21.758 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-16 01:49:21.898 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 142.9146ms
2024-04-16 01:49:33.100 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7286/api/v1/Authentication/register - application/json; ver=1.0 164
2024-04-16 01:49:33.140 +07:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Authentication/register'
2024-04-16 01:49:33.143 +07:00 [DBG] Endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)' with route pattern 'api/v{version:apiVersion}/Authentication/register' is valid for the request path '/api/v1/Authentication/register'
2024-04-16 01:49:33.150 +07:00 [DBG] Request matched endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)'
2024-04-16 01:49:33.154 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-16 01:49:33.156 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-04-16 01:49:33.158 +07:00 [INF] Start request......!
2024-04-16 01:49:33.162 +07:00 [INF] Executing endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)'
2024-04-16 01:49:33.199 +07:00 [INF] Route matched with {action = "Register", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest) on controller FoodShop.Presentation.Controllers.V1.AuthenticationController (FoodShop.Presentation).
2024-04-16 01:49:33.204 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-04-16 01:49:33.205 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-04-16 01:49:33.206 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)","Asp.Versioning.ApplyContentTypeVersionActionFilter"]
2024-04-16 01:49:33.207 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-04-16 01:49:33.208 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-04-16 01:49:33.213 +07:00 [DBG] Executing controller factory for controller FoodShop.Presentation.Controllers.V1.AuthenticationController (FoodShop.Presentation)
2024-04-16 01:49:33.414 +07:00 [DBG] Executed controller factory for controller FoodShop.Presentation.Controllers.V1.AuthenticationController (FoodShop.Presentation)
2024-04-16 01:49:33.423 +07:00 [DBG] Attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest' ...
2024-04-16 01:49:33.427 +07:00 [DBG] Attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest' using the name '' in request data ...
2024-04-16 01:49:33.429 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json; ver=1.0'.
2024-04-16 01:49:33.437 +07:00 [DBG] Connection id "0HN2TFJ1E7KNF", Request id "0HN2TFJ1E7KNF:00000009": started reading request body.
2024-04-16 01:49:33.438 +07:00 [DBG] Connection id "0HN2TFJ1E7KNF", Request id "0HN2TFJ1E7KNF:00000009": done reading request body.
2024-04-16 01:49:33.444 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'
2024-04-16 01:49:33.445 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'.
2024-04-16 01:49:33.445 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'.
2024-04-16 01:49:33.446 +07:00 [DBG] Attempting to validate the bound parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest' ...
2024-04-16 01:49:33.456 +07:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'.
2024-04-16 01:49:38.314 +07:00 [DBG] Entity Framework Core 8.0.4 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.3' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using lazy loading proxies QuerySplittingBehavior=SplitQuery MigrationsAssembly=FoodShop.Persistence 
2024-04-16 01:49:38.325 +07:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2024-04-16 01:49:38.632 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppUser>(
    asyncEnumerable: new SplitQueryingEnumerable<AppUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AppUser.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: AppUser.AccessFailedCount (int) Required, 1], [Property: AppUser.Address (string), 2], [Property: AppUser.Avatar (string), 3], [Property: AppUser.ConcurrencyStamp (string), 4], [Property: AppUser.CreatedDate (DateTime) Required, 5], [Property: AppUser.Email (string), 6], [Property: AppUser.EmailConfirmed (bool) Required, 7], [Property: AppUser.Facebook (string), 8], [Property: AppUser.FirstName (string), 9], [Property: AppUser.LastName (string), 10], [Property: AppUser.LockoutEnabled (bool) Required, 11], [Property: AppUser.LockoutEnd (DateTimeOffset?), 12], [Property: AppUser.NormalizedEmail (string), 13], [Property: AppUser.NormalizedUserName (string), 14], [Property: AppUser.PasswordHash (string), 15], [Property: AppUser.PhoneNumber (string), 16], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 17], [Property: AppUser.SecurityStamp (string), 18], [Property: AppUser.TwoFactorEnabled (bool) Required, 19], [Property: AppUser.UpdateDate (DateTime) Required, 20], [Property: AppUser.UserName (string), 21] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.Address, a.Avatar, a.ConcurrencyStamp, a.CreatedDate, a.Email, a.EmailConfirmed, a.Facebook, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UpdateDate, a.UserName
            FROM AppUser AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<int>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<DateTime>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<DateTimeOffset>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<DateTime>, ReaderColumn<object> }, 
        Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, AppUser>, 
        null, 
        null, 
        FoodShop.Persistence.ApplicationDbContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-04-16 01:49:38.650 +07:00 [DBG] Creating DbConnection.
2024-04-16 01:49:38.651 +07:00 [DBG] Created DbConnection. (0ms).
2024-04-16 01:49:38.654 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:49:38.656 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:49:38.657 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 01:49:38.657 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 01:49:38.661 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-04-16 01:49:38.665 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 01:49:38.740 +07:00 [INF] Executed DbCommand (77ms) [Parameters=[@__normalizedUserName_0='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 01:49:38.756 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 01:49:38.757 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 6ms reading results.
2024-04-16 01:49:38.759 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:49:38.760 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (1ms).
2024-04-16 01:49:38.799 +07:00 [DBG] 'ApplicationDbContext' generated value '"ebbc0491-dee5-481b-2a7a-08dc5d7ccdb0"' for the property 'AppUser.Id'.
2024-04-16 01:49:38.885 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'AppUser' entity with key '{Id: ebbc0491-dee5-481b-2a7a-08dc5d7ccdb0}'.
2024-04-16 01:49:38.889 +07:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-04-16 01:49:38.892 +07:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-04-16 01:49:38.913 +07:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-04-16 01:49:39.006 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:49:39.007 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:49:39.011 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 01:49:39.011 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 01:49:39.012 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-04-16 01:49:39.014 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='ebbc0491-dee5-481b-2a7a-08dc5d7ccdb0', @p1='0', @p2=NULL (Size = 4000), @p3=NULL (Size = 4000), @p4='b4912113-6a24-420c-a169-f3e4baab972e' (Size = 4000), @p5='0001-01-01T00:00:00.0000000', @p6='anhhieuqtqtqt@gmail.com' (Size = 4000), @p7='False', @p8=NULL (Size = 4000), @p9='string' (Size = 4000), @p10='string' (Size = 4000), @p11='True', @p12=NULL (DbType = DateTimeOffset), @p13='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000), @p14='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000), @p15='AQAAAAIAAYagAAAAEFGszQjD0KpFKTjFnMasjqwL/h+jJHv5ZfAqDkX4vN24ZmAemHZzYoaujLxX/H6Q3A==' (Size = 4000), @p16='string' (Size = 4000), @p17='False', @p18='5GYXFTLZHKLEAY4CNSVF624QXFQIJGCQ' (Size = 4000), @p19='False', @p20='0001-01-01T00:00:00.0000000', @p21='anhhieuqtqtqt@gmail.com' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AppUser] ([Id], [AccessFailedCount], [Address], [Avatar], [ConcurrencyStamp], [CreatedDate], [Email], [EmailConfirmed], [Facebook], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UpdateDate], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21);
2024-04-16 01:49:39.031 +07:00 [INF] Executed DbCommand (18ms) [Parameters=[@p0='ebbc0491-dee5-481b-2a7a-08dc5d7ccdb0', @p1='0', @p2=NULL (Size = 4000), @p3=NULL (Size = 4000), @p4='b4912113-6a24-420c-a169-f3e4baab972e' (Size = 4000), @p5='0001-01-01T00:00:00.0000000', @p6='anhhieuqtqtqt@gmail.com' (Size = 4000), @p7='False', @p8=NULL (Size = 4000), @p9='string' (Size = 4000), @p10='string' (Size = 4000), @p11='True', @p12=NULL (DbType = DateTimeOffset), @p13='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000), @p14='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000), @p15='AQAAAAIAAYagAAAAEFGszQjD0KpFKTjFnMasjqwL/h+jJHv5ZfAqDkX4vN24ZmAemHZzYoaujLxX/H6Q3A==' (Size = 4000), @p16='string' (Size = 4000), @p17='False', @p18='5GYXFTLZHKLEAY4CNSVF624QXFQIJGCQ' (Size = 4000), @p19='False', @p20='0001-01-01T00:00:00.0000000', @p21='anhhieuqtqtqt@gmail.com' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AppUser] ([Id], [AccessFailedCount], [Address], [Avatar], [ConcurrencyStamp], [CreatedDate], [Email], [EmailConfirmed], [Facebook], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UpdateDate], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21);
2024-04-16 01:49:39.035 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 01:49:39.035 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 3ms reading results.
2024-04-16 01:49:39.037 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:49:39.037 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 01:49:39.047 +07:00 [DBG] The 'AppUser' entity with key '{Id: ebbc0491-dee5-481b-2a7a-08dc5d7ccdb0}' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'.
2024-04-16 01:49:39.052 +07:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-04-16 01:49:40.532 +07:00 [DBG] Compiling query expression: 
'DbSet<AppRole>()
    .SingleOrDefault(r => r.NormalizedName == __normalizedRoleName_0)'
2024-04-16 01:49:40.594 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppRole>(
    asyncEnumerable: new SplitQueryingEnumerable<AppRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AppRole.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: AppRole.ConcurrencyStamp (string), 1], [Property: AppRole.CreateBy (string), 2], [Property: AppRole.CreateDate (DateTime?), 3], [Property: AppRole.Description (string) Required MaxLength(250), 4], [Property: AppRole.Name (string), 5], [Property: AppRole.NormalizedName (string), 6], [Property: AppRole.RoleCode (string) Required MaxLength(50), 7], [Property: AppRole.UpdateBy (string), 8], [Property: AppRole.UpdateDate (DateTime?), 9] }
            SELECT TOP(2) a.Id, a.ConcurrencyStamp, a.CreateBy, a.CreateDate, a.Description, a.Name, a.NormalizedName, a.RoleCode, a.UpdateBy, a.UpdateDate
            FROM AppRole AS a
            WHERE a.NormalizedName == @__normalizedRoleName_0), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<DateTime>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<DateTime> }, 
        Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, AppRole>, 
        null, 
        null, 
        FoodShop.Persistence.ApplicationDbContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-04-16 01:49:40.596 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:49:40.596 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:49:40.596 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 01:49:40.596 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 01:49:40.596 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 01:49:40.596 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 01:49:40.599 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 01:49:40.629 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'AppRole' entity with key '{Id: 1ddacd3b-495b-4144-b828-3c9740ba1651}'.
2024-04-16 01:49:40.648 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 01:49:40.649 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 31ms reading results.
2024-04-16 01:49:40.649 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:49:40.649 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 01:49:40.664 +07:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<Guid>>()
    .FirstOrDefault(e => object.Equals(
        objA: EF.Property<object>(e, "RoleId"), 
        objB: __get_Item_0) && object.Equals(
        objA: EF.Property<object>(e, "UserId"), 
        objB: __get_Item_1))'
2024-04-16 01:49:40.730 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityUserRole<Guid>>(
    asyncEnumerable: new SplitQueryingEnumerable<IdentityUserRole<Guid>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUserRole<Guid>.RoleId (Guid) Required PK FK AfterSave:Throw, 0], [Property: IdentityUserRole<Guid>.UserId (Guid) Required PK FK Index AfterSave:Throw, 1] }
            SELECT TOP(1) a.RoleId, a.UserId
            FROM AppUserRole AS a
            WHERE (a.RoleId == @__get_Item_0) && (a.UserId == @__get_Item_1)), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<Guid> }, 
        Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, IdentityUserRole<Guid>>, 
        null, 
        null, 
        FoodShop.Persistence.ApplicationDbContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-04-16 01:49:40.734 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:49:40.734 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:49:40.735 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 01:49:40.735 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 01:49:40.735 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 01:49:40.735 +07:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='ebbc0491-dee5-481b-2a7a-08dc5d7ccdb0' (Nullable = true), @__get_Item_1='1ddacd3b-495b-4144-b828-3c9740ba1651' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[RoleId], [a].[UserId]
FROM [AppUserRole] AS [a]
WHERE [a].[RoleId] = @__get_Item_0 AND [a].[UserId] = @__get_Item_1
2024-04-16 01:49:40.737 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='ebbc0491-dee5-481b-2a7a-08dc5d7ccdb0' (Nullable = true), @__get_Item_1='1ddacd3b-495b-4144-b828-3c9740ba1651' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[RoleId], [a].[UserId]
FROM [AppUserRole] AS [a]
WHERE [a].[RoleId] = @__get_Item_0 AND [a].[UserId] = @__get_Item_1
2024-04-16 01:49:40.738 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 01:49:40.738 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 0ms reading results.
2024-04-16 01:49:40.738 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:49:40.739 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 01:49:40.743 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:49:40.743 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:49:40.743 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 01:49:40.743 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 01:49:40.744 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 01:49:40.744 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 01:49:40.746 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 01:49:40.747 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 01:49:40.747 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 0ms reading results.
2024-04-16 01:49:40.747 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:49:40.748 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 01:49:40.766 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityUserRole' entity with key '{RoleId: 1ddacd3b-495b-4144-b828-3c9740ba1651, UserId: ebbc0491-dee5-481b-2a7a-08dc5d7ccdb0}'.
2024-04-16 01:49:40.768 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:49:40.769 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:49:40.769 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 01:49:40.769 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 01:49:40.769 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 01:49:40.770 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 01:49:40.773 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 01:49:40.776 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 01:49:40.776 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 0ms reading results.
2024-04-16 01:49:40.776 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:49:40.776 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 01:49:40.780 +07:00 [DBG] The 'AppUser' entity with key '{Id: ebbc0491-dee5-481b-2a7a-08dc5d7ccdb0}' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'.
2024-04-16 01:49:40.781 +07:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-04-16 01:49:40.781 +07:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-04-16 01:49:40.790 +07:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-04-16 01:49:40.800 +07:00 [DBG] Executing 2 update commands as a batch.
2024-04-16 01:49:40.802 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:49:40.802 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:49:40.803 +07:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-04-16 01:49:40.810 +07:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-04-16 01:49:40.811 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 01:49:40.811 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 01:49:40.812 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-04-16 01:49:40.813 +07:00 [DBG] Executing DbCommand [Parameters=[@p21='ebbc0491-dee5-481b-2a7a-08dc5d7ccdb0', @p0='0', @p1=NULL (Size = 4000), @p2=NULL (Size = 4000), @p3='4a84e263-bf04-4adc-a246-dc1dbec28c0c' (Size = 4000), @p4='0001-01-01T00:00:00.0000000', @p5='anhhieuqtqtqt@gmail.com' (Size = 4000), @p6='False', @p7=NULL (Size = 4000), @p8='string' (Size = 4000), @p9='string' (Size = 4000), @p10='True', @p11=NULL (DbType = DateTimeOffset), @p12='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000), @p13='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000), @p14='AQAAAAIAAYagAAAAEFGszQjD0KpFKTjFnMasjqwL/h+jJHv5ZfAqDkX4vN24ZmAemHZzYoaujLxX/H6Q3A==' (Size = 4000), @p15='string' (Size = 4000), @p16='False', @p17='5GYXFTLZHKLEAY4CNSVF624QXFQIJGCQ' (Size = 4000), @p18='False', @p19='0001-01-01T00:00:00.0000000', @p20='anhhieuqtqtqt@gmail.com' (Size = 4000), @p22='1ddacd3b-495b-4144-b828-3c9740ba1651', @p23='ebbc0491-dee5-481b-2a7a-08dc5d7ccdb0'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AppUser] SET [AccessFailedCount] = @p0, [Address] = @p1, [Avatar] = @p2, [ConcurrencyStamp] = @p3, [CreatedDate] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [Facebook] = @p7, [FirstName] = @p8, [LastName] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [SecurityStamp] = @p17, [TwoFactorEnabled] = @p18, [UpdateDate] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21;
INSERT INTO [AppUserRole] ([RoleId], [UserId])
VALUES (@p22, @p23);
2024-04-16 01:49:40.822 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@p21='ebbc0491-dee5-481b-2a7a-08dc5d7ccdb0', @p0='0', @p1=NULL (Size = 4000), @p2=NULL (Size = 4000), @p3='4a84e263-bf04-4adc-a246-dc1dbec28c0c' (Size = 4000), @p4='0001-01-01T00:00:00.0000000', @p5='anhhieuqtqtqt@gmail.com' (Size = 4000), @p6='False', @p7=NULL (Size = 4000), @p8='string' (Size = 4000), @p9='string' (Size = 4000), @p10='True', @p11=NULL (DbType = DateTimeOffset), @p12='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000), @p13='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000), @p14='AQAAAAIAAYagAAAAEFGszQjD0KpFKTjFnMasjqwL/h+jJHv5ZfAqDkX4vN24ZmAemHZzYoaujLxX/H6Q3A==' (Size = 4000), @p15='string' (Size = 4000), @p16='False', @p17='5GYXFTLZHKLEAY4CNSVF624QXFQIJGCQ' (Size = 4000), @p18='False', @p19='0001-01-01T00:00:00.0000000', @p20='anhhieuqtqtqt@gmail.com' (Size = 4000), @p22='1ddacd3b-495b-4144-b828-3c9740ba1651', @p23='ebbc0491-dee5-481b-2a7a-08dc5d7ccdb0'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AppUser] SET [AccessFailedCount] = @p0, [Address] = @p1, [Avatar] = @p2, [ConcurrencyStamp] = @p3, [CreatedDate] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [Facebook] = @p7, [FirstName] = @p8, [LastName] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [SecurityStamp] = @p17, [TwoFactorEnabled] = @p18, [UpdateDate] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21;
INSERT INTO [AppUserRole] ([RoleId], [UserId])
VALUES (@p22, @p23);
2024-04-16 01:49:40.825 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 01:49:40.826 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 2ms reading results.
2024-04-16 01:49:40.829 +07:00 [DBG] Committing transaction.
2024-04-16 01:49:40.835 +07:00 [DBG] Committed transaction.
2024-04-16 01:49:40.837 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:49:40.838 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 01:49:40.840 +07:00 [DBG] Disposing transaction.
2024-04-16 01:49:40.841 +07:00 [DBG] The 'IdentityUserRole' entity with key '{RoleId: 1ddacd3b-495b-4144-b828-3c9740ba1651, UserId: ebbc0491-dee5-481b-2a7a-08dc5d7ccdb0}' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'.
2024-04-16 01:49:40.841 +07:00 [DBG] The 'AppUser' entity with key '{Id: ebbc0491-dee5-481b-2a7a-08dc5d7ccdb0}' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'.
2024-04-16 01:49:40.842 +07:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 2 entities written to the database.
2024-04-16 01:49:45.890 +07:00 [INF] Executed action FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation) in 12678.9385ms
2024-04-16 01:49:45.892 +07:00 [INF] Executed endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)'
2024-04-16 01:49:45.951 +07:00 [ERR] Value cannot be null. (Parameter 'uriString')
System.ArgumentNullException: Value cannot be null. (Parameter 'uriString')
   at System.ArgumentNullException.Throw(String paramName)
   at System.ArgumentNullException.ThrowIfNull(Object argument, String paramName)
   at System.Uri..ctor(String uriString)
   at FoodShop.Infrastructure.DependencyInjection.Extensions.ServiceCollectionExtensions.<>c__DisplayClass1_0.<AddMailServiceConfiguration>b__0(IServiceProvider services, HttpClient client) in C:\Users\hieud\Code\C#\FoodShop\FoodShop\src\FoodShop.Infrastructure\DependencyInjection\Extensions\ServiceCollectionExtensions.cs:line 55
   at Microsoft.Extensions.Http.DefaultHttpClientFactory.CreateClient(String name)
   at FoodShop.Infrastructure.EmailServices.EmailSender..ctor(IOptionsMonitor`1 mailSettings, IHttpClientFactory httpClientFactory) in C:\Users\hieud\Code\C#\FoodShop\FoodShop\src\FoodShop.Infrastructure\EmailServices\EmailSender.cs:line 21
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithFewArgs(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitIEnumerable(IEnumerableCallSite enumerableCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at MediatR.Wrappers.NotificationHandlerWrapperImpl`1.Handle(INotification notification, IServiceProvider serviceFactory, Func`4 publish, CancellationToken cancellationToken)
   at MediatR.Mediator.PublishNotification(INotification notification, CancellationToken cancellationToken)
   at MediatR.Mediator.Publish[TNotification](TNotification notification, CancellationToken cancellationToken)
   at FoodShop.Presentation.Controllers.V1.AuthenticationController.Register(RegisterRequest model) in C:\Users\hieud\Code\C#\FoodShop\FoodShop\src\FoodShop.Presentation\Controllers\V1\AuthenticationController.cs:line 53
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at FoodShop.API.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in C:\Users\hieud\Code\C#\FoodShop\FoodShop\src\FoodShop.API\Middleware\ExceptionHandlingMiddleware.cs:line 22
2024-04-16 01:49:45.989 +07:00 [DBG] 'ApplicationDbContext' disposed.
2024-04-16 01:49:45.995 +07:00 [DBG] Disposing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:49:45.996 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-04-16 01:49:45.996 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7286/api/v1/Authentication/register - 500 null application/json; ver=1 12896.3113ms
2024-04-16 01:52:43.269 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-04-16 01:52:43.929 +07:00 [DBG] The index {'ProductId'} was not created on entity type 'CartProduct' as the properties are already covered by the index {'ProductId', 'CartId'}.
2024-04-16 01:52:43.931 +07:00 [DBG] The index {'OrderId'} was not created on entity type 'OrderProduct' as the properties are already covered by the index {'OrderId', 'ProductId'}.
2024-04-16 01:52:43.931 +07:00 [DBG] The index {'ProductId'} was not created on entity type 'ProductCategory' as the properties are already covered by the index {'ProductId', 'CategoryId'}.
2024-04-16 01:52:43.932 +07:00 [DBG] The index {'RoleId'} was not created on entity type 'IdentityUserRole<Guid>' as the properties are already covered by the index {'RoleId', 'UserId'}.
2024-04-16 01:52:44.041 +07:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-04-16 01:52:44.070 +07:00 [DBG] The property 'IdentityUserToken<Guid>.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-04-16 01:52:44.105 +07:00 [WRN] No store type was specified for the decimal property 'Amout' on entity type 'Cart'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 01:52:44.106 +07:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'CartProduct'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 01:52:44.106 +07:00 [WRN] No store type was specified for the decimal property 'Amout' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 01:52:44.106 +07:00 [WRN] No store type was specified for the decimal property 'AmoutTotal' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 01:52:44.107 +07:00 [WRN] No store type was specified for the decimal property 'Discount' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 01:52:44.107 +07:00 [WRN] No store type was specified for the decimal property 'Shipping' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 01:52:44.108 +07:00 [WRN] No store type was specified for the decimal property 'Tax' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 01:52:44.108 +07:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'OrderProduct'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 01:52:44.109 +07:00 [WRN] No store type was specified for the decimal property 'Discount' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 01:52:44.109 +07:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 01:52:44.461 +07:00 [DBG] Entity Framework Core 8.0.4 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.3' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using lazy loading proxies QuerySplittingBehavior=SplitQuery MigrationsAssembly=FoodShop.Persistence 
2024-04-16 01:52:44.478 +07:00 [DBG] Creating DbConnection.
2024-04-16 01:52:44.527 +07:00 [DBG] Created DbConnection. (48ms).
2024-04-16 01:52:44.530 +07:00 [DBG] Migrating using database 'FoodShop' on server 'localhost'.
2024-04-16 01:52:44.534 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:52:44.749 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:52:44.753 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-04-16 01:52:44.758 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (4ms).
2024-04-16 01:52:44.760 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (8ms).
2024-04-16 01:52:44.765 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 01:52:44.787 +07:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 01:52:44.789 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:52:44.795 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (3ms).
2024-04-16 01:52:44.797 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-04-16 01:52:44.797 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 01:52:44.797 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 01:52:44.798 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:52:44.798 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:52:44.799 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 01:52:44.816 +07:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 01:52:44.816 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:52:44.817 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 01:52:44.818 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:52:44.818 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:52:44.818 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-04-16 01:52:44.819 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-04-16 01:52:44.819 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-04-16 01:52:44.819 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 01:52:44.820 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 01:52:44.821 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:52:44.821 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 01:52:44.821 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-04-16 01:52:44.823 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2024-04-16 01:52:44.823 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2024-04-16 01:52:44.823 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:52:44.823 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:52:44.823 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 01:52:44.824 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 01:52:44.825 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:52:44.825 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 01:52:44.839 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:52:44.839 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:52:44.839 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 01:52:44.839 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 01:52:44.839 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 01:52:44.840 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-16 01:52:44.845 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-16 01:52:44.847 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 01:52:44.848 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 2ms reading results.
2024-04-16 01:52:44.849 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:52:44.849 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 01:52:44.858 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-04-16 01:52:44.896 +07:00 [DBG] Compiling query expression: 
'DbSet<AppRole>()
    .Any()'
2024-04-16 01:52:45.026 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SplitQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AppRole AS a)), 
    ReaderColumn[] { ReaderColumn<bool> }, 
    Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, bool>, 
    null, 
    null, 
    FoodShop.Persistence.ApplicationDbContext, 
    False, 
    True, 
    True
)
    .Single()'
2024-04-16 01:52:45.047 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:52:45.048 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:52:45.048 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 01:52:45.048 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 01:52:45.049 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 01:52:45.049 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AppRole] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-04-16 01:52:45.052 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AppRole] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-04-16 01:52:45.063 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 01:52:45.064 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 2ms reading results.
2024-04-16 01:52:45.064 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:52:45.065 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 01:52:45.067 +07:00 [DBG] 'ApplicationDbContext' disposed.
2024-04-16 01:52:45.069 +07:00 [DBG] Disposing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:52:45.070 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-04-16 01:52:47.545 +07:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-04-16 01:52:47.908 +07:00 [DBG] Hosting starting
2024-04-16 01:52:47.950 +07:00 [INF] User profile is available. Using 'C:\Users\hieud\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-04-16 01:52:47.961 +07:00 [DBG] Reading data from file 'C:\Users\hieud\AppData\Local\ASP.NET\DataProtection-Keys\key-5b2baa0a-904f-4101-af08-7ac673b8db2c.xml'.
2024-04-16 01:52:47.971 +07:00 [DBG] Found key {5b2baa0a-904f-4101-af08-7ac673b8db2c}.
2024-04-16 01:52:47.983 +07:00 [DBG] Considering key {5b2baa0a-904f-4101-af08-7ac673b8db2c} with expiration date 2024-05-20 17:09:10Z as default key.
2024-04-16 01:52:47.988 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-04-16 01:52:47.989 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-04-16 01:52:47.992 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-04-16 01:52:47.995 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-04-16 01:52:48.000 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-04-16 01:52:48.006 +07:00 [DBG] Using key {5b2baa0a-904f-4101-af08-7ac673b8db2c} as the default key.
2024-04-16 01:52:48.009 +07:00 [DBG] Key ring with default key {5b2baa0a-904f-4101-af08-7ac673b8db2c} was loaded during application startup.
2024-04-16 01:52:48.515 +07:00 [INF] Now listening on: https://localhost:7286
2024-04-16 01:52:48.515 +07:00 [INF] Now listening on: http://localhost:5010
2024-04-16 01:52:48.515 +07:00 [DBG] Loaded hosting startup assembly FoodShop.API
2024-04-16 01:52:48.516 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-04-16 01:52:48.516 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-04-16 01:52:48.516 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-04-16 01:52:48.589 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-04-16 01:52:48.589 +07:00 [INF] Hosting environment: Development
2024-04-16 01:52:48.589 +07:00 [INF] Content root path: C:\Users\hieud\Code\C#\FoodShop\FoodShop\src\FoodShop.API
2024-04-16 01:52:48.590 +07:00 [DBG] Hosting started
2024-04-16 01:52:48.955 +07:00 [DBG] Connection id "0HN2TFKVGFVLQ" accepted.
2024-04-16 01:52:48.956 +07:00 [DBG] Connection id "0HN2TFKVGFVLQ" started.
2024-04-16 01:52:48.961 +07:00 [DBG] Connection id "0HN2TFKVGFVLR" accepted.
2024-04-16 01:52:48.962 +07:00 [DBG] Connection id "0HN2TFKVGFVLR" started.
2024-04-16 01:52:48.972 +07:00 [DBG] Connection id "0HN2TFKVGFVLR" received FIN.
2024-04-16 01:52:48.972 +07:00 [DBG] Connection id "0HN2TFKVGFVLQ" received FIN.
2024-04-16 01:52:48.990 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-04-16 01:52:48.990 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-04-16 01:52:49.006 +07:00 [DBG] Connection id "0HN2TFKVGFVLR" stopped.
2024-04-16 01:52:49.006 +07:00 [DBG] Connection id "0HN2TFKVGFVLQ" stopped.
2024-04-16 01:52:49.010 +07:00 [DBG] Connection id "0HN2TFKVGFVLR" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-04-16 01:52:49.011 +07:00 [DBG] Connection id "0HN2TFKVGFVLQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-04-16 01:52:49.206 +07:00 [DBG] Connection id "0HN2TFKVGFVLS" accepted.
2024-04-16 01:52:49.208 +07:00 [DBG] Connection id "0HN2TFKVGFVLS" started.
2024-04-16 01:52:49.244 +07:00 [DBG] Connection 0HN2TFKVGFVLS established using the following protocol: "Tls13"
2024-04-16 01:52:49.295 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/swagger/index.html - null null
2024-04-16 01:52:49.467 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-04-16 01:52:49.511 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-04-16 01:52:49.512 +07:00 [DBG] Request did not match any endpoints
2024-04-16 01:52:49.682 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-16 01:52:49.742 +07:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-04-16 01:52:49.743 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-04-16 01:52:49.759 +07:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-04-16 01:52:49.760 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-04-16 01:52:49.765 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/swagger/index.html - 200 null text/html;charset=utf-8 473.2967ms
2024-04-16 01:52:49.788 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/_framework/aspnetcore-browser-refresh.js - null null
2024-04-16 01:52:49.795 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 7.2064ms
2024-04-16 01:52:49.826 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/_vs/browserLink - null null
2024-04-16 01:52:49.870 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/_vs/browserLink - 200 null text/javascript; charset=UTF-8 44.1893ms
2024-04-16 01:52:50.266 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/swagger/v1/swagger.json - null null
2024-04-16 01:52:50.267 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-04-16 01:52:50.267 +07:00 [DBG] Request did not match any endpoints
2024-04-16 01:52:50.269 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-16 01:52:50.369 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 102.8605ms
2024-04-16 01:52:56.291 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7286/api/v1.0/Authentication/register - application/json; ver=1.0 147
2024-04-16 01:52:56.315 +07:00 [DBG] 1 candidate(s) found for the request path '/api/v1.0/Authentication/register'
2024-04-16 01:52:56.318 +07:00 [DBG] Endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)' with route pattern 'api/v{version:apiVersion}/Authentication/register' is valid for the request path '/api/v1.0/Authentication/register'
2024-04-16 01:52:56.325 +07:00 [DBG] Request matched endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)'
2024-04-16 01:52:56.329 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-16 01:52:56.333 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-04-16 01:52:56.335 +07:00 [INF] Start request......!
2024-04-16 01:52:56.339 +07:00 [INF] Executing endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)'
2024-04-16 01:52:56.374 +07:00 [INF] Route matched with {action = "Register", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest) on controller FoodShop.Presentation.Controllers.V1.AuthenticationController (FoodShop.Presentation).
2024-04-16 01:52:56.377 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-04-16 01:52:56.378 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-04-16 01:52:56.379 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)","Asp.Versioning.ApplyContentTypeVersionActionFilter"]
2024-04-16 01:52:56.380 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-04-16 01:52:56.380 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-04-16 01:52:56.383 +07:00 [DBG] Executing controller factory for controller FoodShop.Presentation.Controllers.V1.AuthenticationController (FoodShop.Presentation)
2024-04-16 01:52:56.570 +07:00 [DBG] Executed controller factory for controller FoodShop.Presentation.Controllers.V1.AuthenticationController (FoodShop.Presentation)
2024-04-16 01:52:56.581 +07:00 [DBG] Attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest' ...
2024-04-16 01:52:56.588 +07:00 [DBG] Attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest' using the name '' in request data ...
2024-04-16 01:52:56.591 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json; ver=1.0'.
2024-04-16 01:52:56.602 +07:00 [DBG] Connection id "0HN2TFKVGFVLS", Request id "0HN2TFKVGFVLS:00000009": started reading request body.
2024-04-16 01:52:56.603 +07:00 [DBG] Connection id "0HN2TFKVGFVLS", Request id "0HN2TFKVGFVLS:00000009": done reading request body.
2024-04-16 01:52:56.613 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'
2024-04-16 01:52:56.614 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'.
2024-04-16 01:52:56.615 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'.
2024-04-16 01:52:56.615 +07:00 [DBG] Attempting to validate the bound parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest' ...
2024-04-16 01:52:56.632 +07:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'.
2024-04-16 01:53:07.201 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-04-16 01:53:07.987 +07:00 [DBG] The index {'ProductId'} was not created on entity type 'CartProduct' as the properties are already covered by the index {'ProductId', 'CartId'}.
2024-04-16 01:53:07.988 +07:00 [DBG] The index {'OrderId'} was not created on entity type 'OrderProduct' as the properties are already covered by the index {'OrderId', 'ProductId'}.
2024-04-16 01:53:07.989 +07:00 [DBG] The index {'ProductId'} was not created on entity type 'ProductCategory' as the properties are already covered by the index {'ProductId', 'CategoryId'}.
2024-04-16 01:53:07.989 +07:00 [DBG] The index {'RoleId'} was not created on entity type 'IdentityUserRole<Guid>' as the properties are already covered by the index {'RoleId', 'UserId'}.
2024-04-16 01:53:08.098 +07:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-04-16 01:53:08.131 +07:00 [DBG] The property 'IdentityUserToken<Guid>.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-04-16 01:53:08.162 +07:00 [WRN] No store type was specified for the decimal property 'Amout' on entity type 'Cart'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 01:53:08.163 +07:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'CartProduct'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 01:53:08.164 +07:00 [WRN] No store type was specified for the decimal property 'Amout' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 01:53:08.164 +07:00 [WRN] No store type was specified for the decimal property 'AmoutTotal' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 01:53:08.165 +07:00 [WRN] No store type was specified for the decimal property 'Discount' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 01:53:08.165 +07:00 [WRN] No store type was specified for the decimal property 'Shipping' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 01:53:08.166 +07:00 [WRN] No store type was specified for the decimal property 'Tax' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 01:53:08.166 +07:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'OrderProduct'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 01:53:08.166 +07:00 [WRN] No store type was specified for the decimal property 'Discount' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 01:53:08.167 +07:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 01:53:08.423 +07:00 [DBG] Entity Framework Core 8.0.4 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.3' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using lazy loading proxies QuerySplittingBehavior=SplitQuery MigrationsAssembly=FoodShop.Persistence 
2024-04-16 01:53:08.437 +07:00 [DBG] Creating DbConnection.
2024-04-16 01:53:08.517 +07:00 [DBG] Created DbConnection. (75ms).
2024-04-16 01:53:08.525 +07:00 [DBG] Migrating using database 'FoodShop' on server 'localhost'.
2024-04-16 01:53:08.534 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:53:08.817 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:53:08.822 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-04-16 01:53:08.829 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (4ms).
2024-04-16 01:53:08.833 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (11ms).
2024-04-16 01:53:08.841 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 01:53:08.868 +07:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 01:53:08.871 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:53:08.880 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (5ms).
2024-04-16 01:53:08.884 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-04-16 01:53:08.884 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 01:53:08.885 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 01:53:08.885 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:53:08.886 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:53:08.887 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 01:53:08.902 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 01:53:08.902 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:53:08.903 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 01:53:08.904 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:53:08.905 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:53:08.905 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-04-16 01:53:08.905 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-04-16 01:53:08.905 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-04-16 01:53:08.905 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 01:53:08.911 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 01:53:08.911 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:53:08.912 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 01:53:08.912 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-04-16 01:53:08.912 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 01:53:08.912 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 01:53:08.913 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:53:08.913 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:53:08.913 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 01:53:08.914 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 01:53:08.914 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:53:08.914 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 01:53:08.927 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:53:08.928 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:53:08.928 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 01:53:08.928 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 01:53:08.928 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 01:53:08.930 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-16 01:53:08.933 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-16 01:53:08.936 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 01:53:08.939 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 3ms reading results.
2024-04-16 01:53:08.940 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:53:08.940 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 01:53:08.948 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-04-16 01:53:08.985 +07:00 [DBG] Compiling query expression: 
'DbSet<AppRole>()
    .Any()'
2024-04-16 01:53:09.119 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SplitQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AppRole AS a)), 
    ReaderColumn[] { ReaderColumn<bool> }, 
    Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, bool>, 
    null, 
    null, 
    FoodShop.Persistence.ApplicationDbContext, 
    False, 
    True, 
    True
)
    .Single()'
2024-04-16 01:53:09.140 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:53:09.141 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:53:09.141 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 01:53:09.141 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 01:53:09.141 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 01:53:09.142 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AppRole] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-04-16 01:53:09.143 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AppRole] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-04-16 01:53:09.153 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 01:53:09.154 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 1ms reading results.
2024-04-16 01:53:09.154 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:53:09.154 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 01:53:09.156 +07:00 [DBG] 'ApplicationDbContext' disposed.
2024-04-16 01:53:09.158 +07:00 [DBG] Disposing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:53:09.159 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-04-16 01:53:09.221 +07:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-04-16 01:53:09.281 +07:00 [DBG] Hosting starting
2024-04-16 01:53:09.300 +07:00 [INF] User profile is available. Using 'C:\Users\hieud\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-04-16 01:53:09.306 +07:00 [DBG] Reading data from file 'C:\Users\hieud\AppData\Local\ASP.NET\DataProtection-Keys\key-5b2baa0a-904f-4101-af08-7ac673b8db2c.xml'.
2024-04-16 01:53:09.312 +07:00 [DBG] Found key {5b2baa0a-904f-4101-af08-7ac673b8db2c}.
2024-04-16 01:53:09.319 +07:00 [DBG] Considering key {5b2baa0a-904f-4101-af08-7ac673b8db2c} with expiration date 2024-05-20 17:09:10Z as default key.
2024-04-16 01:53:09.322 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-04-16 01:53:09.323 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-04-16 01:53:09.325 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-04-16 01:53:09.327 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-04-16 01:53:09.329 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-04-16 01:53:09.333 +07:00 [DBG] Using key {5b2baa0a-904f-4101-af08-7ac673b8db2c} as the default key.
2024-04-16 01:53:09.334 +07:00 [DBG] Key ring with default key {5b2baa0a-904f-4101-af08-7ac673b8db2c} was loaded during application startup.
2024-04-16 01:53:09.481 +07:00 [INF] Now listening on: https://localhost:7286
2024-04-16 01:53:09.482 +07:00 [INF] Now listening on: http://localhost:5010
2024-04-16 01:53:09.482 +07:00 [DBG] Loaded hosting startup assembly FoodShop.API
2024-04-16 01:53:09.483 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-04-16 01:53:09.483 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-04-16 01:53:09.484 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-04-16 01:53:09.581 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-04-16 01:53:09.582 +07:00 [INF] Hosting environment: Development
2024-04-16 01:53:09.582 +07:00 [INF] Content root path: C:\Users\hieud\Code\C#\FoodShop\FoodShop\src\FoodShop.API
2024-04-16 01:53:09.583 +07:00 [DBG] Hosting started
2024-04-16 01:53:09.622 +07:00 [DBG] Connection id "0HN2TFL5LITKU" accepted.
2024-04-16 01:53:09.624 +07:00 [DBG] Connection id "0HN2TFL5LITKU" started.
2024-04-16 01:53:09.629 +07:00 [DBG] Connection id "0HN2TFL5LITKU" received FIN.
2024-04-16 01:53:09.641 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-04-16 01:53:09.653 +07:00 [DBG] Connection id "0HN2TFL5LITKU" stopped.
2024-04-16 01:53:09.656 +07:00 [DBG] Connection id "0HN2TFL5LITKU" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-04-16 01:53:09.905 +07:00 [DBG] Connection id "0HN2TFL5LITKV" accepted.
2024-04-16 01:53:09.905 +07:00 [DBG] Connection id "0HN2TFL5LITKV" started.
2024-04-16 01:53:09.932 +07:00 [DBG] Connection 0HN2TFL5LITKV established using the following protocol: "Tls13"
2024-04-16 01:53:09.989 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/swagger/index.html - null null
2024-04-16 01:53:10.138 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-04-16 01:53:10.206 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-04-16 01:53:10.208 +07:00 [DBG] Request did not match any endpoints
2024-04-16 01:53:10.321 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-16 01:53:10.417 +07:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-04-16 01:53:10.422 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-04-16 01:53:10.456 +07:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-04-16 01:53:10.457 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-04-16 01:53:10.462 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/swagger/index.html - 200 null text/html;charset=utf-8 480.0287ms
2024-04-16 01:53:10.522 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/_framework/aspnetcore-browser-refresh.js - null null
2024-04-16 01:53:10.529 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/_vs/browserLink - null null
2024-04-16 01:53:10.529 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 7.0829ms
2024-04-16 01:53:10.576 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/_vs/browserLink - 200 null text/javascript; charset=UTF-8 48.0294ms
2024-04-16 01:53:11.105 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/swagger/v1/swagger.json - null null
2024-04-16 01:53:11.415 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-04-16 01:53:11.415 +07:00 [DBG] Request did not match any endpoints
2024-04-16 01:53:11.417 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-16 01:53:11.506 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 402.5479ms
2024-04-16 01:53:22.165 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7286/api/v1/Authentication/register - application/json; ver=1.0 153
2024-04-16 01:53:22.192 +07:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Authentication/register'
2024-04-16 01:53:22.195 +07:00 [DBG] Endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)' with route pattern 'api/v{version:apiVersion}/Authentication/register' is valid for the request path '/api/v1/Authentication/register'
2024-04-16 01:53:22.200 +07:00 [DBG] Request matched endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)'
2024-04-16 01:53:22.204 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-16 01:53:22.206 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-04-16 01:53:22.208 +07:00 [INF] Start request......!
2024-04-16 01:53:22.210 +07:00 [INF] Executing endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)'
2024-04-16 01:53:22.235 +07:00 [INF] Route matched with {action = "Register", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest) on controller FoodShop.Presentation.Controllers.V1.AuthenticationController (FoodShop.Presentation).
2024-04-16 01:53:22.237 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-04-16 01:53:22.238 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-04-16 01:53:22.238 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)","Asp.Versioning.ApplyContentTypeVersionActionFilter"]
2024-04-16 01:53:22.239 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-04-16 01:53:22.239 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-04-16 01:53:22.243 +07:00 [DBG] Executing controller factory for controller FoodShop.Presentation.Controllers.V1.AuthenticationController (FoodShop.Presentation)
2024-04-16 01:53:22.362 +07:00 [DBG] Executed controller factory for controller FoodShop.Presentation.Controllers.V1.AuthenticationController (FoodShop.Presentation)
2024-04-16 01:53:22.369 +07:00 [DBG] Attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest' ...
2024-04-16 01:53:22.373 +07:00 [DBG] Attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest' using the name '' in request data ...
2024-04-16 01:53:22.375 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json; ver=1.0'.
2024-04-16 01:53:22.381 +07:00 [DBG] Connection id "0HN2TFL5LITKV", Request id "0HN2TFL5LITKV:00000009": started reading request body.
2024-04-16 01:53:22.382 +07:00 [DBG] Connection id "0HN2TFL5LITKV", Request id "0HN2TFL5LITKV:00000009": done reading request body.
2024-04-16 01:53:22.390 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'
2024-04-16 01:53:22.391 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'.
2024-04-16 01:53:22.392 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'.
2024-04-16 01:53:22.393 +07:00 [DBG] Attempting to validate the bound parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest' ...
2024-04-16 01:53:22.406 +07:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'.
2024-04-16 01:53:24.642 +07:00 [DBG] Entity Framework Core 8.0.4 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.3' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using lazy loading proxies QuerySplittingBehavior=SplitQuery MigrationsAssembly=FoodShop.Persistence 
2024-04-16 01:53:24.658 +07:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2024-04-16 01:53:25.080 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppUser>(
    asyncEnumerable: new SplitQueryingEnumerable<AppUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AppUser.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: AppUser.AccessFailedCount (int) Required, 1], [Property: AppUser.Address (string), 2], [Property: AppUser.Avatar (string), 3], [Property: AppUser.ConcurrencyStamp (string), 4], [Property: AppUser.CreatedDate (DateTime) Required, 5], [Property: AppUser.Email (string), 6], [Property: AppUser.EmailConfirmed (bool) Required, 7], [Property: AppUser.Facebook (string), 8], [Property: AppUser.FirstName (string), 9], [Property: AppUser.LastName (string), 10], [Property: AppUser.LockoutEnabled (bool) Required, 11], [Property: AppUser.LockoutEnd (DateTimeOffset?), 12], [Property: AppUser.NormalizedEmail (string), 13], [Property: AppUser.NormalizedUserName (string), 14], [Property: AppUser.PasswordHash (string), 15], [Property: AppUser.PhoneNumber (string), 16], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 17], [Property: AppUser.SecurityStamp (string), 18], [Property: AppUser.TwoFactorEnabled (bool) Required, 19], [Property: AppUser.UpdateDate (DateTime) Required, 20], [Property: AppUser.UserName (string), 21] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.Address, a.Avatar, a.ConcurrencyStamp, a.CreatedDate, a.Email, a.EmailConfirmed, a.Facebook, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UpdateDate, a.UserName
            FROM AppUser AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<int>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<DateTime>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<DateTimeOffset>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<DateTime>, ReaderColumn<object> }, 
        Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, AppUser>, 
        null, 
        null, 
        FoodShop.Persistence.ApplicationDbContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-04-16 01:53:25.101 +07:00 [DBG] Creating DbConnection.
2024-04-16 01:53:25.101 +07:00 [DBG] Created DbConnection. (0ms).
2024-04-16 01:53:25.103 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:53:25.105 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:53:25.105 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 01:53:25.106 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 01:53:25.109 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-04-16 01:53:25.112 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='STRING123123' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 01:53:25.160 +07:00 [INF] Executed DbCommand (50ms) [Parameters=[@__normalizedUserName_0='STRING123123' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 01:53:25.180 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 01:53:25.181 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 9ms reading results.
2024-04-16 01:53:25.183 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:53:25.184 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 01:53:25.209 +07:00 [DBG] 'ApplicationDbContext' generated value '"ceaa5399-2edc-4fc7-9e42-08dc5d7d54a3"' for the property 'AppUser.Id'.
2024-04-16 01:53:25.317 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'AppUser' entity with key '{Id: ceaa5399-2edc-4fc7-9e42-08dc5d7d54a3}'.
2024-04-16 01:53:25.322 +07:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-04-16 01:53:25.328 +07:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-04-16 01:53:25.365 +07:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-04-16 01:53:25.423 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:53:25.423 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:53:25.427 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 01:53:25.427 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 01:53:25.428 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-04-16 01:53:25.430 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='ceaa5399-2edc-4fc7-9e42-08dc5d7d54a3', @p1='0', @p2=NULL (Size = 4000), @p3=NULL (Size = 4000), @p4='1eab0a4a-7a82-48cc-8100-0d957cf70b2a' (Size = 4000), @p5='0001-01-01T00:00:00.0000000', @p6='string123123' (Size = 4000), @p7='False', @p8=NULL (Size = 4000), @p9='string' (Size = 4000), @p10='string' (Size = 4000), @p11='True', @p12=NULL (DbType = DateTimeOffset), @p13='STRING123123' (Size = 4000), @p14='STRING123123' (Size = 4000), @p15='AQAAAAIAAYagAAAAEOdlNsDLtJo62JgmO1BxnTq5UPcSCTNDRrcrQtjMBXo8NWTuQG9B01yrit9G5ZJZhg==' (Size = 4000), @p16='string' (Size = 4000), @p17='False', @p18='EWFQT3MBZ6274U6ZAPXNVG2RMGAWTUC3' (Size = 4000), @p19='False', @p20='0001-01-01T00:00:00.0000000', @p21='string123123' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AppUser] ([Id], [AccessFailedCount], [Address], [Avatar], [ConcurrencyStamp], [CreatedDate], [Email], [EmailConfirmed], [Facebook], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UpdateDate], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21);
2024-04-16 01:53:25.436 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='ceaa5399-2edc-4fc7-9e42-08dc5d7d54a3', @p1='0', @p2=NULL (Size = 4000), @p3=NULL (Size = 4000), @p4='1eab0a4a-7a82-48cc-8100-0d957cf70b2a' (Size = 4000), @p5='0001-01-01T00:00:00.0000000', @p6='string123123' (Size = 4000), @p7='False', @p8=NULL (Size = 4000), @p9='string' (Size = 4000), @p10='string' (Size = 4000), @p11='True', @p12=NULL (DbType = DateTimeOffset), @p13='STRING123123' (Size = 4000), @p14='STRING123123' (Size = 4000), @p15='AQAAAAIAAYagAAAAEOdlNsDLtJo62JgmO1BxnTq5UPcSCTNDRrcrQtjMBXo8NWTuQG9B01yrit9G5ZJZhg==' (Size = 4000), @p16='string' (Size = 4000), @p17='False', @p18='EWFQT3MBZ6274U6ZAPXNVG2RMGAWTUC3' (Size = 4000), @p19='False', @p20='0001-01-01T00:00:00.0000000', @p21='string123123' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AppUser] ([Id], [AccessFailedCount], [Address], [Avatar], [ConcurrencyStamp], [CreatedDate], [Email], [EmailConfirmed], [Facebook], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UpdateDate], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21);
2024-04-16 01:53:25.441 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 01:53:25.442 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 4ms reading results.
2024-04-16 01:53:25.443 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:53:25.443 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 01:53:25.452 +07:00 [DBG] The 'AppUser' entity with key '{Id: ceaa5399-2edc-4fc7-9e42-08dc5d7d54a3}' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'.
2024-04-16 01:53:25.455 +07:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-04-16 01:53:25.467 +07:00 [DBG] Compiling query expression: 
'DbSet<AppRole>()
    .SingleOrDefault(r => r.NormalizedName == __normalizedRoleName_0)'
2024-04-16 01:53:25.548 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppRole>(
    asyncEnumerable: new SplitQueryingEnumerable<AppRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AppRole.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: AppRole.ConcurrencyStamp (string), 1], [Property: AppRole.CreateBy (string), 2], [Property: AppRole.CreateDate (DateTime?), 3], [Property: AppRole.Description (string) Required MaxLength(250), 4], [Property: AppRole.Name (string), 5], [Property: AppRole.NormalizedName (string), 6], [Property: AppRole.RoleCode (string) Required MaxLength(50), 7], [Property: AppRole.UpdateBy (string), 8], [Property: AppRole.UpdateDate (DateTime?), 9] }
            SELECT TOP(2) a.Id, a.ConcurrencyStamp, a.CreateBy, a.CreateDate, a.Description, a.Name, a.NormalizedName, a.RoleCode, a.UpdateBy, a.UpdateDate
            FROM AppRole AS a
            WHERE a.NormalizedName == @__normalizedRoleName_0), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<DateTime>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<DateTime> }, 
        Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, AppRole>, 
        null, 
        null, 
        FoodShop.Persistence.ApplicationDbContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-04-16 01:53:25.550 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:53:25.551 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:53:25.551 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 01:53:25.551 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 01:53:25.551 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 01:53:25.552 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 01:53:25.554 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 01:53:25.576 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'AppRole' entity with key '{Id: 1ddacd3b-495b-4144-b828-3c9740ba1651}'.
2024-04-16 01:53:25.595 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 01:53:25.596 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 36ms reading results.
2024-04-16 01:53:25.596 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:53:25.596 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 01:53:25.611 +07:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<Guid>>()
    .FirstOrDefault(e => object.Equals(
        objA: EF.Property<object>(e, "RoleId"), 
        objB: __get_Item_0) && object.Equals(
        objA: EF.Property<object>(e, "UserId"), 
        objB: __get_Item_1))'
2024-04-16 01:53:25.677 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityUserRole<Guid>>(
    asyncEnumerable: new SplitQueryingEnumerable<IdentityUserRole<Guid>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUserRole<Guid>.RoleId (Guid) Required PK FK AfterSave:Throw, 0], [Property: IdentityUserRole<Guid>.UserId (Guid) Required PK FK Index AfterSave:Throw, 1] }
            SELECT TOP(1) a.RoleId, a.UserId
            FROM AppUserRole AS a
            WHERE (a.RoleId == @__get_Item_0) && (a.UserId == @__get_Item_1)), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<Guid> }, 
        Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, IdentityUserRole<Guid>>, 
        null, 
        null, 
        FoodShop.Persistence.ApplicationDbContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-04-16 01:53:25.682 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:53:25.682 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:53:25.683 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 01:53:25.683 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 01:53:25.683 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 01:53:25.684 +07:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='ceaa5399-2edc-4fc7-9e42-08dc5d7d54a3' (Nullable = true), @__get_Item_1='1ddacd3b-495b-4144-b828-3c9740ba1651' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[RoleId], [a].[UserId]
FROM [AppUserRole] AS [a]
WHERE [a].[RoleId] = @__get_Item_0 AND [a].[UserId] = @__get_Item_1
2024-04-16 01:53:25.698 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[@__get_Item_0='ceaa5399-2edc-4fc7-9e42-08dc5d7d54a3' (Nullable = true), @__get_Item_1='1ddacd3b-495b-4144-b828-3c9740ba1651' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[RoleId], [a].[UserId]
FROM [AppUserRole] AS [a]
WHERE [a].[RoleId] = @__get_Item_0 AND [a].[UserId] = @__get_Item_1
2024-04-16 01:53:25.699 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 01:53:25.700 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 0ms reading results.
2024-04-16 01:53:25.700 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:53:25.701 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 01:53:25.713 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:53:25.713 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:53:25.713 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 01:53:25.714 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 01:53:25.714 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 01:53:25.714 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 01:53:25.717 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 01:53:25.719 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 01:53:25.719 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 1ms reading results.
2024-04-16 01:53:25.720 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:53:25.720 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 01:53:25.759 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityUserRole' entity with key '{RoleId: 1ddacd3b-495b-4144-b828-3c9740ba1651, UserId: ceaa5399-2edc-4fc7-9e42-08dc5d7d54a3}'.
2024-04-16 01:53:25.763 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:53:25.763 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:53:25.764 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 01:53:25.764 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 01:53:25.764 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 01:53:25.765 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='STRING123123' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 01:53:25.768 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='STRING123123' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 01:53:25.772 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 01:53:25.772 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 1ms reading results.
2024-04-16 01:53:25.774 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:53:25.774 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 01:53:25.781 +07:00 [DBG] The 'AppUser' entity with key '{Id: ceaa5399-2edc-4fc7-9e42-08dc5d7d54a3}' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'.
2024-04-16 01:53:25.781 +07:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-04-16 01:53:25.782 +07:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-04-16 01:53:25.797 +07:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-04-16 01:53:25.814 +07:00 [DBG] Executing 2 update commands as a batch.
2024-04-16 01:53:25.816 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:53:25.817 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:53:25.818 +07:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-04-16 01:53:25.827 +07:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-04-16 01:53:25.830 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 01:53:25.830 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 01:53:25.831 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-04-16 01:53:25.832 +07:00 [DBG] Executing DbCommand [Parameters=[@p21='ceaa5399-2edc-4fc7-9e42-08dc5d7d54a3', @p0='0', @p1=NULL (Size = 4000), @p2=NULL (Size = 4000), @p3='14710c96-9c21-4c91-a3ce-d4be452139c6' (Size = 4000), @p4='0001-01-01T00:00:00.0000000', @p5='string123123' (Size = 4000), @p6='False', @p7=NULL (Size = 4000), @p8='string' (Size = 4000), @p9='string' (Size = 4000), @p10='True', @p11=NULL (DbType = DateTimeOffset), @p12='STRING123123' (Size = 4000), @p13='STRING123123' (Size = 4000), @p14='AQAAAAIAAYagAAAAEOdlNsDLtJo62JgmO1BxnTq5UPcSCTNDRrcrQtjMBXo8NWTuQG9B01yrit9G5ZJZhg==' (Size = 4000), @p15='string' (Size = 4000), @p16='False', @p17='EWFQT3MBZ6274U6ZAPXNVG2RMGAWTUC3' (Size = 4000), @p18='False', @p19='0001-01-01T00:00:00.0000000', @p20='string123123' (Size = 4000), @p22='1ddacd3b-495b-4144-b828-3c9740ba1651', @p23='ceaa5399-2edc-4fc7-9e42-08dc5d7d54a3'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AppUser] SET [AccessFailedCount] = @p0, [Address] = @p1, [Avatar] = @p2, [ConcurrencyStamp] = @p3, [CreatedDate] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [Facebook] = @p7, [FirstName] = @p8, [LastName] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [SecurityStamp] = @p17, [TwoFactorEnabled] = @p18, [UpdateDate] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21;
INSERT INTO [AppUserRole] ([RoleId], [UserId])
VALUES (@p22, @p23);
2024-04-16 01:53:25.842 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@p21='ceaa5399-2edc-4fc7-9e42-08dc5d7d54a3', @p0='0', @p1=NULL (Size = 4000), @p2=NULL (Size = 4000), @p3='14710c96-9c21-4c91-a3ce-d4be452139c6' (Size = 4000), @p4='0001-01-01T00:00:00.0000000', @p5='string123123' (Size = 4000), @p6='False', @p7=NULL (Size = 4000), @p8='string' (Size = 4000), @p9='string' (Size = 4000), @p10='True', @p11=NULL (DbType = DateTimeOffset), @p12='STRING123123' (Size = 4000), @p13='STRING123123' (Size = 4000), @p14='AQAAAAIAAYagAAAAEOdlNsDLtJo62JgmO1BxnTq5UPcSCTNDRrcrQtjMBXo8NWTuQG9B01yrit9G5ZJZhg==' (Size = 4000), @p15='string' (Size = 4000), @p16='False', @p17='EWFQT3MBZ6274U6ZAPXNVG2RMGAWTUC3' (Size = 4000), @p18='False', @p19='0001-01-01T00:00:00.0000000', @p20='string123123' (Size = 4000), @p22='1ddacd3b-495b-4144-b828-3c9740ba1651', @p23='ceaa5399-2edc-4fc7-9e42-08dc5d7d54a3'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AppUser] SET [AccessFailedCount] = @p0, [Address] = @p1, [Avatar] = @p2, [ConcurrencyStamp] = @p3, [CreatedDate] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [Facebook] = @p7, [FirstName] = @p8, [LastName] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [SecurityStamp] = @p17, [TwoFactorEnabled] = @p18, [UpdateDate] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21;
INSERT INTO [AppUserRole] ([RoleId], [UserId])
VALUES (@p22, @p23);
2024-04-16 01:53:25.844 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 01:53:25.844 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 2ms reading results.
2024-04-16 01:53:25.847 +07:00 [DBG] Committing transaction.
2024-04-16 01:53:25.851 +07:00 [DBG] Committed transaction.
2024-04-16 01:53:25.853 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:53:25.854 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 01:53:25.855 +07:00 [DBG] Disposing transaction.
2024-04-16 01:53:25.856 +07:00 [DBG] The 'IdentityUserRole' entity with key '{RoleId: 1ddacd3b-495b-4144-b828-3c9740ba1651, UserId: ceaa5399-2edc-4fc7-9e42-08dc5d7d54a3}' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'.
2024-04-16 01:53:25.857 +07:00 [DBG] The 'AppUser' entity with key '{Id: ceaa5399-2edc-4fc7-9e42-08dc5d7d54a3}' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'.
2024-04-16 01:53:25.857 +07:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 2 entities written to the database.
2024-04-16 01:53:27.423 +07:00 [INF] Executed action FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation) in 5180.6455ms
2024-04-16 01:53:27.425 +07:00 [INF] Executed endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)'
2024-04-16 01:53:27.486 +07:00 [ERR] Value cannot be null. (Parameter 'uriString')
System.ArgumentNullException: Value cannot be null. (Parameter 'uriString')
   at System.ArgumentNullException.Throw(String paramName)
   at System.ArgumentNullException.ThrowIfNull(Object argument, String paramName)
   at System.Uri..ctor(String uriString)
   at FoodShop.Infrastructure.DependencyInjection.Extensions.ServiceCollectionExtensions.<>c__DisplayClass1_0.<AddMailServiceConfiguration>b__0(IServiceProvider services, HttpClient client) in C:\Users\hieud\Code\C#\FoodShop\FoodShop\src\FoodShop.Infrastructure\DependencyInjection\Extensions\ServiceCollectionExtensions.cs:line 55
   at Microsoft.Extensions.Http.DefaultHttpClientFactory.CreateClient(String name)
   at FoodShop.Infrastructure.EmailServices.EmailSender..ctor(IOptionsMonitor`1 mailSettings, IHttpClientFactory httpClientFactory) in C:\Users\hieud\Code\C#\FoodShop\FoodShop\src\FoodShop.Infrastructure\EmailServices\EmailSender.cs:line 21
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithFewArgs(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitIEnumerable(IEnumerableCallSite enumerableCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at MediatR.Wrappers.NotificationHandlerWrapperImpl`1.Handle(INotification notification, IServiceProvider serviceFactory, Func`4 publish, CancellationToken cancellationToken)
   at MediatR.Mediator.PublishNotification(INotification notification, CancellationToken cancellationToken)
   at MediatR.Mediator.Publish[TNotification](TNotification notification, CancellationToken cancellationToken)
   at FoodShop.Presentation.Controllers.V1.AuthenticationController.Register(RegisterRequest model) in C:\Users\hieud\Code\C#\FoodShop\FoodShop\src\FoodShop.Presentation\Controllers\V1\AuthenticationController.cs:line 53
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at FoodShop.API.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in C:\Users\hieud\Code\C#\FoodShop\FoodShop\src\FoodShop.API\Middleware\ExceptionHandlingMiddleware.cs:line 22
2024-04-16 01:53:27.538 +07:00 [DBG] 'ApplicationDbContext' disposed.
2024-04-16 01:53:27.543 +07:00 [DBG] Disposing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 01:53:27.544 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-04-16 01:53:27.544 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7286/api/v1/Authentication/register - 500 null application/json; ver=1 5379.2759ms
2024-04-16 01:55:22.381 +07:00 [DBG] HttpMessageHandler expired after 120000ms for client ''
2024-04-16 01:55:27.371 +07:00 [DBG] HttpMessageHandler expired after 120000ms for client 'MailTrapApiClient'
2024-04-16 01:55:32.387 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 01:55:32.390 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0928ms - processed: 0 items - remaining: 2 items
2024-04-16 01:55:42.392 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 01:55:42.393 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0106ms - processed: 0 items - remaining: 2 items
2024-04-16 01:55:52.408 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 01:55:52.408 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0058ms - processed: 0 items - remaining: 2 items
2024-04-16 01:56:02.417 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 01:56:02.418 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0051ms - processed: 0 items - remaining: 2 items
2024-04-16 01:56:12.434 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 01:56:12.435 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.1541ms - processed: 0 items - remaining: 2 items
2024-04-16 01:56:22.438 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 01:56:22.438 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0071ms - processed: 0 items - remaining: 2 items
2024-04-16 01:56:32.446 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 01:56:32.446 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0054ms - processed: 0 items - remaining: 2 items
2024-04-16 01:56:42.452 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 01:56:42.452 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0059ms - processed: 0 items - remaining: 2 items
2024-04-16 01:56:52.460 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 01:56:52.461 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0058ms - processed: 0 items - remaining: 2 items
2024-04-16 01:57:01.456 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 01:57:01.456 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0066ms - processed: 0 items - remaining: 2 items
2024-04-16 01:57:11.465 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 01:57:11.466 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0052ms - processed: 0 items - remaining: 2 items
2024-04-16 01:57:21.478 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 01:57:21.478 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0065ms - processed: 0 items - remaining: 2 items
2024-04-16 01:57:31.482 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 01:57:31.482 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0038ms - processed: 0 items - remaining: 2 items
2024-04-16 01:57:41.495 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 01:57:41.495 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0033ms - processed: 0 items - remaining: 2 items
2024-04-16 01:57:51.499 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 01:57:51.500 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0038ms - processed: 0 items - remaining: 2 items
2024-04-16 01:58:01.503 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 01:58:01.503 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.1096ms - processed: 0 items - remaining: 2 items
2024-04-16 01:58:11.508 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 01:58:11.508 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0028ms - processed: 0 items - remaining: 2 items
2024-04-16 01:58:21.518 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 01:58:21.518 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0069ms - processed: 0 items - remaining: 2 items
2024-04-16 01:58:31.531 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 01:58:31.532 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0051ms - processed: 0 items - remaining: 2 items
2024-04-16 01:58:41.536 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 01:58:41.537 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0824ms - processed: 0 items - remaining: 2 items
2024-04-16 01:58:51.550 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 01:58:51.550 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0049ms - processed: 0 items - remaining: 2 items
2024-04-16 01:59:01.558 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 01:59:01.559 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0066ms - processed: 0 items - remaining: 2 items
2024-04-16 01:59:11.562 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 01:59:11.563 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0053ms - processed: 0 items - remaining: 2 items
2024-04-16 01:59:21.565 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 01:59:21.565 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0048ms - processed: 0 items - remaining: 2 items
2024-04-16 01:59:31.567 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 01:59:31.567 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0031ms - processed: 0 items - remaining: 2 items
2024-04-16 01:59:41.579 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 01:59:41.579 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0041ms - processed: 0 items - remaining: 2 items
2024-04-16 02:00:43.341 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-04-16 02:00:43.977 +07:00 [DBG] The index {'ProductId'} was not created on entity type 'CartProduct' as the properties are already covered by the index {'ProductId', 'CartId'}.
2024-04-16 02:00:43.978 +07:00 [DBG] The index {'OrderId'} was not created on entity type 'OrderProduct' as the properties are already covered by the index {'OrderId', 'ProductId'}.
2024-04-16 02:00:43.979 +07:00 [DBG] The index {'ProductId'} was not created on entity type 'ProductCategory' as the properties are already covered by the index {'ProductId', 'CategoryId'}.
2024-04-16 02:00:43.979 +07:00 [DBG] The index {'RoleId'} was not created on entity type 'IdentityUserRole<Guid>' as the properties are already covered by the index {'RoleId', 'UserId'}.
2024-04-16 02:00:44.061 +07:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-04-16 02:00:44.085 +07:00 [DBG] The property 'IdentityUserToken<Guid>.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-04-16 02:00:44.116 +07:00 [WRN] No store type was specified for the decimal property 'Amout' on entity type 'Cart'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 02:00:44.117 +07:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'CartProduct'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 02:00:44.118 +07:00 [WRN] No store type was specified for the decimal property 'Amout' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 02:00:44.118 +07:00 [WRN] No store type was specified for the decimal property 'AmoutTotal' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 02:00:44.119 +07:00 [WRN] No store type was specified for the decimal property 'Discount' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 02:00:44.119 +07:00 [WRN] No store type was specified for the decimal property 'Shipping' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 02:00:44.120 +07:00 [WRN] No store type was specified for the decimal property 'Tax' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 02:00:44.120 +07:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'OrderProduct'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 02:00:44.121 +07:00 [WRN] No store type was specified for the decimal property 'Discount' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 02:00:44.121 +07:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 02:00:44.262 +07:00 [DBG] Entity Framework Core 8.0.4 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.3' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using lazy loading proxies QuerySplittingBehavior=SplitQuery MigrationsAssembly=FoodShop.Persistence 
2024-04-16 02:00:44.269 +07:00 [DBG] Creating DbConnection.
2024-04-16 02:00:44.309 +07:00 [DBG] Created DbConnection. (37ms).
2024-04-16 02:00:44.312 +07:00 [DBG] Migrating using database 'FoodShop' on server 'localhost'.
2024-04-16 02:00:44.316 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:00:44.577 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:00:44.583 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-04-16 02:00:44.587 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (4ms).
2024-04-16 02:00:44.589 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (8ms).
2024-04-16 02:00:44.595 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 02:00:44.619 +07:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 02:00:44.621 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:00:44.629 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (5ms).
2024-04-16 02:00:44.632 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-04-16 02:00:44.632 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 02:00:44.633 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 02:00:44.633 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:00:44.634 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:00:44.634 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 02:00:44.667 +07:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 02:00:44.667 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:00:44.668 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (1ms).
2024-04-16 02:00:44.670 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:00:44.671 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:00:44.671 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-04-16 02:00:44.671 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-04-16 02:00:44.672 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-04-16 02:00:44.672 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 02:00:44.675 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 02:00:44.675 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:00:44.676 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 02:00:44.676 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-04-16 02:00:44.677 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 02:00:44.677 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 02:00:44.678 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:00:44.678 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:00:44.678 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 02:00:44.680 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 02:00:44.681 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:00:44.681 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 02:00:44.697 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:00:44.698 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:00:44.698 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 02:00:44.698 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:00:44.699 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:00:44.700 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-16 02:00:44.708 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-16 02:00:44.712 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 02:00:44.714 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 3ms reading results.
2024-04-16 02:00:44.715 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:00:44.715 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 02:00:44.728 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-04-16 02:00:44.765 +07:00 [DBG] Compiling query expression: 
'DbSet<AppRole>()
    .Any()'
2024-04-16 02:00:44.880 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SplitQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AppRole AS a)), 
    ReaderColumn[] { ReaderColumn<bool> }, 
    Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, bool>, 
    null, 
    null, 
    FoodShop.Persistence.ApplicationDbContext, 
    False, 
    True, 
    True
)
    .Single()'
2024-04-16 02:00:44.897 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:00:44.898 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:00:44.898 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 02:00:44.898 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:00:44.898 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:00:44.899 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AppRole] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-04-16 02:00:44.912 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AppRole] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-04-16 02:00:44.924 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 02:00:44.925 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 2ms reading results.
2024-04-16 02:00:44.925 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:00:44.925 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 02:00:44.928 +07:00 [DBG] 'ApplicationDbContext' disposed.
2024-04-16 02:00:44.931 +07:00 [DBG] Disposing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:00:44.932 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-04-16 02:00:46.009 +07:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-04-16 02:00:46.389 +07:00 [DBG] Hosting starting
2024-04-16 02:00:46.437 +07:00 [INF] User profile is available. Using 'C:\Users\hieud\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-04-16 02:00:46.451 +07:00 [DBG] Reading data from file 'C:\Users\hieud\AppData\Local\ASP.NET\DataProtection-Keys\key-5b2baa0a-904f-4101-af08-7ac673b8db2c.xml'.
2024-04-16 02:00:46.463 +07:00 [DBG] Found key {5b2baa0a-904f-4101-af08-7ac673b8db2c}.
2024-04-16 02:00:46.476 +07:00 [DBG] Considering key {5b2baa0a-904f-4101-af08-7ac673b8db2c} with expiration date 2024-05-20 17:09:10Z as default key.
2024-04-16 02:00:46.481 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-04-16 02:00:46.483 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-04-16 02:00:46.485 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-04-16 02:00:46.488 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-04-16 02:00:46.492 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-04-16 02:00:46.497 +07:00 [DBG] Using key {5b2baa0a-904f-4101-af08-7ac673b8db2c} as the default key.
2024-04-16 02:00:46.499 +07:00 [DBG] Key ring with default key {5b2baa0a-904f-4101-af08-7ac673b8db2c} was loaded during application startup.
2024-04-16 02:00:46.773 +07:00 [INF] Now listening on: https://localhost:7286
2024-04-16 02:00:46.774 +07:00 [INF] Now listening on: http://localhost:5010
2024-04-16 02:00:46.774 +07:00 [DBG] Loaded hosting startup assembly FoodShop.API
2024-04-16 02:00:46.775 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-04-16 02:00:46.775 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-04-16 02:00:46.776 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-04-16 02:00:46.799 +07:00 [DBG] Connection id "0HN2TFPDTI56R" accepted.
2024-04-16 02:00:46.801 +07:00 [DBG] Connection id "0HN2TFPDTI56R" started.
2024-04-16 02:00:46.829 +07:00 [DBG] Connection id "0HN2TFPDTI56R" received FIN.
2024-04-16 02:00:46.839 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-04-16 02:00:46.856 +07:00 [DBG] Connection id "0HN2TFPDTI56R" stopped.
2024-04-16 02:00:46.860 +07:00 [DBG] Connection id "0HN2TFPDTI56R" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-04-16 02:00:46.894 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-04-16 02:00:46.895 +07:00 [INF] Hosting environment: Development
2024-04-16 02:00:46.895 +07:00 [INF] Content root path: C:\Users\hieud\Code\C#\FoodShop\FoodShop\src\FoodShop.API
2024-04-16 02:00:46.895 +07:00 [DBG] Hosting started
2024-04-16 02:00:47.052 +07:00 [DBG] Connection id "0HN2TFPDTI56S" accepted.
2024-04-16 02:00:47.052 +07:00 [DBG] Connection id "0HN2TFPDTI56S" started.
2024-04-16 02:00:47.081 +07:00 [DBG] Connection 0HN2TFPDTI56S established using the following protocol: "Tls13"
2024-04-16 02:00:47.130 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/swagger/index.html - null null
2024-04-16 02:00:47.268 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-04-16 02:00:47.305 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-04-16 02:00:47.306 +07:00 [DBG] Request did not match any endpoints
2024-04-16 02:00:47.377 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-16 02:00:47.433 +07:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-04-16 02:00:47.435 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-04-16 02:00:47.454 +07:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-04-16 02:00:47.455 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-04-16 02:00:47.459 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/swagger/index.html - 200 null text/html;charset=utf-8 332.8262ms
2024-04-16 02:00:47.531 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/_framework/aspnetcore-browser-refresh.js - null null
2024-04-16 02:00:47.540 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/_vs/browserLink - null null
2024-04-16 02:00:47.541 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 10.0012ms
2024-04-16 02:00:47.587 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/_vs/browserLink - 200 null text/javascript; charset=UTF-8 46.7203ms
2024-04-16 02:00:47.958 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/swagger/v1/swagger.json - null null
2024-04-16 02:00:47.959 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-04-16 02:00:47.959 +07:00 [DBG] Request did not match any endpoints
2024-04-16 02:00:47.960 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-16 02:00:48.067 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 109.1815ms
2024-04-16 02:01:00.936 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7286/api/v1/Authentication/register - application/json; ver=1.0 159
2024-04-16 02:01:00.968 +07:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Authentication/register'
2024-04-16 02:01:00.970 +07:00 [DBG] Endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)' with route pattern 'api/v{version:apiVersion}/Authentication/register' is valid for the request path '/api/v1/Authentication/register'
2024-04-16 02:01:00.977 +07:00 [DBG] Request matched endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)'
2024-04-16 02:01:00.982 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-16 02:01:00.984 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-04-16 02:01:00.987 +07:00 [INF] Start request......!
2024-04-16 02:01:00.991 +07:00 [INF] Executing endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)'
2024-04-16 02:01:01.032 +07:00 [INF] Route matched with {action = "Register", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest) on controller FoodShop.Presentation.Controllers.V1.AuthenticationController (FoodShop.Presentation).
2024-04-16 02:01:01.035 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-04-16 02:01:01.036 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-04-16 02:01:01.037 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)","Asp.Versioning.ApplyContentTypeVersionActionFilter"]
2024-04-16 02:01:01.038 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-04-16 02:01:01.039 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-04-16 02:01:01.042 +07:00 [DBG] Executing controller factory for controller FoodShop.Presentation.Controllers.V1.AuthenticationController (FoodShop.Presentation)
2024-04-16 02:01:01.177 +07:00 [DBG] Executed controller factory for controller FoodShop.Presentation.Controllers.V1.AuthenticationController (FoodShop.Presentation)
2024-04-16 02:01:01.182 +07:00 [DBG] Attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest' ...
2024-04-16 02:01:01.185 +07:00 [DBG] Attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest' using the name '' in request data ...
2024-04-16 02:01:01.186 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json; ver=1.0'.
2024-04-16 02:01:01.191 +07:00 [DBG] Connection id "0HN2TFPDTI56S", Request id "0HN2TFPDTI56S:00000009": started reading request body.
2024-04-16 02:01:01.192 +07:00 [DBG] Connection id "0HN2TFPDTI56S", Request id "0HN2TFPDTI56S:00000009": done reading request body.
2024-04-16 02:01:01.197 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'
2024-04-16 02:01:01.197 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'.
2024-04-16 02:01:01.198 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'.
2024-04-16 02:01:01.198 +07:00 [DBG] Attempting to validate the bound parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest' ...
2024-04-16 02:01:01.207 +07:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'.
2024-04-16 02:01:04.633 +07:00 [DBG] Entity Framework Core 8.0.4 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.3' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using lazy loading proxies QuerySplittingBehavior=SplitQuery MigrationsAssembly=FoodShop.Persistence 
2024-04-16 02:01:04.646 +07:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2024-04-16 02:01:05.271 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppUser>(
    asyncEnumerable: new SplitQueryingEnumerable<AppUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AppUser.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: AppUser.AccessFailedCount (int) Required, 1], [Property: AppUser.Address (string), 2], [Property: AppUser.Avatar (string), 3], [Property: AppUser.ConcurrencyStamp (string), 4], [Property: AppUser.CreatedDate (DateTime) Required, 5], [Property: AppUser.Email (string), 6], [Property: AppUser.EmailConfirmed (bool) Required, 7], [Property: AppUser.Facebook (string), 8], [Property: AppUser.FirstName (string), 9], [Property: AppUser.LastName (string), 10], [Property: AppUser.LockoutEnabled (bool) Required, 11], [Property: AppUser.LockoutEnd (DateTimeOffset?), 12], [Property: AppUser.NormalizedEmail (string), 13], [Property: AppUser.NormalizedUserName (string), 14], [Property: AppUser.PasswordHash (string), 15], [Property: AppUser.PhoneNumber (string), 16], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 17], [Property: AppUser.SecurityStamp (string), 18], [Property: AppUser.TwoFactorEnabled (bool) Required, 19], [Property: AppUser.UpdateDate (DateTime) Required, 20], [Property: AppUser.UserName (string), 21] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.Address, a.Avatar, a.ConcurrencyStamp, a.CreatedDate, a.Email, a.EmailConfirmed, a.Facebook, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UpdateDate, a.UserName
            FROM AppUser AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<int>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<DateTime>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<DateTimeOffset>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<DateTime>, ReaderColumn<object> }, 
        Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, AppUser>, 
        null, 
        null, 
        FoodShop.Persistence.ApplicationDbContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-04-16 02:01:05.295 +07:00 [DBG] Creating DbConnection.
2024-04-16 02:01:05.295 +07:00 [DBG] Created DbConnection. (0ms).
2024-04-16 02:01:05.297 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:01:05.299 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:01:05.300 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 02:01:05.300 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:01:05.304 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-04-16 02:01:05.310 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='STRING123123123123' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 02:01:05.410 +07:00 [INF] Executed DbCommand (104ms) [Parameters=[@__normalizedUserName_0='STRING123123123123' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 02:01:05.430 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 02:01:05.441 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 17ms reading results.
2024-04-16 02:01:05.457 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:01:05.459 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (2ms).
2024-04-16 02:01:05.495 +07:00 [DBG] 'ApplicationDbContext' generated value '"5905d029-7599-4bd7-8eeb-08dc5d7e66fd"' for the property 'AppUser.Id'.
2024-04-16 02:01:05.603 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'AppUser' entity with key '{Id: 5905d029-7599-4bd7-8eeb-08dc5d7e66fd}'.
2024-04-16 02:01:05.606 +07:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-04-16 02:01:05.610 +07:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-04-16 02:01:05.633 +07:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-04-16 02:01:05.711 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:01:05.712 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:01:05.715 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 02:01:05.716 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:01:05.717 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-04-16 02:01:05.720 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='5905d029-7599-4bd7-8eeb-08dc5d7e66fd', @p1='0', @p2=NULL (Size = 4000), @p3=NULL (Size = 4000), @p4='05bd3709-a05f-4c73-a054-3bd5c653d3a3' (Size = 4000), @p5='0001-01-01T00:00:00.0000000', @p6='string123123123123' (Size = 4000), @p7='False', @p8=NULL (Size = 4000), @p9='string' (Size = 4000), @p10='string' (Size = 4000), @p11='True', @p12=NULL (DbType = DateTimeOffset), @p13='STRING123123123123' (Size = 4000), @p14='STRING123123123123' (Size = 4000), @p15='AQAAAAIAAYagAAAAEC3boTiW/Z20aPIdAAJWkW0Tspsrd8hOCtmXCYKQOKHLgnftOa8lxhws0yuPVP+r1w==' (Size = 4000), @p16='string' (Size = 4000), @p17='False', @p18='LY52GBYA7QRXBMDTXPI4FFX5NOSAZWH2' (Size = 4000), @p19='False', @p20='0001-01-01T00:00:00.0000000', @p21='string123123123123' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AppUser] ([Id], [AccessFailedCount], [Address], [Avatar], [ConcurrencyStamp], [CreatedDate], [Email], [EmailConfirmed], [Facebook], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UpdateDate], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21);
2024-04-16 02:01:05.725 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='5905d029-7599-4bd7-8eeb-08dc5d7e66fd', @p1='0', @p2=NULL (Size = 4000), @p3=NULL (Size = 4000), @p4='05bd3709-a05f-4c73-a054-3bd5c653d3a3' (Size = 4000), @p5='0001-01-01T00:00:00.0000000', @p6='string123123123123' (Size = 4000), @p7='False', @p8=NULL (Size = 4000), @p9='string' (Size = 4000), @p10='string' (Size = 4000), @p11='True', @p12=NULL (DbType = DateTimeOffset), @p13='STRING123123123123' (Size = 4000), @p14='STRING123123123123' (Size = 4000), @p15='AQAAAAIAAYagAAAAEC3boTiW/Z20aPIdAAJWkW0Tspsrd8hOCtmXCYKQOKHLgnftOa8lxhws0yuPVP+r1w==' (Size = 4000), @p16='string' (Size = 4000), @p17='False', @p18='LY52GBYA7QRXBMDTXPI4FFX5NOSAZWH2' (Size = 4000), @p19='False', @p20='0001-01-01T00:00:00.0000000', @p21='string123123123123' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AppUser] ([Id], [AccessFailedCount], [Address], [Avatar], [ConcurrencyStamp], [CreatedDate], [Email], [EmailConfirmed], [Facebook], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UpdateDate], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21);
2024-04-16 02:01:05.732 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 02:01:05.734 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 5ms reading results.
2024-04-16 02:01:05.736 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:01:05.737 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (1ms).
2024-04-16 02:01:05.747 +07:00 [DBG] The 'AppUser' entity with key '{Id: 5905d029-7599-4bd7-8eeb-08dc5d7e66fd}' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'.
2024-04-16 02:01:05.750 +07:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-04-16 02:01:08.733 +07:00 [DBG] Compiling query expression: 
'DbSet<AppRole>()
    .SingleOrDefault(r => r.NormalizedName == __normalizedRoleName_0)'
2024-04-16 02:01:08.803 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppRole>(
    asyncEnumerable: new SplitQueryingEnumerable<AppRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AppRole.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: AppRole.ConcurrencyStamp (string), 1], [Property: AppRole.CreateBy (string), 2], [Property: AppRole.CreateDate (DateTime?), 3], [Property: AppRole.Description (string) Required MaxLength(250), 4], [Property: AppRole.Name (string), 5], [Property: AppRole.NormalizedName (string), 6], [Property: AppRole.RoleCode (string) Required MaxLength(50), 7], [Property: AppRole.UpdateBy (string), 8], [Property: AppRole.UpdateDate (DateTime?), 9] }
            SELECT TOP(2) a.Id, a.ConcurrencyStamp, a.CreateBy, a.CreateDate, a.Description, a.Name, a.NormalizedName, a.RoleCode, a.UpdateBy, a.UpdateDate
            FROM AppRole AS a
            WHERE a.NormalizedName == @__normalizedRoleName_0), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<DateTime>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<DateTime> }, 
        Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, AppRole>, 
        null, 
        null, 
        FoodShop.Persistence.ApplicationDbContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-04-16 02:01:08.805 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:01:08.805 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:01:08.806 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 02:01:08.806 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:01:08.806 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:01:08.806 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 02:01:08.808 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 02:01:08.841 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'AppRole' entity with key '{Id: 1ddacd3b-495b-4144-b828-3c9740ba1651}'.
2024-04-16 02:01:08.853 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 02:01:08.854 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 27ms reading results.
2024-04-16 02:01:08.854 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:01:08.854 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 02:01:08.866 +07:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<Guid>>()
    .FirstOrDefault(e => object.Equals(
        objA: EF.Property<object>(e, "RoleId"), 
        objB: __get_Item_0) && object.Equals(
        objA: EF.Property<object>(e, "UserId"), 
        objB: __get_Item_1))'
2024-04-16 02:01:08.935 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityUserRole<Guid>>(
    asyncEnumerable: new SplitQueryingEnumerable<IdentityUserRole<Guid>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUserRole<Guid>.RoleId (Guid) Required PK FK AfterSave:Throw, 0], [Property: IdentityUserRole<Guid>.UserId (Guid) Required PK FK Index AfterSave:Throw, 1] }
            SELECT TOP(1) a.RoleId, a.UserId
            FROM AppUserRole AS a
            WHERE (a.RoleId == @__get_Item_0) && (a.UserId == @__get_Item_1)), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<Guid> }, 
        Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, IdentityUserRole<Guid>>, 
        null, 
        null, 
        FoodShop.Persistence.ApplicationDbContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-04-16 02:01:08.939 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:01:08.939 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:01:08.940 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 02:01:08.940 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:01:08.940 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:01:08.941 +07:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='5905d029-7599-4bd7-8eeb-08dc5d7e66fd' (Nullable = true), @__get_Item_1='1ddacd3b-495b-4144-b828-3c9740ba1651' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[RoleId], [a].[UserId]
FROM [AppUserRole] AS [a]
WHERE [a].[RoleId] = @__get_Item_0 AND [a].[UserId] = @__get_Item_1
2024-04-16 02:01:08.954 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@__get_Item_0='5905d029-7599-4bd7-8eeb-08dc5d7e66fd' (Nullable = true), @__get_Item_1='1ddacd3b-495b-4144-b828-3c9740ba1651' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[RoleId], [a].[UserId]
FROM [AppUserRole] AS [a]
WHERE [a].[RoleId] = @__get_Item_0 AND [a].[UserId] = @__get_Item_1
2024-04-16 02:01:08.955 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 02:01:08.955 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 0ms reading results.
2024-04-16 02:01:08.956 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:01:08.956 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 02:01:08.963 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:01:08.963 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:01:08.964 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 02:01:08.964 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:01:08.964 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:01:08.965 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 02:01:08.966 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 02:01:08.968 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 02:01:08.968 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 0ms reading results.
2024-04-16 02:01:08.968 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:01:08.969 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 02:01:08.987 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityUserRole' entity with key '{RoleId: 1ddacd3b-495b-4144-b828-3c9740ba1651, UserId: 5905d029-7599-4bd7-8eeb-08dc5d7e66fd}'.
2024-04-16 02:01:08.990 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:01:08.990 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:01:08.990 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 02:01:08.991 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:01:08.991 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:01:08.991 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='STRING123123123123' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 02:01:08.993 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='STRING123123123123' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 02:01:08.996 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 02:01:08.996 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 0ms reading results.
2024-04-16 02:01:08.997 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:01:08.997 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 02:01:09.001 +07:00 [DBG] The 'AppUser' entity with key '{Id: 5905d029-7599-4bd7-8eeb-08dc5d7e66fd}' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'.
2024-04-16 02:01:09.002 +07:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-04-16 02:01:09.002 +07:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-04-16 02:01:09.013 +07:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-04-16 02:01:09.024 +07:00 [DBG] Executing 2 update commands as a batch.
2024-04-16 02:01:09.026 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:01:09.026 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:01:09.028 +07:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-04-16 02:01:09.033 +07:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-04-16 02:01:09.034 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 02:01:09.034 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:01:09.035 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-04-16 02:01:09.036 +07:00 [DBG] Executing DbCommand [Parameters=[@p21='5905d029-7599-4bd7-8eeb-08dc5d7e66fd', @p0='0', @p1=NULL (Size = 4000), @p2=NULL (Size = 4000), @p3='e9d99e27-07d4-43b2-bc18-885b6d94525a' (Size = 4000), @p4='0001-01-01T00:00:00.0000000', @p5='string123123123123' (Size = 4000), @p6='False', @p7=NULL (Size = 4000), @p8='string' (Size = 4000), @p9='string' (Size = 4000), @p10='True', @p11=NULL (DbType = DateTimeOffset), @p12='STRING123123123123' (Size = 4000), @p13='STRING123123123123' (Size = 4000), @p14='AQAAAAIAAYagAAAAEC3boTiW/Z20aPIdAAJWkW0Tspsrd8hOCtmXCYKQOKHLgnftOa8lxhws0yuPVP+r1w==' (Size = 4000), @p15='string' (Size = 4000), @p16='False', @p17='LY52GBYA7QRXBMDTXPI4FFX5NOSAZWH2' (Size = 4000), @p18='False', @p19='0001-01-01T00:00:00.0000000', @p20='string123123123123' (Size = 4000), @p22='1ddacd3b-495b-4144-b828-3c9740ba1651', @p23='5905d029-7599-4bd7-8eeb-08dc5d7e66fd'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AppUser] SET [AccessFailedCount] = @p0, [Address] = @p1, [Avatar] = @p2, [ConcurrencyStamp] = @p3, [CreatedDate] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [Facebook] = @p7, [FirstName] = @p8, [LastName] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [SecurityStamp] = @p17, [TwoFactorEnabled] = @p18, [UpdateDate] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21;
INSERT INTO [AppUserRole] ([RoleId], [UserId])
VALUES (@p22, @p23);
2024-04-16 02:01:09.053 +07:00 [INF] Executed DbCommand (17ms) [Parameters=[@p21='5905d029-7599-4bd7-8eeb-08dc5d7e66fd', @p0='0', @p1=NULL (Size = 4000), @p2=NULL (Size = 4000), @p3='e9d99e27-07d4-43b2-bc18-885b6d94525a' (Size = 4000), @p4='0001-01-01T00:00:00.0000000', @p5='string123123123123' (Size = 4000), @p6='False', @p7=NULL (Size = 4000), @p8='string' (Size = 4000), @p9='string' (Size = 4000), @p10='True', @p11=NULL (DbType = DateTimeOffset), @p12='STRING123123123123' (Size = 4000), @p13='STRING123123123123' (Size = 4000), @p14='AQAAAAIAAYagAAAAEC3boTiW/Z20aPIdAAJWkW0Tspsrd8hOCtmXCYKQOKHLgnftOa8lxhws0yuPVP+r1w==' (Size = 4000), @p15='string' (Size = 4000), @p16='False', @p17='LY52GBYA7QRXBMDTXPI4FFX5NOSAZWH2' (Size = 4000), @p18='False', @p19='0001-01-01T00:00:00.0000000', @p20='string123123123123' (Size = 4000), @p22='1ddacd3b-495b-4144-b828-3c9740ba1651', @p23='5905d029-7599-4bd7-8eeb-08dc5d7e66fd'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AppUser] SET [AccessFailedCount] = @p0, [Address] = @p1, [Avatar] = @p2, [ConcurrencyStamp] = @p3, [CreatedDate] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [Facebook] = @p7, [FirstName] = @p8, [LastName] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [SecurityStamp] = @p17, [TwoFactorEnabled] = @p18, [UpdateDate] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21;
INSERT INTO [AppUserRole] ([RoleId], [UserId])
VALUES (@p22, @p23);
2024-04-16 02:01:09.057 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 02:01:09.058 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 2ms reading results.
2024-04-16 02:01:09.061 +07:00 [DBG] Committing transaction.
2024-04-16 02:01:09.066 +07:00 [DBG] Committed transaction.
2024-04-16 02:01:09.069 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:01:09.069 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 02:01:09.072 +07:00 [DBG] Disposing transaction.
2024-04-16 02:01:09.073 +07:00 [DBG] The 'IdentityUserRole' entity with key '{RoleId: 1ddacd3b-495b-4144-b828-3c9740ba1651, UserId: 5905d029-7599-4bd7-8eeb-08dc5d7e66fd}' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'.
2024-04-16 02:01:09.073 +07:00 [DBG] The 'AppUser' entity with key '{Id: 5905d029-7599-4bd7-8eeb-08dc5d7e66fd}' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'.
2024-04-16 02:01:09.074 +07:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 2 entities written to the database.
2024-04-16 02:01:14.137 +07:00 [INF] Executed action FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation) in 13091.3693ms
2024-04-16 02:01:14.140 +07:00 [INF] Executed endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)'
2024-04-16 02:01:14.267 +07:00 [ERR] Value cannot be null. (Parameter 'uriString')
System.ArgumentNullException: Value cannot be null. (Parameter 'uriString')
   at System.ArgumentNullException.Throw(String paramName)
   at System.ArgumentNullException.ThrowIfNull(Object argument, String paramName)
   at System.Uri..ctor(String uriString)
   at FoodShop.Infrastructure.DependencyInjection.Extensions.ServiceCollectionExtensions.<>c__DisplayClass1_0.<AddMailServiceConfiguration>b__0(IServiceProvider services, HttpClient client) in C:\Users\hieud\Code\C#\FoodShop\FoodShop\src\FoodShop.Infrastructure\DependencyInjection\Extensions\ServiceCollectionExtensions.cs:line 55
   at Microsoft.Extensions.Http.DefaultHttpClientFactory.CreateClient(String name)
   at FoodShop.Infrastructure.EmailServices.EmailSender..ctor(IOptionsMonitor`1 mailSettings, IHttpClientFactory httpClientFactory) in C:\Users\hieud\Code\C#\FoodShop\FoodShop\src\FoodShop.Infrastructure\EmailServices\EmailSender.cs:line 21
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithFewArgs(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitIEnumerable(IEnumerableCallSite enumerableCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at MediatR.Wrappers.NotificationHandlerWrapperImpl`1.Handle(INotification notification, IServiceProvider serviceFactory, Func`4 publish, CancellationToken cancellationToken)
   at MediatR.Mediator.PublishNotification(INotification notification, CancellationToken cancellationToken)
   at MediatR.Mediator.Publish[TNotification](TNotification notification, CancellationToken cancellationToken)
   at FoodShop.Presentation.Controllers.V1.AuthenticationController.Register(RegisterRequest model) in C:\Users\hieud\Code\C#\FoodShop\FoodShop\src\FoodShop.Presentation\Controllers\V1\AuthenticationController.cs:line 53
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at FoodShop.API.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in C:\Users\hieud\Code\C#\FoodShop\FoodShop\src\FoodShop.API\Middleware\ExceptionHandlingMiddleware.cs:line 22
2024-04-16 02:01:14.321 +07:00 [DBG] 'ApplicationDbContext' disposed.
2024-04-16 02:01:14.328 +07:00 [DBG] Disposing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:01:14.328 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-04-16 02:01:14.329 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7286/api/v1/Authentication/register - 500 null application/json; ver=1 13392.8695ms
2024-04-16 02:03:01.189 +07:00 [DBG] HttpMessageHandler expired after 120000ms for client ''
2024-04-16 02:03:11.200 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2024-04-16 02:03:11.206 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.1387ms - processed: 0 items - remaining: 1 items
2024-04-16 02:03:14.020 +07:00 [DBG] HttpMessageHandler expired after 120000ms for client 'MailTrapApiClient'
2024-04-16 02:03:21.217 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:03:21.218 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0091ms - processed: 0 items - remaining: 2 items
2024-04-16 02:03:31.231 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:03:31.231 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0072ms - processed: 0 items - remaining: 2 items
2024-04-16 02:03:41.233 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:03:41.233 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0062ms - processed: 0 items - remaining: 2 items
2024-04-16 02:03:51.248 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:03:51.249 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0971ms - processed: 0 items - remaining: 2 items
2024-04-16 02:04:01.255 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:04:01.256 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0064ms - processed: 0 items - remaining: 2 items
2024-04-16 02:04:11.269 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:04:11.269 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0036ms - processed: 0 items - remaining: 2 items
2024-04-16 02:04:21.282 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:04:21.282 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0056ms - processed: 0 items - remaining: 2 items
2024-04-16 02:04:31.283 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:04:31.284 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0047ms - processed: 0 items - remaining: 2 items
2024-04-16 02:04:41.295 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:04:41.296 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0035ms - processed: 0 items - remaining: 2 items
2024-04-16 02:04:51.304 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:04:51.343 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0065ms - processed: 0 items - remaining: 2 items
2024-04-16 02:05:01.471 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:05:01.471 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0042ms - processed: 0 items - remaining: 2 items
2024-04-16 02:05:11.481 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:05:11.481 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0101ms - processed: 0 items - remaining: 2 items
2024-04-16 02:05:21.496 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:05:21.496 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0046ms - processed: 0 items - remaining: 2 items
2024-04-16 02:05:31.505 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:05:31.506 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0044ms - processed: 0 items - remaining: 2 items
2024-04-16 02:05:41.513 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:05:41.514 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.1476ms - processed: 0 items - remaining: 2 items
2024-04-16 02:05:51.524 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:05:51.524 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0049ms - processed: 0 items - remaining: 2 items
2024-04-16 02:06:12.924 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-04-16 02:06:13.391 +07:00 [DBG] The index {'ProductId'} was not created on entity type 'CartProduct' as the properties are already covered by the index {'ProductId', 'CartId'}.
2024-04-16 02:06:13.392 +07:00 [DBG] The index {'OrderId'} was not created on entity type 'OrderProduct' as the properties are already covered by the index {'OrderId', 'ProductId'}.
2024-04-16 02:06:13.392 +07:00 [DBG] The index {'ProductId'} was not created on entity type 'ProductCategory' as the properties are already covered by the index {'ProductId', 'CategoryId'}.
2024-04-16 02:06:13.393 +07:00 [DBG] The index {'RoleId'} was not created on entity type 'IdentityUserRole<Guid>' as the properties are already covered by the index {'RoleId', 'UserId'}.
2024-04-16 02:06:13.478 +07:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-04-16 02:06:13.498 +07:00 [DBG] The property 'IdentityUserToken<Guid>.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-04-16 02:06:13.526 +07:00 [WRN] No store type was specified for the decimal property 'Amout' on entity type 'Cart'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 02:06:13.526 +07:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'CartProduct'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 02:06:13.527 +07:00 [WRN] No store type was specified for the decimal property 'Amout' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 02:06:13.527 +07:00 [WRN] No store type was specified for the decimal property 'AmoutTotal' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 02:06:13.528 +07:00 [WRN] No store type was specified for the decimal property 'Discount' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 02:06:13.528 +07:00 [WRN] No store type was specified for the decimal property 'Shipping' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 02:06:13.528 +07:00 [WRN] No store type was specified for the decimal property 'Tax' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 02:06:13.529 +07:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'OrderProduct'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 02:06:13.529 +07:00 [WRN] No store type was specified for the decimal property 'Discount' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 02:06:13.529 +07:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 02:06:13.693 +07:00 [DBG] Entity Framework Core 8.0.4 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.3' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using lazy loading proxies QuerySplittingBehavior=SplitQuery MigrationsAssembly=FoodShop.Persistence 
2024-04-16 02:06:13.700 +07:00 [DBG] Creating DbConnection.
2024-04-16 02:06:13.740 +07:00 [DBG] Created DbConnection. (37ms).
2024-04-16 02:06:13.742 +07:00 [DBG] Migrating using database 'FoodShop' on server 'localhost'.
2024-04-16 02:06:13.746 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:06:14.084 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:06:14.091 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-04-16 02:06:14.119 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (6ms).
2024-04-16 02:06:14.122 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (33ms).
2024-04-16 02:06:14.133 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 02:06:14.184 +07:00 [INF] Executed DbCommand (47ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 02:06:14.188 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:06:14.205 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (10ms).
2024-04-16 02:06:14.211 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-04-16 02:06:14.211 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 02:06:14.212 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2024-04-16 02:06:14.212 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:06:14.214 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:06:14.215 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 02:06:14.251 +07:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 02:06:14.251 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:06:14.252 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 02:06:14.254 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:06:14.254 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:06:14.254 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-04-16 02:06:14.255 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-04-16 02:06:14.255 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-04-16 02:06:14.255 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 02:06:14.257 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 02:06:14.258 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:06:14.258 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 02:06:14.259 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-04-16 02:06:14.259 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 02:06:14.259 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 02:06:14.259 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:06:14.260 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:06:14.260 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 02:06:14.261 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 02:06:14.262 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:06:14.262 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 02:06:14.275 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:06:14.276 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:06:14.276 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 02:06:14.277 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:06:14.277 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:06:14.278 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-16 02:06:14.283 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-16 02:06:14.287 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 02:06:14.289 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 3ms reading results.
2024-04-16 02:06:14.290 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:06:14.290 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 02:06:14.305 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-04-16 02:06:14.368 +07:00 [DBG] Compiling query expression: 
'DbSet<AppRole>()
    .Any()'
2024-04-16 02:06:14.491 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SplitQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AppRole AS a)), 
    ReaderColumn[] { ReaderColumn<bool> }, 
    Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, bool>, 
    null, 
    null, 
    FoodShop.Persistence.ApplicationDbContext, 
    False, 
    True, 
    True
)
    .Single()'
2024-04-16 02:06:14.510 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:06:14.511 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:06:14.511 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 02:06:14.511 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:06:14.511 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:06:14.512 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AppRole] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-04-16 02:06:14.525 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AppRole] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-04-16 02:06:14.540 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 02:06:14.540 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 2ms reading results.
2024-04-16 02:06:14.541 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:06:14.542 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 02:06:14.544 +07:00 [DBG] 'ApplicationDbContext' disposed.
2024-04-16 02:06:14.547 +07:00 [DBG] Disposing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:06:14.549 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-04-16 02:06:14.616 +07:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-04-16 02:06:14.680 +07:00 [DBG] Hosting starting
2024-04-16 02:06:14.704 +07:00 [INF] User profile is available. Using 'C:\Users\hieud\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-04-16 02:06:14.715 +07:00 [DBG] Reading data from file 'C:\Users\hieud\AppData\Local\ASP.NET\DataProtection-Keys\key-5b2baa0a-904f-4101-af08-7ac673b8db2c.xml'.
2024-04-16 02:06:14.725 +07:00 [DBG] Found key {5b2baa0a-904f-4101-af08-7ac673b8db2c}.
2024-04-16 02:06:14.737 +07:00 [DBG] Considering key {5b2baa0a-904f-4101-af08-7ac673b8db2c} with expiration date 2024-05-20 17:09:10Z as default key.
2024-04-16 02:06:14.742 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-04-16 02:06:14.743 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-04-16 02:06:14.745 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-04-16 02:06:14.747 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-04-16 02:06:14.751 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-04-16 02:06:14.755 +07:00 [DBG] Using key {5b2baa0a-904f-4101-af08-7ac673b8db2c} as the default key.
2024-04-16 02:06:14.757 +07:00 [DBG] Key ring with default key {5b2baa0a-904f-4101-af08-7ac673b8db2c} was loaded during application startup.
2024-04-16 02:06:14.924 +07:00 [INF] Now listening on: https://localhost:7286
2024-04-16 02:06:14.925 +07:00 [INF] Now listening on: http://localhost:5010
2024-04-16 02:06:14.925 +07:00 [DBG] Loaded hosting startup assembly FoodShop.API
2024-04-16 02:06:14.925 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-04-16 02:06:14.925 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-04-16 02:06:14.925 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-04-16 02:06:14.960 +07:00 [DBG] Connection id "0HN2TFSFN57LE" accepted.
2024-04-16 02:06:14.963 +07:00 [DBG] Connection id "0HN2TFSFN57LE" started.
2024-04-16 02:06:14.964 +07:00 [DBG] Connection id "0HN2TFSFN57LF" received FIN.
2024-04-16 02:06:14.964 +07:00 [DBG] Connection id "0HN2TFSFN57LE" received FIN.
2024-04-16 02:06:14.967 +07:00 [DBG] Connection id "0HN2TFSFN57LF" accepted.
2024-04-16 02:06:14.971 +07:00 [DBG] Connection id "0HN2TFSFN57LF" started.
2024-04-16 02:06:14.988 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-04-16 02:06:14.988 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-04-16 02:06:15.003 +07:00 [DBG] Connection id "0HN2TFSFN57LE" stopped.
2024-04-16 02:06:15.003 +07:00 [DBG] Connection id "0HN2TFSFN57LF" stopped.
2024-04-16 02:06:15.008 +07:00 [DBG] Connection id "0HN2TFSFN57LE" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-04-16 02:06:15.010 +07:00 [DBG] Connection id "0HN2TFSFN57LF" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-04-16 02:06:15.046 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-04-16 02:06:15.049 +07:00 [INF] Hosting environment: Development
2024-04-16 02:06:15.049 +07:00 [INF] Content root path: C:\Users\hieud\Code\C#\FoodShop\FoodShop\src\FoodShop.API
2024-04-16 02:06:15.050 +07:00 [DBG] Hosting started
2024-04-16 02:06:15.241 +07:00 [DBG] Connection id "0HN2TFSFN57LG" accepted.
2024-04-16 02:06:15.243 +07:00 [DBG] Connection id "0HN2TFSFN57LG" started.
2024-04-16 02:06:15.305 +07:00 [DBG] Connection 0HN2TFSFN57LG established using the following protocol: "Tls13"
2024-04-16 02:06:15.368 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/swagger/index.html - null null
2024-04-16 02:06:15.469 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-04-16 02:06:15.546 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-04-16 02:06:15.547 +07:00 [DBG] Request did not match any endpoints
2024-04-16 02:06:15.632 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-16 02:06:15.729 +07:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-04-16 02:06:15.742 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-04-16 02:06:15.771 +07:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-04-16 02:06:15.772 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-04-16 02:06:15.777 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/swagger/index.html - 200 null text/html;charset=utf-8 414.9264ms
2024-04-16 02:06:15.821 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/_vs/browserLink - null null
2024-04-16 02:06:15.822 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/_framework/aspnetcore-browser-refresh.js - null null
2024-04-16 02:06:15.827 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 5.6674ms
2024-04-16 02:06:15.865 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/_vs/browserLink - 200 null text/javascript; charset=UTF-8 43.4382ms
2024-04-16 02:06:16.295 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/swagger/v1/swagger.json - null null
2024-04-16 02:06:16.295 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-04-16 02:06:16.296 +07:00 [DBG] Request did not match any endpoints
2024-04-16 02:06:16.298 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-16 02:06:16.423 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 129.1814ms
2024-04-16 02:06:47.638 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7286/api/v1.0/Authentication/register - application/json; ver=1.0 155
2024-04-16 02:06:47.708 +07:00 [DBG] 1 candidate(s) found for the request path '/api/v1.0/Authentication/register'
2024-04-16 02:06:47.711 +07:00 [DBG] Endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)' with route pattern 'api/v{version:apiVersion}/Authentication/register' is valid for the request path '/api/v1.0/Authentication/register'
2024-04-16 02:06:47.720 +07:00 [DBG] Request matched endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)'
2024-04-16 02:06:47.725 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-16 02:06:47.728 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-04-16 02:06:47.730 +07:00 [INF] Start request......!
2024-04-16 02:06:47.734 +07:00 [INF] Executing endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)'
2024-04-16 02:06:47.761 +07:00 [INF] Route matched with {action = "Register", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest) on controller FoodShop.Presentation.Controllers.V1.AuthenticationController (FoodShop.Presentation).
2024-04-16 02:06:47.764 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-04-16 02:06:47.764 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-04-16 02:06:47.765 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)","Asp.Versioning.ApplyContentTypeVersionActionFilter"]
2024-04-16 02:06:47.765 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-04-16 02:06:47.766 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-04-16 02:06:47.769 +07:00 [DBG] Executing controller factory for controller FoodShop.Presentation.Controllers.V1.AuthenticationController (FoodShop.Presentation)
2024-04-16 02:06:47.868 +07:00 [DBG] Executed controller factory for controller FoodShop.Presentation.Controllers.V1.AuthenticationController (FoodShop.Presentation)
2024-04-16 02:06:47.873 +07:00 [DBG] Attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest' ...
2024-04-16 02:06:47.875 +07:00 [DBG] Attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest' using the name '' in request data ...
2024-04-16 02:06:47.876 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json; ver=1.0'.
2024-04-16 02:06:47.882 +07:00 [DBG] Connection id "0HN2TFSFN57LG", Request id "0HN2TFSFN57LG:00000009": started reading request body.
2024-04-16 02:06:47.883 +07:00 [DBG] Connection id "0HN2TFSFN57LG", Request id "0HN2TFSFN57LG:00000009": done reading request body.
2024-04-16 02:06:47.890 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'
2024-04-16 02:06:47.891 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'.
2024-04-16 02:06:47.892 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'.
2024-04-16 02:06:47.892 +07:00 [DBG] Attempting to validate the bound parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest' ...
2024-04-16 02:06:47.906 +07:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'.
2024-04-16 02:06:50.110 +07:00 [DBG] Entity Framework Core 8.0.4 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.3' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using lazy loading proxies QuerySplittingBehavior=SplitQuery MigrationsAssembly=FoodShop.Persistence 
2024-04-16 02:06:50.118 +07:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2024-04-16 02:06:50.545 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppUser>(
    asyncEnumerable: new SplitQueryingEnumerable<AppUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AppUser.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: AppUser.AccessFailedCount (int) Required, 1], [Property: AppUser.Address (string), 2], [Property: AppUser.Avatar (string), 3], [Property: AppUser.ConcurrencyStamp (string), 4], [Property: AppUser.CreatedDate (DateTime) Required, 5], [Property: AppUser.Email (string), 6], [Property: AppUser.EmailConfirmed (bool) Required, 7], [Property: AppUser.Facebook (string), 8], [Property: AppUser.FirstName (string), 9], [Property: AppUser.LastName (string), 10], [Property: AppUser.LockoutEnabled (bool) Required, 11], [Property: AppUser.LockoutEnd (DateTimeOffset?), 12], [Property: AppUser.NormalizedEmail (string), 13], [Property: AppUser.NormalizedUserName (string), 14], [Property: AppUser.PasswordHash (string), 15], [Property: AppUser.PhoneNumber (string), 16], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 17], [Property: AppUser.SecurityStamp (string), 18], [Property: AppUser.TwoFactorEnabled (bool) Required, 19], [Property: AppUser.UpdateDate (DateTime) Required, 20], [Property: AppUser.UserName (string), 21] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.Address, a.Avatar, a.ConcurrencyStamp, a.CreatedDate, a.Email, a.EmailConfirmed, a.Facebook, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UpdateDate, a.UserName
            FROM AppUser AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<int>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<DateTime>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<DateTimeOffset>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<DateTime>, ReaderColumn<object> }, 
        Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, AppUser>, 
        null, 
        null, 
        FoodShop.Persistence.ApplicationDbContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-04-16 02:06:50.571 +07:00 [DBG] Creating DbConnection.
2024-04-16 02:06:50.571 +07:00 [DBG] Created DbConnection. (0ms).
2024-04-16 02:06:50.573 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:06:50.575 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:06:50.575 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 02:06:50.576 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:06:50.579 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-04-16 02:06:50.582 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='STRADFASDFASDF' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 02:06:50.629 +07:00 [INF] Executed DbCommand (49ms) [Parameters=[@__normalizedUserName_0='STRADFASDFASDF' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 02:06:50.681 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 02:06:50.682 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 9ms reading results.
2024-04-16 02:06:50.687 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:06:50.688 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (1ms).
2024-04-16 02:06:50.726 +07:00 [DBG] 'ApplicationDbContext' generated value '"d780eb60-8de3-41d6-aac3-08dc5d7f34c3"' for the property 'AppUser.Id'.
2024-04-16 02:06:50.857 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'AppUser' entity with key '{Id: d780eb60-8de3-41d6-aac3-08dc5d7f34c3}'.
2024-04-16 02:06:50.861 +07:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-04-16 02:06:50.863 +07:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-04-16 02:06:50.895 +07:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-04-16 02:06:50.967 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:06:50.971 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:06:50.974 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 02:06:50.974 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:06:50.975 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-04-16 02:06:50.976 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='d780eb60-8de3-41d6-aac3-08dc5d7f34c3', @p1='0', @p2=NULL (Size = 4000), @p3=NULL (Size = 4000), @p4='3dfc2b35-10a9-4094-bb19-6d6ebec91e6d' (Size = 4000), @p5='0001-01-01T00:00:00.0000000', @p6='stradfasdfasdf' (Size = 4000), @p7='False', @p8=NULL (Size = 4000), @p9='string' (Size = 4000), @p10='string' (Size = 4000), @p11='True', @p12=NULL (DbType = DateTimeOffset), @p13='STRADFASDFASDF' (Size = 4000), @p14='STRADFASDFASDF' (Size = 4000), @p15='AQAAAAIAAYagAAAAEKhXFEibQFVwCY7lg6v1WmUFJjy8HjsJvdNkK8grR8TOfa0bWMXvettoKWzkctunSA==' (Size = 4000), @p16='string' (Size = 4000), @p17='False', @p18='ZCFB3U52PODQ7BG5C2AJJ77DEHB3JLNA' (Size = 4000), @p19='False', @p20='0001-01-01T00:00:00.0000000', @p21='stradfasdfasdf' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AppUser] ([Id], [AccessFailedCount], [Address], [Avatar], [ConcurrencyStamp], [CreatedDate], [Email], [EmailConfirmed], [Facebook], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UpdateDate], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21);
2024-04-16 02:06:50.996 +07:00 [INF] Executed DbCommand (21ms) [Parameters=[@p0='d780eb60-8de3-41d6-aac3-08dc5d7f34c3', @p1='0', @p2=NULL (Size = 4000), @p3=NULL (Size = 4000), @p4='3dfc2b35-10a9-4094-bb19-6d6ebec91e6d' (Size = 4000), @p5='0001-01-01T00:00:00.0000000', @p6='stradfasdfasdf' (Size = 4000), @p7='False', @p8=NULL (Size = 4000), @p9='string' (Size = 4000), @p10='string' (Size = 4000), @p11='True', @p12=NULL (DbType = DateTimeOffset), @p13='STRADFASDFASDF' (Size = 4000), @p14='STRADFASDFASDF' (Size = 4000), @p15='AQAAAAIAAYagAAAAEKhXFEibQFVwCY7lg6v1WmUFJjy8HjsJvdNkK8grR8TOfa0bWMXvettoKWzkctunSA==' (Size = 4000), @p16='string' (Size = 4000), @p17='False', @p18='ZCFB3U52PODQ7BG5C2AJJ77DEHB3JLNA' (Size = 4000), @p19='False', @p20='0001-01-01T00:00:00.0000000', @p21='stradfasdfasdf' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AppUser] ([Id], [AccessFailedCount], [Address], [Avatar], [ConcurrencyStamp], [CreatedDate], [Email], [EmailConfirmed], [Facebook], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UpdateDate], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21);
2024-04-16 02:06:51.001 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 02:06:51.002 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 4ms reading results.
2024-04-16 02:06:51.003 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:06:51.004 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 02:06:51.011 +07:00 [DBG] The 'AppUser' entity with key '{Id: d780eb60-8de3-41d6-aac3-08dc5d7f34c3}' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'.
2024-04-16 02:06:51.014 +07:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-04-16 02:06:52.271 +07:00 [DBG] Compiling query expression: 
'DbSet<AppRole>()
    .SingleOrDefault(r => r.NormalizedName == __normalizedRoleName_0)'
2024-04-16 02:06:52.334 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppRole>(
    asyncEnumerable: new SplitQueryingEnumerable<AppRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AppRole.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: AppRole.ConcurrencyStamp (string), 1], [Property: AppRole.CreateBy (string), 2], [Property: AppRole.CreateDate (DateTime?), 3], [Property: AppRole.Description (string) Required MaxLength(250), 4], [Property: AppRole.Name (string), 5], [Property: AppRole.NormalizedName (string), 6], [Property: AppRole.RoleCode (string) Required MaxLength(50), 7], [Property: AppRole.UpdateBy (string), 8], [Property: AppRole.UpdateDate (DateTime?), 9] }
            SELECT TOP(2) a.Id, a.ConcurrencyStamp, a.CreateBy, a.CreateDate, a.Description, a.Name, a.NormalizedName, a.RoleCode, a.UpdateBy, a.UpdateDate
            FROM AppRole AS a
            WHERE a.NormalizedName == @__normalizedRoleName_0), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<DateTime>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<DateTime> }, 
        Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, AppRole>, 
        null, 
        null, 
        FoodShop.Persistence.ApplicationDbContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-04-16 02:06:52.335 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:06:52.336 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:06:52.336 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 02:06:52.336 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:06:52.336 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:06:52.336 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 02:06:52.338 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 02:06:52.373 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'AppRole' entity with key '{Id: 1ddacd3b-495b-4144-b828-3c9740ba1651}'.
2024-04-16 02:06:52.391 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 02:06:52.391 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 31ms reading results.
2024-04-16 02:06:52.392 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:06:52.392 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 02:06:52.404 +07:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<Guid>>()
    .FirstOrDefault(e => object.Equals(
        objA: EF.Property<object>(e, "RoleId"), 
        objB: __get_Item_0) && object.Equals(
        objA: EF.Property<object>(e, "UserId"), 
        objB: __get_Item_1))'
2024-04-16 02:06:52.468 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityUserRole<Guid>>(
    asyncEnumerable: new SplitQueryingEnumerable<IdentityUserRole<Guid>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUserRole<Guid>.RoleId (Guid) Required PK FK AfterSave:Throw, 0], [Property: IdentityUserRole<Guid>.UserId (Guid) Required PK FK Index AfterSave:Throw, 1] }
            SELECT TOP(1) a.RoleId, a.UserId
            FROM AppUserRole AS a
            WHERE (a.RoleId == @__get_Item_0) && (a.UserId == @__get_Item_1)), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<Guid> }, 
        Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, IdentityUserRole<Guid>>, 
        null, 
        null, 
        FoodShop.Persistence.ApplicationDbContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-04-16 02:06:52.471 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:06:52.471 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:06:52.472 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 02:06:52.472 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:06:52.472 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:06:52.472 +07:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='d780eb60-8de3-41d6-aac3-08dc5d7f34c3' (Nullable = true), @__get_Item_1='1ddacd3b-495b-4144-b828-3c9740ba1651' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[RoleId], [a].[UserId]
FROM [AppUserRole] AS [a]
WHERE [a].[RoleId] = @__get_Item_0 AND [a].[UserId] = @__get_Item_1
2024-04-16 02:06:52.484 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[@__get_Item_0='d780eb60-8de3-41d6-aac3-08dc5d7f34c3' (Nullable = true), @__get_Item_1='1ddacd3b-495b-4144-b828-3c9740ba1651' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[RoleId], [a].[UserId]
FROM [AppUserRole] AS [a]
WHERE [a].[RoleId] = @__get_Item_0 AND [a].[UserId] = @__get_Item_1
2024-04-16 02:06:52.485 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 02:06:52.485 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 0ms reading results.
2024-04-16 02:06:52.486 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:06:52.486 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 02:06:52.491 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:06:52.491 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:06:52.492 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 02:06:52.492 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:06:52.492 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:06:52.493 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 02:06:52.494 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 02:06:52.495 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 02:06:52.496 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 0ms reading results.
2024-04-16 02:06:52.496 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:06:52.496 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 02:06:52.522 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityUserRole' entity with key '{RoleId: 1ddacd3b-495b-4144-b828-3c9740ba1651, UserId: d780eb60-8de3-41d6-aac3-08dc5d7f34c3}'.
2024-04-16 02:06:52.525 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:06:52.525 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:06:52.525 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 02:06:52.525 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:06:52.526 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:06:52.526 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='STRADFASDFASDF' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 02:06:52.528 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='STRADFASDFASDF' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 02:06:52.531 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 02:06:52.532 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 0ms reading results.
2024-04-16 02:06:52.532 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:06:52.532 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 02:06:52.537 +07:00 [DBG] The 'AppUser' entity with key '{Id: d780eb60-8de3-41d6-aac3-08dc5d7f34c3}' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'.
2024-04-16 02:06:52.537 +07:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-04-16 02:06:52.538 +07:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-04-16 02:06:52.548 +07:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-04-16 02:06:52.564 +07:00 [DBG] Executing 2 update commands as a batch.
2024-04-16 02:06:52.566 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:06:52.566 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:06:52.568 +07:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-04-16 02:06:52.577 +07:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-04-16 02:06:52.578 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 02:06:52.578 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:06:52.580 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-04-16 02:06:52.581 +07:00 [DBG] Executing DbCommand [Parameters=[@p21='d780eb60-8de3-41d6-aac3-08dc5d7f34c3', @p0='0', @p1=NULL (Size = 4000), @p2=NULL (Size = 4000), @p3='fcd1a591-335f-4be2-9a46-2d3c71352a77' (Size = 4000), @p4='0001-01-01T00:00:00.0000000', @p5='stradfasdfasdf' (Size = 4000), @p6='False', @p7=NULL (Size = 4000), @p8='string' (Size = 4000), @p9='string' (Size = 4000), @p10='True', @p11=NULL (DbType = DateTimeOffset), @p12='STRADFASDFASDF' (Size = 4000), @p13='STRADFASDFASDF' (Size = 4000), @p14='AQAAAAIAAYagAAAAEKhXFEibQFVwCY7lg6v1WmUFJjy8HjsJvdNkK8grR8TOfa0bWMXvettoKWzkctunSA==' (Size = 4000), @p15='string' (Size = 4000), @p16='False', @p17='ZCFB3U52PODQ7BG5C2AJJ77DEHB3JLNA' (Size = 4000), @p18='False', @p19='0001-01-01T00:00:00.0000000', @p20='stradfasdfasdf' (Size = 4000), @p22='1ddacd3b-495b-4144-b828-3c9740ba1651', @p23='d780eb60-8de3-41d6-aac3-08dc5d7f34c3'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AppUser] SET [AccessFailedCount] = @p0, [Address] = @p1, [Avatar] = @p2, [ConcurrencyStamp] = @p3, [CreatedDate] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [Facebook] = @p7, [FirstName] = @p8, [LastName] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [SecurityStamp] = @p17, [TwoFactorEnabled] = @p18, [UpdateDate] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21;
INSERT INTO [AppUserRole] ([RoleId], [UserId])
VALUES (@p22, @p23);
2024-04-16 02:06:52.601 +07:00 [INF] Executed DbCommand (20ms) [Parameters=[@p21='d780eb60-8de3-41d6-aac3-08dc5d7f34c3', @p0='0', @p1=NULL (Size = 4000), @p2=NULL (Size = 4000), @p3='fcd1a591-335f-4be2-9a46-2d3c71352a77' (Size = 4000), @p4='0001-01-01T00:00:00.0000000', @p5='stradfasdfasdf' (Size = 4000), @p6='False', @p7=NULL (Size = 4000), @p8='string' (Size = 4000), @p9='string' (Size = 4000), @p10='True', @p11=NULL (DbType = DateTimeOffset), @p12='STRADFASDFASDF' (Size = 4000), @p13='STRADFASDFASDF' (Size = 4000), @p14='AQAAAAIAAYagAAAAEKhXFEibQFVwCY7lg6v1WmUFJjy8HjsJvdNkK8grR8TOfa0bWMXvettoKWzkctunSA==' (Size = 4000), @p15='string' (Size = 4000), @p16='False', @p17='ZCFB3U52PODQ7BG5C2AJJ77DEHB3JLNA' (Size = 4000), @p18='False', @p19='0001-01-01T00:00:00.0000000', @p20='stradfasdfasdf' (Size = 4000), @p22='1ddacd3b-495b-4144-b828-3c9740ba1651', @p23='d780eb60-8de3-41d6-aac3-08dc5d7f34c3'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AppUser] SET [AccessFailedCount] = @p0, [Address] = @p1, [Avatar] = @p2, [ConcurrencyStamp] = @p3, [CreatedDate] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [Facebook] = @p7, [FirstName] = @p8, [LastName] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [SecurityStamp] = @p17, [TwoFactorEnabled] = @p18, [UpdateDate] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21;
INSERT INTO [AppUserRole] ([RoleId], [UserId])
VALUES (@p22, @p23);
2024-04-16 02:06:52.605 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 02:06:52.606 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 3ms reading results.
2024-04-16 02:06:52.609 +07:00 [DBG] Committing transaction.
2024-04-16 02:06:52.615 +07:00 [DBG] Committed transaction.
2024-04-16 02:06:52.620 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:06:52.620 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 02:06:52.624 +07:00 [DBG] Disposing transaction.
2024-04-16 02:06:52.625 +07:00 [DBG] The 'IdentityUserRole' entity with key '{RoleId: 1ddacd3b-495b-4144-b828-3c9740ba1651, UserId: d780eb60-8de3-41d6-aac3-08dc5d7f34c3}' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'.
2024-04-16 02:06:52.626 +07:00 [DBG] The 'AppUser' entity with key '{Id: d780eb60-8de3-41d6-aac3-08dc5d7f34c3}' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'.
2024-04-16 02:06:52.627 +07:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 2 entities written to the database.
2024-04-16 02:07:11.015 +07:00 [INF] Executed action FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation) in 23246.2437ms
2024-04-16 02:07:11.017 +07:00 [INF] Executed endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)'
2024-04-16 02:07:11.091 +07:00 [ERR] Value cannot be null. (Parameter 'uriString')
System.ArgumentNullException: Value cannot be null. (Parameter 'uriString')
   at System.ArgumentNullException.Throw(String paramName)
   at System.ArgumentNullException.ThrowIfNull(Object argument, String paramName)
   at System.Uri..ctor(String uriString)
   at FoodShop.Infrastructure.DependencyInjection.Extensions.ServiceCollectionExtensions.<>c__DisplayClass1_0.<AddMailServiceConfiguration>b__0(IServiceProvider services, HttpClient client) in C:\Users\hieud\Code\C#\FoodShop\FoodShop\src\FoodShop.Infrastructure\DependencyInjection\Extensions\ServiceCollectionExtensions.cs:line 55
   at Microsoft.Extensions.Http.DefaultHttpClientFactory.CreateClient(String name)
   at FoodShop.Infrastructure.EmailServices.EmailSender..ctor(IOptionsMonitor`1 mailSettings, IHttpClientFactory httpClientFactory) in C:\Users\hieud\Code\C#\FoodShop\FoodShop\src\FoodShop.Infrastructure\EmailServices\EmailSender.cs:line 21
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithFewArgs(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitIEnumerable(IEnumerableCallSite enumerableCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at MediatR.Wrappers.NotificationHandlerWrapperImpl`1.Handle(INotification notification, IServiceProvider serviceFactory, Func`4 publish, CancellationToken cancellationToken)
   at MediatR.Mediator.PublishNotification(INotification notification, CancellationToken cancellationToken)
   at MediatR.Mediator.Publish[TNotification](TNotification notification, CancellationToken cancellationToken)
   at FoodShop.Presentation.Controllers.V1.AuthenticationController.Register(RegisterRequest model) in C:\Users\hieud\Code\C#\FoodShop\FoodShop\src\FoodShop.Presentation\Controllers\V1\AuthenticationController.cs:line 53
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at FoodShop.API.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in C:\Users\hieud\Code\C#\FoodShop\FoodShop\src\FoodShop.API\Middleware\ExceptionHandlingMiddleware.cs:line 22
2024-04-16 02:07:11.114 +07:00 [DBG] 'ApplicationDbContext' disposed.
2024-04-16 02:07:11.122 +07:00 [DBG] Disposing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:07:11.122 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-04-16 02:07:11.123 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7286/api/v1.0/Authentication/register - 500 null application/json; ver=1.0 23485.1879ms
2024-04-16 02:08:47.893 +07:00 [DBG] HttpMessageHandler expired after 120000ms for client ''
2024-04-16 02:08:57.900 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2024-04-16 02:08:57.905 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.1059ms - processed: 0 items - remaining: 1 items
2024-04-16 02:09:07.920 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2024-04-16 02:09:07.921 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0089ms - processed: 0 items - remaining: 1 items
2024-04-16 02:09:10.942 +07:00 [DBG] HttpMessageHandler expired after 120000ms for client 'MailTrapApiClient'
2024-04-16 02:09:17.931 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:09:17.931 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0058ms - processed: 0 items - remaining: 2 items
2024-04-16 02:09:27.938 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:09:27.938 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0073ms - processed: 0 items - remaining: 2 items
2024-04-16 02:09:37.948 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:09:37.949 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0063ms - processed: 0 items - remaining: 2 items
2024-04-16 02:09:47.958 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:09:47.958 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0069ms - processed: 0 items - remaining: 2 items
2024-04-16 02:09:57.970 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:09:57.971 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0059ms - processed: 0 items - remaining: 2 items
2024-04-16 02:10:07.978 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:10:07.979 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0053ms - processed: 0 items - remaining: 2 items
2024-04-16 02:10:18.135 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:10:18.137 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0052ms - processed: 0 items - remaining: 2 items
2024-04-16 02:10:28.153 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:10:28.154 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0799ms - processed: 0 items - remaining: 2 items
2024-04-16 02:17:51.045 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-04-16 02:17:51.648 +07:00 [DBG] The index {'ProductId'} was not created on entity type 'CartProduct' as the properties are already covered by the index {'ProductId', 'CartId'}.
2024-04-16 02:17:51.650 +07:00 [DBG] The index {'OrderId'} was not created on entity type 'OrderProduct' as the properties are already covered by the index {'OrderId', 'ProductId'}.
2024-04-16 02:17:51.650 +07:00 [DBG] The index {'ProductId'} was not created on entity type 'ProductCategory' as the properties are already covered by the index {'ProductId', 'CategoryId'}.
2024-04-16 02:17:51.651 +07:00 [DBG] The index {'RoleId'} was not created on entity type 'IdentityUserRole<Guid>' as the properties are already covered by the index {'RoleId', 'UserId'}.
2024-04-16 02:17:51.743 +07:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-04-16 02:17:51.769 +07:00 [DBG] The property 'IdentityUserToken<Guid>.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-04-16 02:17:51.801 +07:00 [WRN] No store type was specified for the decimal property 'Amout' on entity type 'Cart'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 02:17:51.802 +07:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'CartProduct'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 02:17:51.802 +07:00 [WRN] No store type was specified for the decimal property 'Amout' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 02:17:51.802 +07:00 [WRN] No store type was specified for the decimal property 'AmoutTotal' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 02:17:51.803 +07:00 [WRN] No store type was specified for the decimal property 'Discount' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 02:17:51.803 +07:00 [WRN] No store type was specified for the decimal property 'Shipping' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 02:17:51.804 +07:00 [WRN] No store type was specified for the decimal property 'Tax' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 02:17:51.804 +07:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'OrderProduct'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 02:17:51.805 +07:00 [WRN] No store type was specified for the decimal property 'Discount' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 02:17:51.806 +07:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 02:17:51.963 +07:00 [DBG] Entity Framework Core 8.0.4 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.3' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using lazy loading proxies QuerySplittingBehavior=SplitQuery MigrationsAssembly=FoodShop.Persistence 
2024-04-16 02:17:51.972 +07:00 [DBG] Creating DbConnection.
2024-04-16 02:17:52.027 +07:00 [DBG] Created DbConnection. (52ms).
2024-04-16 02:17:52.030 +07:00 [DBG] Migrating using database 'FoodShop' on server 'localhost'.
2024-04-16 02:17:52.037 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:17:52.413 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:17:52.419 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-04-16 02:17:52.425 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (5ms).
2024-04-16 02:17:52.427 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (9ms).
2024-04-16 02:17:52.433 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 02:17:52.459 +07:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 02:17:52.463 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:17:52.472 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (5ms).
2024-04-16 02:17:52.476 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-04-16 02:17:52.477 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 02:17:52.477 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 02:17:52.478 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:17:52.479 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:17:52.480 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 02:17:52.503 +07:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 02:17:52.503 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:17:52.504 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 02:17:52.505 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:17:52.506 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:17:52.506 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-04-16 02:17:52.506 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-04-16 02:17:52.506 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-04-16 02:17:52.507 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 02:17:52.508 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 02:17:52.509 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:17:52.509 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 02:17:52.510 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-04-16 02:17:52.510 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 02:17:52.510 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 02:17:52.510 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:17:52.511 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:17:52.511 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 02:17:52.512 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 02:17:52.512 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:17:52.513 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 02:17:52.523 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:17:52.523 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:17:52.523 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 02:17:52.524 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:17:52.524 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:17:52.524 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-16 02:17:52.529 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-16 02:17:52.532 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 02:17:52.534 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 2ms reading results.
2024-04-16 02:17:52.535 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:17:52.535 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 02:17:52.548 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-04-16 02:17:52.591 +07:00 [DBG] Compiling query expression: 
'DbSet<AppRole>()
    .Any()'
2024-04-16 02:17:52.737 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SplitQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AppRole AS a)), 
    ReaderColumn[] { ReaderColumn<bool> }, 
    Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, bool>, 
    null, 
    null, 
    FoodShop.Persistence.ApplicationDbContext, 
    False, 
    True, 
    True
)
    .Single()'
2024-04-16 02:17:52.760 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:17:52.761 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:17:52.761 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 02:17:52.761 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:17:52.762 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:17:52.762 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AppRole] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-04-16 02:17:52.765 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AppRole] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-04-16 02:17:52.776 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 02:17:52.776 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 2ms reading results.
2024-04-16 02:17:52.777 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:17:52.777 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 02:17:52.779 +07:00 [DBG] 'ApplicationDbContext' disposed.
2024-04-16 02:17:52.781 +07:00 [DBG] Disposing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:17:52.783 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-04-16 02:17:52.851 +07:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-04-16 02:17:52.965 +07:00 [DBG] Hosting starting
2024-04-16 02:17:53.007 +07:00 [INF] User profile is available. Using 'C:\Users\hieud\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-04-16 02:17:53.021 +07:00 [DBG] Reading data from file 'C:\Users\hieud\AppData\Local\ASP.NET\DataProtection-Keys\key-5b2baa0a-904f-4101-af08-7ac673b8db2c.xml'.
2024-04-16 02:17:53.034 +07:00 [DBG] Found key {5b2baa0a-904f-4101-af08-7ac673b8db2c}.
2024-04-16 02:17:53.052 +07:00 [DBG] Considering key {5b2baa0a-904f-4101-af08-7ac673b8db2c} with expiration date 2024-05-20 17:09:10Z as default key.
2024-04-16 02:17:53.063 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-04-16 02:17:53.065 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-04-16 02:17:53.069 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-04-16 02:17:53.072 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-04-16 02:17:53.079 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-04-16 02:17:53.086 +07:00 [DBG] Using key {5b2baa0a-904f-4101-af08-7ac673b8db2c} as the default key.
2024-04-16 02:17:53.088 +07:00 [DBG] Key ring with default key {5b2baa0a-904f-4101-af08-7ac673b8db2c} was loaded during application startup.
2024-04-16 02:17:53.409 +07:00 [INF] Now listening on: https://localhost:7286
2024-04-16 02:17:53.410 +07:00 [INF] Now listening on: http://localhost:5010
2024-04-16 02:17:53.410 +07:00 [DBG] Loaded hosting startup assembly FoodShop.API
2024-04-16 02:17:53.411 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-04-16 02:17:53.411 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-04-16 02:17:53.411 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-04-16 02:17:53.425 +07:00 [DBG] Connection id "0HN2TG2VS7NIG" accepted.
2024-04-16 02:17:53.428 +07:00 [DBG] Connection id "0HN2TG2VS7NIG" started.
2024-04-16 02:17:53.441 +07:00 [DBG] Connection id "0HN2TG2VS7NIH" received FIN.
2024-04-16 02:17:53.441 +07:00 [DBG] Connection id "0HN2TG2VS7NIG" received FIN.
2024-04-16 02:17:53.444 +07:00 [DBG] Connection id "0HN2TG2VS7NIH" accepted.
2024-04-16 02:17:53.444 +07:00 [DBG] Connection id "0HN2TG2VS7NIH" started.
2024-04-16 02:17:53.457 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-04-16 02:17:53.457 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-04-16 02:17:53.477 +07:00 [DBG] Connection id "0HN2TG2VS7NIG" stopped.
2024-04-16 02:17:53.477 +07:00 [DBG] Connection id "0HN2TG2VS7NIH" stopped.
2024-04-16 02:17:53.481 +07:00 [DBG] Connection id "0HN2TG2VS7NIH" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-04-16 02:17:53.481 +07:00 [DBG] Connection id "0HN2TG2VS7NIG" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-04-16 02:17:53.546 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-04-16 02:17:53.547 +07:00 [INF] Hosting environment: Development
2024-04-16 02:17:53.547 +07:00 [INF] Content root path: C:\Users\hieud\Code\C#\FoodShop\FoodShop\src\FoodShop.API
2024-04-16 02:17:53.547 +07:00 [DBG] Hosting started
2024-04-16 02:17:53.808 +07:00 [DBG] Connection id "0HN2TG2VS7NII" accepted.
2024-04-16 02:17:53.809 +07:00 [DBG] Connection id "0HN2TG2VS7NII" started.
2024-04-16 02:17:53.837 +07:00 [DBG] Connection 0HN2TG2VS7NII established using the following protocol: "Tls13"
2024-04-16 02:17:53.887 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/swagger/index.html - null null
2024-04-16 02:17:53.979 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-04-16 02:17:54.011 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-04-16 02:17:54.012 +07:00 [DBG] Request did not match any endpoints
2024-04-16 02:17:54.060 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-16 02:17:54.107 +07:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-04-16 02:17:54.109 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-04-16 02:17:54.129 +07:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-04-16 02:17:54.130 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-04-16 02:17:54.133 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/swagger/index.html - 200 null text/html;charset=utf-8 250.2023ms
2024-04-16 02:17:54.181 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/_framework/aspnetcore-browser-refresh.js - null null
2024-04-16 02:17:54.185 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/_vs/browserLink - null null
2024-04-16 02:17:54.200 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 18.7401ms
2024-04-16 02:17:54.242 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/_vs/browserLink - 200 null text/javascript; charset=UTF-8 61.0726ms
2024-04-16 02:17:54.550 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/swagger/v1/swagger.json - null null
2024-04-16 02:17:54.551 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-04-16 02:17:54.551 +07:00 [DBG] Request did not match any endpoints
2024-04-16 02:17:54.553 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-16 02:17:54.683 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 133.1549ms
2024-04-16 02:17:59.652 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7286/api/v1/Authentication/register - application/json; ver=1.0 154
2024-04-16 02:17:59.679 +07:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Authentication/register'
2024-04-16 02:17:59.681 +07:00 [DBG] Endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)' with route pattern 'api/v{version:apiVersion}/Authentication/register' is valid for the request path '/api/v1/Authentication/register'
2024-04-16 02:17:59.687 +07:00 [DBG] Request matched endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)'
2024-04-16 02:17:59.691 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-16 02:17:59.693 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-04-16 02:17:59.695 +07:00 [INF] Start request......!
2024-04-16 02:17:59.701 +07:00 [INF] Executing endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)'
2024-04-16 02:17:59.732 +07:00 [INF] Route matched with {action = "Register", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest) on controller FoodShop.Presentation.Controllers.V1.AuthenticationController (FoodShop.Presentation).
2024-04-16 02:17:59.735 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-04-16 02:17:59.735 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-04-16 02:17:59.736 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)","Asp.Versioning.ApplyContentTypeVersionActionFilter"]
2024-04-16 02:17:59.736 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-04-16 02:17:59.737 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-04-16 02:17:59.739 +07:00 [DBG] Executing controller factory for controller FoodShop.Presentation.Controllers.V1.AuthenticationController (FoodShop.Presentation)
2024-04-16 02:17:59.855 +07:00 [DBG] Executed controller factory for controller FoodShop.Presentation.Controllers.V1.AuthenticationController (FoodShop.Presentation)
2024-04-16 02:17:59.861 +07:00 [DBG] Attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest' ...
2024-04-16 02:17:59.865 +07:00 [DBG] Attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest' using the name '' in request data ...
2024-04-16 02:17:59.867 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json; ver=1.0'.
2024-04-16 02:17:59.873 +07:00 [DBG] Connection id "0HN2TG2VS7NII", Request id "0HN2TG2VS7NII:00000009": started reading request body.
2024-04-16 02:17:59.874 +07:00 [DBG] Connection id "0HN2TG2VS7NII", Request id "0HN2TG2VS7NII:00000009": done reading request body.
2024-04-16 02:17:59.879 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'
2024-04-16 02:17:59.880 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'.
2024-04-16 02:17:59.880 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'.
2024-04-16 02:17:59.880 +07:00 [DBG] Attempting to validate the bound parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest' ...
2024-04-16 02:17:59.890 +07:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'.
2024-04-16 02:18:03.388 +07:00 [DBG] Entity Framework Core 8.0.4 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.3' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using lazy loading proxies QuerySplittingBehavior=SplitQuery MigrationsAssembly=FoodShop.Persistence 
2024-04-16 02:18:03.397 +07:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2024-04-16 02:18:03.655 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppUser>(
    asyncEnumerable: new SplitQueryingEnumerable<AppUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AppUser.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: AppUser.AccessFailedCount (int) Required, 1], [Property: AppUser.Address (string), 2], [Property: AppUser.Avatar (string), 3], [Property: AppUser.ConcurrencyStamp (string), 4], [Property: AppUser.CreatedDate (DateTime) Required, 5], [Property: AppUser.Email (string), 6], [Property: AppUser.EmailConfirmed (bool) Required, 7], [Property: AppUser.Facebook (string), 8], [Property: AppUser.FirstName (string), 9], [Property: AppUser.LastName (string), 10], [Property: AppUser.LockoutEnabled (bool) Required, 11], [Property: AppUser.LockoutEnd (DateTimeOffset?), 12], [Property: AppUser.NormalizedEmail (string), 13], [Property: AppUser.NormalizedUserName (string), 14], [Property: AppUser.PasswordHash (string), 15], [Property: AppUser.PhoneNumber (string), 16], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 17], [Property: AppUser.SecurityStamp (string), 18], [Property: AppUser.TwoFactorEnabled (bool) Required, 19], [Property: AppUser.UpdateDate (DateTime) Required, 20], [Property: AppUser.UserName (string), 21] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.Address, a.Avatar, a.ConcurrencyStamp, a.CreatedDate, a.Email, a.EmailConfirmed, a.Facebook, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UpdateDate, a.UserName
            FROM AppUser AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<int>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<DateTime>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<DateTimeOffset>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<DateTime>, ReaderColumn<object> }, 
        Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, AppUser>, 
        null, 
        null, 
        FoodShop.Persistence.ApplicationDbContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-04-16 02:18:03.674 +07:00 [DBG] Creating DbConnection.
2024-04-16 02:18:03.675 +07:00 [DBG] Created DbConnection. (0ms).
2024-04-16 02:18:03.677 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:18:03.681 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:18:03.682 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 02:18:03.682 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:18:03.686 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-04-16 02:18:03.690 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='STRING2343423' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 02:18:03.755 +07:00 [INF] Executed DbCommand (68ms) [Parameters=[@__normalizedUserName_0='STRING2343423' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 02:18:03.771 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 02:18:03.772 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 5ms reading results.
2024-04-16 02:18:03.774 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:18:03.775 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (1ms).
2024-04-16 02:18:03.801 +07:00 [DBG] 'ApplicationDbContext' generated value '"3303db7c-29f6-4f23-c9a1-08dc5d80c5f2"' for the property 'AppUser.Id'.
2024-04-16 02:18:03.877 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'AppUser' entity with key '{Id: 3303db7c-29f6-4f23-c9a1-08dc5d80c5f2}'.
2024-04-16 02:18:03.880 +07:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-04-16 02:18:03.884 +07:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-04-16 02:18:03.903 +07:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-04-16 02:18:03.960 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:18:03.961 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:18:03.964 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 02:18:03.964 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:18:03.965 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-04-16 02:18:03.966 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='3303db7c-29f6-4f23-c9a1-08dc5d80c5f2', @p1='0', @p2=NULL (Size = 4000), @p3=NULL (Size = 4000), @p4='c6e651d3-e8ee-4480-80c7-240947bf66d1' (Size = 4000), @p5='0001-01-01T00:00:00.0000000', @p6='string2343423' (Size = 4000), @p7='False', @p8=NULL (Size = 4000), @p9='string' (Size = 4000), @p10='string' (Size = 4000), @p11='True', @p12=NULL (DbType = DateTimeOffset), @p13='STRING2343423' (Size = 4000), @p14='STRING2343423' (Size = 4000), @p15='AQAAAAIAAYagAAAAEMhirlOqCRWD3UTHrMsNq5c+L4VGCw2QI7YOaBptph4U02di0bb8ZjSNouLHMLetig==' (Size = 4000), @p16='string' (Size = 4000), @p17='False', @p18='6HMFNTCX6FS2IPNAMXNX3PYC2ABNJTAP' (Size = 4000), @p19='False', @p20='0001-01-01T00:00:00.0000000', @p21='string2343423' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AppUser] ([Id], [AccessFailedCount], [Address], [Avatar], [ConcurrencyStamp], [CreatedDate], [Email], [EmailConfirmed], [Facebook], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UpdateDate], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21);
2024-04-16 02:18:03.981 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[@p0='3303db7c-29f6-4f23-c9a1-08dc5d80c5f2', @p1='0', @p2=NULL (Size = 4000), @p3=NULL (Size = 4000), @p4='c6e651d3-e8ee-4480-80c7-240947bf66d1' (Size = 4000), @p5='0001-01-01T00:00:00.0000000', @p6='string2343423' (Size = 4000), @p7='False', @p8=NULL (Size = 4000), @p9='string' (Size = 4000), @p10='string' (Size = 4000), @p11='True', @p12=NULL (DbType = DateTimeOffset), @p13='STRING2343423' (Size = 4000), @p14='STRING2343423' (Size = 4000), @p15='AQAAAAIAAYagAAAAEMhirlOqCRWD3UTHrMsNq5c+L4VGCw2QI7YOaBptph4U02di0bb8ZjSNouLHMLetig==' (Size = 4000), @p16='string' (Size = 4000), @p17='False', @p18='6HMFNTCX6FS2IPNAMXNX3PYC2ABNJTAP' (Size = 4000), @p19='False', @p20='0001-01-01T00:00:00.0000000', @p21='string2343423' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AppUser] ([Id], [AccessFailedCount], [Address], [Avatar], [ConcurrencyStamp], [CreatedDate], [Email], [EmailConfirmed], [Facebook], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UpdateDate], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21);
2024-04-16 02:18:03.985 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 02:18:03.986 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 3ms reading results.
2024-04-16 02:18:03.987 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:18:03.987 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 02:18:03.995 +07:00 [DBG] The 'AppUser' entity with key '{Id: 3303db7c-29f6-4f23-c9a1-08dc5d80c5f2}' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'.
2024-04-16 02:18:03.997 +07:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-04-16 02:18:05.039 +07:00 [DBG] Compiling query expression: 
'DbSet<AppRole>()
    .SingleOrDefault(r => r.NormalizedName == __normalizedRoleName_0)'
2024-04-16 02:18:05.101 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppRole>(
    asyncEnumerable: new SplitQueryingEnumerable<AppRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AppRole.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: AppRole.ConcurrencyStamp (string), 1], [Property: AppRole.CreateBy (string), 2], [Property: AppRole.CreateDate (DateTime?), 3], [Property: AppRole.Description (string) Required MaxLength(250), 4], [Property: AppRole.Name (string), 5], [Property: AppRole.NormalizedName (string), 6], [Property: AppRole.RoleCode (string) Required MaxLength(50), 7], [Property: AppRole.UpdateBy (string), 8], [Property: AppRole.UpdateDate (DateTime?), 9] }
            SELECT TOP(2) a.Id, a.ConcurrencyStamp, a.CreateBy, a.CreateDate, a.Description, a.Name, a.NormalizedName, a.RoleCode, a.UpdateBy, a.UpdateDate
            FROM AppRole AS a
            WHERE a.NormalizedName == @__normalizedRoleName_0), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<DateTime>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<DateTime> }, 
        Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, AppRole>, 
        null, 
        null, 
        FoodShop.Persistence.ApplicationDbContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-04-16 02:18:05.103 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:18:05.103 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:18:05.103 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 02:18:05.103 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:18:05.104 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:18:05.104 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 02:18:05.123 +07:00 [INF] Executed DbCommand (20ms) [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 02:18:05.137 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'AppRole' entity with key '{Id: 1ddacd3b-495b-4144-b828-3c9740ba1651}'.
2024-04-16 02:18:05.153 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 02:18:05.154 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 27ms reading results.
2024-04-16 02:18:05.154 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:18:05.154 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 02:18:05.167 +07:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<Guid>>()
    .FirstOrDefault(e => object.Equals(
        objA: EF.Property<object>(e, "RoleId"), 
        objB: __get_Item_0) && object.Equals(
        objA: EF.Property<object>(e, "UserId"), 
        objB: __get_Item_1))'
2024-04-16 02:18:05.227 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityUserRole<Guid>>(
    asyncEnumerable: new SplitQueryingEnumerable<IdentityUserRole<Guid>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUserRole<Guid>.RoleId (Guid) Required PK FK AfterSave:Throw, 0], [Property: IdentityUserRole<Guid>.UserId (Guid) Required PK FK Index AfterSave:Throw, 1] }
            SELECT TOP(1) a.RoleId, a.UserId
            FROM AppUserRole AS a
            WHERE (a.RoleId == @__get_Item_0) && (a.UserId == @__get_Item_1)), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<Guid> }, 
        Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, IdentityUserRole<Guid>>, 
        null, 
        null, 
        FoodShop.Persistence.ApplicationDbContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-04-16 02:18:05.231 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:18:05.231 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:18:05.232 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 02:18:05.232 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:18:05.232 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:18:05.232 +07:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='3303db7c-29f6-4f23-c9a1-08dc5d80c5f2' (Nullable = true), @__get_Item_1='1ddacd3b-495b-4144-b828-3c9740ba1651' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[RoleId], [a].[UserId]
FROM [AppUserRole] AS [a]
WHERE [a].[RoleId] = @__get_Item_0 AND [a].[UserId] = @__get_Item_1
2024-04-16 02:18:05.246 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[@__get_Item_0='3303db7c-29f6-4f23-c9a1-08dc5d80c5f2' (Nullable = true), @__get_Item_1='1ddacd3b-495b-4144-b828-3c9740ba1651' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[RoleId], [a].[UserId]
FROM [AppUserRole] AS [a]
WHERE [a].[RoleId] = @__get_Item_0 AND [a].[UserId] = @__get_Item_1
2024-04-16 02:18:05.247 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 02:18:05.248 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 0ms reading results.
2024-04-16 02:18:05.249 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:18:05.249 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 02:18:05.256 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:18:05.257 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:18:05.257 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 02:18:05.257 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:18:05.258 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:18:05.258 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 02:18:05.260 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 02:18:05.262 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 02:18:05.262 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 0ms reading results.
2024-04-16 02:18:05.263 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:18:05.263 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 02:18:05.291 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityUserRole' entity with key '{RoleId: 1ddacd3b-495b-4144-b828-3c9740ba1651, UserId: 3303db7c-29f6-4f23-c9a1-08dc5d80c5f2}'.
2024-04-16 02:18:05.294 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:18:05.294 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:18:05.294 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 02:18:05.295 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:18:05.295 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:18:05.295 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='STRING2343423' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 02:18:05.298 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='STRING2343423' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 02:18:05.302 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 02:18:05.302 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 0ms reading results.
2024-04-16 02:18:05.303 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:18:05.303 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 02:18:05.309 +07:00 [DBG] The 'AppUser' entity with key '{Id: 3303db7c-29f6-4f23-c9a1-08dc5d80c5f2}' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'.
2024-04-16 02:18:05.310 +07:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-04-16 02:18:05.310 +07:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-04-16 02:18:05.323 +07:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-04-16 02:18:05.336 +07:00 [DBG] Executing 2 update commands as a batch.
2024-04-16 02:18:05.339 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:18:05.339 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:18:05.340 +07:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-04-16 02:18:05.348 +07:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-04-16 02:18:05.350 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 02:18:05.350 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:18:05.352 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-04-16 02:18:05.352 +07:00 [DBG] Executing DbCommand [Parameters=[@p21='3303db7c-29f6-4f23-c9a1-08dc5d80c5f2', @p0='0', @p1=NULL (Size = 4000), @p2=NULL (Size = 4000), @p3='b929cef8-a55e-4fc3-b7ff-491e4a0d75b9' (Size = 4000), @p4='0001-01-01T00:00:00.0000000', @p5='string2343423' (Size = 4000), @p6='False', @p7=NULL (Size = 4000), @p8='string' (Size = 4000), @p9='string' (Size = 4000), @p10='True', @p11=NULL (DbType = DateTimeOffset), @p12='STRING2343423' (Size = 4000), @p13='STRING2343423' (Size = 4000), @p14='AQAAAAIAAYagAAAAEMhirlOqCRWD3UTHrMsNq5c+L4VGCw2QI7YOaBptph4U02di0bb8ZjSNouLHMLetig==' (Size = 4000), @p15='string' (Size = 4000), @p16='False', @p17='6HMFNTCX6FS2IPNAMXNX3PYC2ABNJTAP' (Size = 4000), @p18='False', @p19='0001-01-01T00:00:00.0000000', @p20='string2343423' (Size = 4000), @p22='1ddacd3b-495b-4144-b828-3c9740ba1651', @p23='3303db7c-29f6-4f23-c9a1-08dc5d80c5f2'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AppUser] SET [AccessFailedCount] = @p0, [Address] = @p1, [Avatar] = @p2, [ConcurrencyStamp] = @p3, [CreatedDate] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [Facebook] = @p7, [FirstName] = @p8, [LastName] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [SecurityStamp] = @p17, [TwoFactorEnabled] = @p18, [UpdateDate] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21;
INSERT INTO [AppUserRole] ([RoleId], [UserId])
VALUES (@p22, @p23);
2024-04-16 02:18:05.372 +07:00 [INF] Executed DbCommand (20ms) [Parameters=[@p21='3303db7c-29f6-4f23-c9a1-08dc5d80c5f2', @p0='0', @p1=NULL (Size = 4000), @p2=NULL (Size = 4000), @p3='b929cef8-a55e-4fc3-b7ff-491e4a0d75b9' (Size = 4000), @p4='0001-01-01T00:00:00.0000000', @p5='string2343423' (Size = 4000), @p6='False', @p7=NULL (Size = 4000), @p8='string' (Size = 4000), @p9='string' (Size = 4000), @p10='True', @p11=NULL (DbType = DateTimeOffset), @p12='STRING2343423' (Size = 4000), @p13='STRING2343423' (Size = 4000), @p14='AQAAAAIAAYagAAAAEMhirlOqCRWD3UTHrMsNq5c+L4VGCw2QI7YOaBptph4U02di0bb8ZjSNouLHMLetig==' (Size = 4000), @p15='string' (Size = 4000), @p16='False', @p17='6HMFNTCX6FS2IPNAMXNX3PYC2ABNJTAP' (Size = 4000), @p18='False', @p19='0001-01-01T00:00:00.0000000', @p20='string2343423' (Size = 4000), @p22='1ddacd3b-495b-4144-b828-3c9740ba1651', @p23='3303db7c-29f6-4f23-c9a1-08dc5d80c5f2'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AppUser] SET [AccessFailedCount] = @p0, [Address] = @p1, [Avatar] = @p2, [ConcurrencyStamp] = @p3, [CreatedDate] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [Facebook] = @p7, [FirstName] = @p8, [LastName] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [SecurityStamp] = @p17, [TwoFactorEnabled] = @p18, [UpdateDate] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21;
INSERT INTO [AppUserRole] ([RoleId], [UserId])
VALUES (@p22, @p23);
2024-04-16 02:18:05.377 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 02:18:05.378 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 3ms reading results.
2024-04-16 02:18:05.383 +07:00 [DBG] Committing transaction.
2024-04-16 02:18:05.391 +07:00 [DBG] Committed transaction.
2024-04-16 02:18:05.396 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:18:05.397 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 02:18:05.400 +07:00 [DBG] Disposing transaction.
2024-04-16 02:18:05.401 +07:00 [DBG] The 'IdentityUserRole' entity with key '{RoleId: 1ddacd3b-495b-4144-b828-3c9740ba1651, UserId: 3303db7c-29f6-4f23-c9a1-08dc5d80c5f2}' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'.
2024-04-16 02:18:05.402 +07:00 [DBG] The 'AppUser' entity with key '{Id: 3303db7c-29f6-4f23-c9a1-08dc5d80c5f2}' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'.
2024-04-16 02:18:05.403 +07:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 2 entities written to the database.
2024-04-16 02:18:09.710 +07:00 [INF] Executed action FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation) in 9968.3976ms
2024-04-16 02:18:09.712 +07:00 [INF] Executed endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)'
2024-04-16 02:18:09.794 +07:00 [ERR] Value cannot be null. (Parameter 'uriString')
System.ArgumentNullException: Value cannot be null. (Parameter 'uriString')
   at System.ArgumentNullException.Throw(String paramName)
   at System.ArgumentNullException.ThrowIfNull(Object argument, String paramName)
   at System.Uri..ctor(String uriString)
   at FoodShop.Infrastructure.DependencyInjection.Extensions.ServiceCollectionExtensions.<>c__DisplayClass1_0.<AddMailServiceConfiguration>b__0(IServiceProvider services, HttpClient client) in C:\Users\hieud\Code\C#\FoodShop\FoodShop\src\FoodShop.Infrastructure\DependencyInjection\Extensions\ServiceCollectionExtensions.cs:line 55
   at Microsoft.Extensions.Http.DefaultHttpClientFactory.CreateClient(String name)
   at FoodShop.Infrastructure.EmailServices.EmailSender..ctor(IOptionsMonitor`1 mailSettings, IHttpClientFactory httpClientFactory) in C:\Users\hieud\Code\C#\FoodShop\FoodShop\src\FoodShop.Infrastructure\EmailServices\EmailSender.cs:line 21
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithFewArgs(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, IServiceProvider serviceProvider, CancellationToken cancellationToken)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at FoodShop.Presentation.Controllers.V1.AuthenticationController.Register(RegisterRequest model) in C:\Users\hieud\Code\C#\FoodShop\FoodShop\src\FoodShop.Presentation\Controllers\V1\AuthenticationController.cs:line 53
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at FoodShop.API.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in C:\Users\hieud\Code\C#\FoodShop\FoodShop\src\FoodShop.API\Middleware\ExceptionHandlingMiddleware.cs:line 22
2024-04-16 02:18:09.861 +07:00 [DBG] 'ApplicationDbContext' disposed.
2024-04-16 02:18:09.869 +07:00 [DBG] Disposing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:18:09.870 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-04-16 02:18:09.871 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7286/api/v1/Authentication/register - 500 null application/json; ver=1 10219.0268ms
2024-04-16 02:18:20.334 +07:00 [DBG] Connection id "0HN2TG2VS7NII" received FIN.
2024-04-16 02:18:20.423 +07:00 [DBG] Connection id "0HN2TG2VS7NII" is closed. The last processed stream ID was 9.
2024-04-16 02:18:20.456 +07:00 [DBG] The connection queue processing loop for 0HN2TG2VS7NII completed.
2024-04-16 02:18:20.495 +07:00 [DBG] Connection id "0HN2TG2VS7NII" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-04-16 02:18:20.555 +07:00 [DBG] Connection id "0HN2TG2VS7NII" stopped.
2024-04-16 02:21:35.477 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-04-16 02:21:36.189 +07:00 [DBG] The index {'ProductId'} was not created on entity type 'CartProduct' as the properties are already covered by the index {'ProductId', 'CartId'}.
2024-04-16 02:21:36.190 +07:00 [DBG] The index {'OrderId'} was not created on entity type 'OrderProduct' as the properties are already covered by the index {'OrderId', 'ProductId'}.
2024-04-16 02:21:36.191 +07:00 [DBG] The index {'ProductId'} was not created on entity type 'ProductCategory' as the properties are already covered by the index {'ProductId', 'CategoryId'}.
2024-04-16 02:21:36.191 +07:00 [DBG] The index {'RoleId'} was not created on entity type 'IdentityUserRole<Guid>' as the properties are already covered by the index {'RoleId', 'UserId'}.
2024-04-16 02:21:36.312 +07:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-04-16 02:21:36.332 +07:00 [DBG] The property 'IdentityUserToken<Guid>.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-04-16 02:21:36.360 +07:00 [WRN] No store type was specified for the decimal property 'Amout' on entity type 'Cart'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 02:21:36.360 +07:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'CartProduct'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 02:21:36.360 +07:00 [WRN] No store type was specified for the decimal property 'Amout' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 02:21:36.360 +07:00 [WRN] No store type was specified for the decimal property 'AmoutTotal' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 02:21:36.360 +07:00 [WRN] No store type was specified for the decimal property 'Discount' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 02:21:36.361 +07:00 [WRN] No store type was specified for the decimal property 'Shipping' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 02:21:36.361 +07:00 [WRN] No store type was specified for the decimal property 'Tax' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 02:21:36.361 +07:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'OrderProduct'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 02:21:36.362 +07:00 [WRN] No store type was specified for the decimal property 'Discount' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 02:21:36.362 +07:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 02:21:36.547 +07:00 [DBG] Entity Framework Core 8.0.4 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.3' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using lazy loading proxies QuerySplittingBehavior=SplitQuery MigrationsAssembly=FoodShop.Persistence 
2024-04-16 02:21:36.557 +07:00 [DBG] Creating DbConnection.
2024-04-16 02:21:36.628 +07:00 [DBG] Created DbConnection. (66ms).
2024-04-16 02:21:36.632 +07:00 [DBG] Migrating using database 'FoodShop' on server 'localhost'.
2024-04-16 02:21:36.639 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:21:36.950 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:21:36.963 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-04-16 02:21:36.975 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (10ms).
2024-04-16 02:21:36.979 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (20ms).
2024-04-16 02:21:36.993 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 02:21:37.030 +07:00 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 02:21:37.032 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:21:37.039 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (3ms).
2024-04-16 02:21:37.041 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-04-16 02:21:37.041 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 02:21:37.042 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 02:21:37.042 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:21:37.042 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:21:37.043 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 02:21:37.068 +07:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 02:21:37.068 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:21:37.069 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 02:21:37.070 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:21:37.070 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:21:37.070 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-04-16 02:21:37.070 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-04-16 02:21:37.070 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-04-16 02:21:37.070 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 02:21:37.072 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 02:21:37.072 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:21:37.072 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 02:21:37.072 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-04-16 02:21:37.072 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 02:21:37.072 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 02:21:37.072 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:21:37.072 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:21:37.073 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 02:21:37.073 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 02:21:37.073 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:21:37.074 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 02:21:37.083 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:21:37.083 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:21:37.083 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 02:21:37.083 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:21:37.083 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:21:37.084 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-16 02:21:37.087 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-16 02:21:37.090 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 02:21:37.091 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 2ms reading results.
2024-04-16 02:21:37.092 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:21:37.092 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 02:21:37.099 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-04-16 02:21:37.133 +07:00 [DBG] Compiling query expression: 
'DbSet<AppRole>()
    .Any()'
2024-04-16 02:21:37.276 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SplitQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AppRole AS a)), 
    ReaderColumn[] { ReaderColumn<bool> }, 
    Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, bool>, 
    null, 
    null, 
    FoodShop.Persistence.ApplicationDbContext, 
    False, 
    True, 
    True
)
    .Single()'
2024-04-16 02:21:37.294 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:21:37.295 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:21:37.295 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 02:21:37.295 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:21:37.295 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:21:37.295 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AppRole] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-04-16 02:21:37.308 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AppRole] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-04-16 02:21:37.326 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 02:21:37.326 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 3ms reading results.
2024-04-16 02:21:37.327 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:21:37.328 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 02:21:37.331 +07:00 [DBG] 'ApplicationDbContext' disposed.
2024-04-16 02:21:37.335 +07:00 [DBG] Disposing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:21:37.337 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-04-16 02:21:37.423 +07:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-04-16 02:21:37.481 +07:00 [DBG] Hosting starting
2024-04-16 02:21:37.506 +07:00 [INF] User profile is available. Using 'C:\Users\hieud\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-04-16 02:21:37.514 +07:00 [DBG] Reading data from file 'C:\Users\hieud\AppData\Local\ASP.NET\DataProtection-Keys\key-5b2baa0a-904f-4101-af08-7ac673b8db2c.xml'.
2024-04-16 02:21:37.521 +07:00 [DBG] Found key {5b2baa0a-904f-4101-af08-7ac673b8db2c}.
2024-04-16 02:21:37.532 +07:00 [DBG] Considering key {5b2baa0a-904f-4101-af08-7ac673b8db2c} with expiration date 2024-05-20 17:09:10Z as default key.
2024-04-16 02:21:37.536 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-04-16 02:21:37.536 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-04-16 02:21:37.539 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-04-16 02:21:37.541 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-04-16 02:21:37.544 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-04-16 02:21:37.549 +07:00 [DBG] Using key {5b2baa0a-904f-4101-af08-7ac673b8db2c} as the default key.
2024-04-16 02:21:37.550 +07:00 [DBG] Key ring with default key {5b2baa0a-904f-4101-af08-7ac673b8db2c} was loaded during application startup.
2024-04-16 02:21:37.720 +07:00 [INF] Now listening on: https://localhost:7286
2024-04-16 02:21:37.721 +07:00 [INF] Now listening on: http://localhost:5010
2024-04-16 02:21:37.721 +07:00 [DBG] Loaded hosting startup assembly FoodShop.API
2024-04-16 02:21:37.721 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-04-16 02:21:37.721 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-04-16 02:21:37.722 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-04-16 02:21:37.802 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-04-16 02:21:37.802 +07:00 [INF] Hosting environment: Development
2024-04-16 02:21:37.802 +07:00 [INF] Content root path: C:\Users\hieud\Code\C#\FoodShop\FoodShop\src\FoodShop.API
2024-04-16 02:21:37.803 +07:00 [DBG] Hosting started
2024-04-16 02:21:37.858 +07:00 [DBG] Connection id "0HN2TG52OJ76F" received FIN.
2024-04-16 02:21:37.858 +07:00 [DBG] Connection id "0HN2TG52OJ76E" received FIN.
2024-04-16 02:21:37.863 +07:00 [DBG] Connection id "0HN2TG52OJ76F" accepted.
2024-04-16 02:21:37.863 +07:00 [DBG] Connection id "0HN2TG52OJ76E" accepted.
2024-04-16 02:21:37.865 +07:00 [DBG] Connection id "0HN2TG52OJ76E" started.
2024-04-16 02:21:37.865 +07:00 [DBG] Connection id "0HN2TG52OJ76F" started.
2024-04-16 02:21:37.889 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-04-16 02:21:37.889 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-04-16 02:21:37.903 +07:00 [DBG] Connection id "0HN2TG52OJ76F" stopped.
2024-04-16 02:21:37.903 +07:00 [DBG] Connection id "0HN2TG52OJ76E" stopped.
2024-04-16 02:21:37.906 +07:00 [DBG] Connection id "0HN2TG52OJ76E" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-04-16 02:21:37.906 +07:00 [DBG] Connection id "0HN2TG52OJ76F" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-04-16 02:21:38.141 +07:00 [DBG] Connection id "0HN2TG52OJ76G" accepted.
2024-04-16 02:21:38.141 +07:00 [DBG] Connection id "0HN2TG52OJ76G" started.
2024-04-16 02:21:38.175 +07:00 [DBG] Connection 0HN2TG52OJ76G established using the following protocol: "Tls13"
2024-04-16 02:21:38.228 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/swagger/index.html - null null
2024-04-16 02:21:38.349 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-04-16 02:21:38.383 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-04-16 02:21:38.384 +07:00 [DBG] Request did not match any endpoints
2024-04-16 02:21:38.432 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-16 02:21:38.476 +07:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-04-16 02:21:38.478 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-04-16 02:21:38.495 +07:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-04-16 02:21:38.497 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-04-16 02:21:38.501 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/swagger/index.html - 200 null text/html;charset=utf-8 278.5113ms
2024-04-16 02:21:38.558 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/_framework/aspnetcore-browser-refresh.js - null null
2024-04-16 02:21:38.558 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/_vs/browserLink - null null
2024-04-16 02:21:38.571 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 12.5818ms
2024-04-16 02:21:38.611 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/_vs/browserLink - 200 null text/javascript; charset=UTF-8 52.8147ms
2024-04-16 02:21:38.952 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/swagger/v1/swagger.json - null null
2024-04-16 02:21:38.955 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-04-16 02:21:38.956 +07:00 [DBG] Request did not match any endpoints
2024-04-16 02:21:38.958 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-16 02:21:39.116 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 165.2765ms
2024-04-16 02:22:04.418 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-04-16 02:22:04.890 +07:00 [DBG] The index {'ProductId'} was not created on entity type 'CartProduct' as the properties are already covered by the index {'ProductId', 'CartId'}.
2024-04-16 02:22:04.892 +07:00 [DBG] The index {'OrderId'} was not created on entity type 'OrderProduct' as the properties are already covered by the index {'OrderId', 'ProductId'}.
2024-04-16 02:22:04.892 +07:00 [DBG] The index {'ProductId'} was not created on entity type 'ProductCategory' as the properties are already covered by the index {'ProductId', 'CategoryId'}.
2024-04-16 02:22:04.893 +07:00 [DBG] The index {'RoleId'} was not created on entity type 'IdentityUserRole<Guid>' as the properties are already covered by the index {'RoleId', 'UserId'}.
2024-04-16 02:22:04.976 +07:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-04-16 02:22:04.996 +07:00 [DBG] The property 'IdentityUserToken<Guid>.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-04-16 02:22:05.017 +07:00 [WRN] No store type was specified for the decimal property 'Amout' on entity type 'Cart'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 02:22:05.018 +07:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'CartProduct'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 02:22:05.018 +07:00 [WRN] No store type was specified for the decimal property 'Amout' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 02:22:05.019 +07:00 [WRN] No store type was specified for the decimal property 'AmoutTotal' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 02:22:05.019 +07:00 [WRN] No store type was specified for the decimal property 'Discount' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 02:22:05.020 +07:00 [WRN] No store type was specified for the decimal property 'Shipping' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 02:22:05.020 +07:00 [WRN] No store type was specified for the decimal property 'Tax' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 02:22:05.021 +07:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'OrderProduct'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 02:22:05.021 +07:00 [WRN] No store type was specified for the decimal property 'Discount' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 02:22:05.022 +07:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 02:22:05.153 +07:00 [DBG] Entity Framework Core 8.0.4 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.3' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using lazy loading proxies QuerySplittingBehavior=SplitQuery MigrationsAssembly=FoodShop.Persistence 
2024-04-16 02:22:05.159 +07:00 [DBG] Creating DbConnection.
2024-04-16 02:22:05.200 +07:00 [DBG] Created DbConnection. (39ms).
2024-04-16 02:22:05.202 +07:00 [DBG] Migrating using database 'FoodShop' on server 'localhost'.
2024-04-16 02:22:05.208 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:22:05.420 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:22:05.425 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-04-16 02:22:05.432 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (5ms).
2024-04-16 02:22:05.435 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (11ms).
2024-04-16 02:22:05.440 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 02:22:05.462 +07:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 02:22:05.464 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:22:05.471 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (4ms).
2024-04-16 02:22:05.474 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-04-16 02:22:05.474 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 02:22:05.475 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 02:22:05.475 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:22:05.476 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:22:05.477 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 02:22:05.488 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 02:22:05.488 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:22:05.489 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (1ms).
2024-04-16 02:22:05.491 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:22:05.491 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:22:05.492 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-04-16 02:22:05.492 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-04-16 02:22:05.492 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-04-16 02:22:05.492 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 02:22:05.494 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 02:22:05.494 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:22:05.495 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 02:22:05.495 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-04-16 02:22:05.495 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 02:22:05.496 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 02:22:05.496 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:22:05.496 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:22:05.496 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 02:22:05.497 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 02:22:05.498 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:22:05.498 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 02:22:05.508 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:22:05.509 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:22:05.509 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 02:22:05.509 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:22:05.510 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:22:05.510 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-16 02:22:05.512 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-16 02:22:05.514 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 02:22:05.515 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 1ms reading results.
2024-04-16 02:22:05.516 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:22:05.516 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 02:22:05.526 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-04-16 02:22:05.558 +07:00 [DBG] Compiling query expression: 
'DbSet<AppRole>()
    .Any()'
2024-04-16 02:22:05.674 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SplitQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AppRole AS a)), 
    ReaderColumn[] { ReaderColumn<bool> }, 
    Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, bool>, 
    null, 
    null, 
    FoodShop.Persistence.ApplicationDbContext, 
    False, 
    True, 
    True
)
    .Single()'
2024-04-16 02:22:05.695 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:22:05.695 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:22:05.695 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 02:22:05.696 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:22:05.696 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:22:05.696 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AppRole] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-04-16 02:22:05.697 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AppRole] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-04-16 02:22:05.709 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 02:22:05.710 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 2ms reading results.
2024-04-16 02:22:05.710 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:22:05.710 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 02:22:05.712 +07:00 [DBG] 'ApplicationDbContext' disposed.
2024-04-16 02:22:05.714 +07:00 [DBG] Disposing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:22:05.715 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-04-16 02:22:05.779 +07:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-04-16 02:22:05.838 +07:00 [DBG] Hosting starting
2024-04-16 02:22:05.863 +07:00 [INF] User profile is available. Using 'C:\Users\hieud\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-04-16 02:22:05.869 +07:00 [DBG] Reading data from file 'C:\Users\hieud\AppData\Local\ASP.NET\DataProtection-Keys\key-5b2baa0a-904f-4101-af08-7ac673b8db2c.xml'.
2024-04-16 02:22:05.875 +07:00 [DBG] Found key {5b2baa0a-904f-4101-af08-7ac673b8db2c}.
2024-04-16 02:22:05.881 +07:00 [DBG] Considering key {5b2baa0a-904f-4101-af08-7ac673b8db2c} with expiration date 2024-05-20 17:09:10Z as default key.
2024-04-16 02:22:05.884 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-04-16 02:22:05.885 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-04-16 02:22:05.887 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-04-16 02:22:05.888 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-04-16 02:22:05.891 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-04-16 02:22:05.894 +07:00 [DBG] Using key {5b2baa0a-904f-4101-af08-7ac673b8db2c} as the default key.
2024-04-16 02:22:05.895 +07:00 [DBG] Key ring with default key {5b2baa0a-904f-4101-af08-7ac673b8db2c} was loaded during application startup.
2024-04-16 02:22:06.044 +07:00 [INF] Now listening on: https://localhost:7286
2024-04-16 02:22:06.044 +07:00 [INF] Now listening on: http://localhost:5010
2024-04-16 02:22:06.045 +07:00 [DBG] Loaded hosting startup assembly FoodShop.API
2024-04-16 02:22:06.045 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-04-16 02:22:06.045 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-04-16 02:22:06.045 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-04-16 02:22:06.110 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-04-16 02:22:06.111 +07:00 [INF] Hosting environment: Development
2024-04-16 02:22:06.111 +07:00 [INF] Content root path: C:\Users\hieud\Code\C#\FoodShop\FoodShop\src\FoodShop.API
2024-04-16 02:22:06.111 +07:00 [DBG] Hosting started
2024-04-16 02:22:06.506 +07:00 [DBG] Connection id "0HN2TG5B9PSIS" accepted.
2024-04-16 02:22:06.507 +07:00 [DBG] Connection id "0HN2TG5B9PSIS" started.
2024-04-16 02:22:06.512 +07:00 [DBG] Connection id "0HN2TG5B9PSIS" received FIN.
2024-04-16 02:22:06.512 +07:00 [DBG] Connection id "0HN2TG5B9PSIT" received FIN.
2024-04-16 02:22:06.519 +07:00 [DBG] Connection id "0HN2TG5B9PSIT" accepted.
2024-04-16 02:22:06.520 +07:00 [DBG] Connection id "0HN2TG5B9PSIT" started.
2024-04-16 02:22:06.528 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-04-16 02:22:06.528 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-04-16 02:22:06.540 +07:00 [DBG] Connection id "0HN2TG5B9PSIS" stopped.
2024-04-16 02:22:06.540 +07:00 [DBG] Connection id "0HN2TG5B9PSIT" stopped.
2024-04-16 02:22:06.544 +07:00 [DBG] Connection id "0HN2TG5B9PSIT" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-04-16 02:22:06.544 +07:00 [DBG] Connection id "0HN2TG5B9PSIS" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-04-16 02:22:06.788 +07:00 [DBG] Connection id "0HN2TG5B9PSIU" accepted.
2024-04-16 02:22:06.788 +07:00 [DBG] Connection id "0HN2TG5B9PSIU" started.
2024-04-16 02:22:06.818 +07:00 [DBG] Connection 0HN2TG5B9PSIU established using the following protocol: "Tls13"
2024-04-16 02:22:06.876 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/swagger/index.html - null null
2024-04-16 02:22:07.001 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-04-16 02:22:07.066 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-04-16 02:22:07.068 +07:00 [DBG] Request did not match any endpoints
2024-04-16 02:22:07.142 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-16 02:22:07.196 +07:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-04-16 02:22:07.198 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-04-16 02:22:07.221 +07:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-04-16 02:22:07.222 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-04-16 02:22:07.226 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/swagger/index.html - 200 null text/html;charset=utf-8 354.9189ms
2024-04-16 02:22:07.234 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/_framework/aspnetcore-browser-refresh.js - null null
2024-04-16 02:22:07.241 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 7.6676ms
2024-04-16 02:22:07.270 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/_vs/browserLink - null null
2024-04-16 02:22:07.314 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/_vs/browserLink - 200 null text/javascript; charset=UTF-8 43.7334ms
2024-04-16 02:22:07.636 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/swagger/v1/swagger.json - null null
2024-04-16 02:22:07.637 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-04-16 02:22:07.637 +07:00 [DBG] Request did not match any endpoints
2024-04-16 02:22:07.639 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-16 02:22:07.770 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 134.1238ms
2024-04-16 02:22:14.966 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7286/api/v1.0/Authentication/register - application/json; ver=1.0 156
2024-04-16 02:22:14.999 +07:00 [DBG] 1 candidate(s) found for the request path '/api/v1.0/Authentication/register'
2024-04-16 02:22:15.002 +07:00 [DBG] Endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)' with route pattern 'api/v{version:apiVersion}/Authentication/register' is valid for the request path '/api/v1.0/Authentication/register'
2024-04-16 02:22:15.008 +07:00 [DBG] Request matched endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)'
2024-04-16 02:22:15.011 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-16 02:22:15.014 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-04-16 02:22:15.016 +07:00 [INF] Start request......!
2024-04-16 02:22:15.018 +07:00 [INF] Executing endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)'
2024-04-16 02:22:15.044 +07:00 [INF] Route matched with {action = "Register", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest) on controller FoodShop.Presentation.Controllers.V1.AuthenticationController (FoodShop.Presentation).
2024-04-16 02:22:15.046 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-04-16 02:22:15.046 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-04-16 02:22:15.047 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)","Asp.Versioning.ApplyContentTypeVersionActionFilter"]
2024-04-16 02:22:15.048 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-04-16 02:22:15.048 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-04-16 02:22:15.050 +07:00 [DBG] Executing controller factory for controller FoodShop.Presentation.Controllers.V1.AuthenticationController (FoodShop.Presentation)
2024-04-16 02:22:15.140 +07:00 [DBG] Executed controller factory for controller FoodShop.Presentation.Controllers.V1.AuthenticationController (FoodShop.Presentation)
2024-04-16 02:22:15.144 +07:00 [DBG] Attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest' ...
2024-04-16 02:22:15.147 +07:00 [DBG] Attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest' using the name '' in request data ...
2024-04-16 02:22:15.149 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json; ver=1.0'.
2024-04-16 02:22:15.153 +07:00 [DBG] Connection id "0HN2TG5B9PSIU", Request id "0HN2TG5B9PSIU:00000009": started reading request body.
2024-04-16 02:22:15.154 +07:00 [DBG] Connection id "0HN2TG5B9PSIU", Request id "0HN2TG5B9PSIU:00000009": done reading request body.
2024-04-16 02:22:15.159 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'
2024-04-16 02:22:15.160 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'.
2024-04-16 02:22:15.161 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'.
2024-04-16 02:22:15.161 +07:00 [DBG] Attempting to validate the bound parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest' ...
2024-04-16 02:22:15.174 +07:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'.
2024-04-16 02:22:17.683 +07:00 [DBG] Entity Framework Core 8.0.4 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.3' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using lazy loading proxies QuerySplittingBehavior=SplitQuery MigrationsAssembly=FoodShop.Persistence 
2024-04-16 02:22:17.693 +07:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2024-04-16 02:22:17.982 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppUser>(
    asyncEnumerable: new SplitQueryingEnumerable<AppUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AppUser.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: AppUser.AccessFailedCount (int) Required, 1], [Property: AppUser.Address (string), 2], [Property: AppUser.Avatar (string), 3], [Property: AppUser.ConcurrencyStamp (string), 4], [Property: AppUser.CreatedDate (DateTime) Required, 5], [Property: AppUser.Email (string), 6], [Property: AppUser.EmailConfirmed (bool) Required, 7], [Property: AppUser.Facebook (string), 8], [Property: AppUser.FirstName (string), 9], [Property: AppUser.LastName (string), 10], [Property: AppUser.LockoutEnabled (bool) Required, 11], [Property: AppUser.LockoutEnd (DateTimeOffset?), 12], [Property: AppUser.NormalizedEmail (string), 13], [Property: AppUser.NormalizedUserName (string), 14], [Property: AppUser.PasswordHash (string), 15], [Property: AppUser.PhoneNumber (string), 16], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 17], [Property: AppUser.SecurityStamp (string), 18], [Property: AppUser.TwoFactorEnabled (bool) Required, 19], [Property: AppUser.UpdateDate (DateTime) Required, 20], [Property: AppUser.UserName (string), 21] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.Address, a.Avatar, a.ConcurrencyStamp, a.CreatedDate, a.Email, a.EmailConfirmed, a.Facebook, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UpdateDate, a.UserName
            FROM AppUser AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<int>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<DateTime>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<DateTimeOffset>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<DateTime>, ReaderColumn<object> }, 
        Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, AppUser>, 
        null, 
        null, 
        FoodShop.Persistence.ApplicationDbContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-04-16 02:22:18.002 +07:00 [DBG] Creating DbConnection.
2024-04-16 02:22:18.003 +07:00 [DBG] Created DbConnection. (0ms).
2024-04-16 02:22:18.005 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:22:18.007 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:22:18.007 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 02:22:18.007 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:22:18.010 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-04-16 02:22:18.013 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='STR234234243ING' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 02:22:18.095 +07:00 [INF] Executed DbCommand (83ms) [Parameters=[@__normalizedUserName_0='STR234234243ING' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 02:22:18.129 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 02:22:18.130 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 11ms reading results.
2024-04-16 02:22:18.136 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:22:18.138 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (2ms).
2024-04-16 02:22:18.194 +07:00 [DBG] 'ApplicationDbContext' generated value '"ea216081-b0c5-41c0-a8a1-08dc5d815d93"' for the property 'AppUser.Id'.
2024-04-16 02:22:18.304 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'AppUser' entity with key '{Id: ea216081-b0c5-41c0-a8a1-08dc5d815d93}'.
2024-04-16 02:22:18.308 +07:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-04-16 02:22:18.310 +07:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-04-16 02:22:18.329 +07:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-04-16 02:22:18.384 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:22:18.384 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:22:18.387 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 02:22:18.387 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:22:18.388 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-04-16 02:22:18.389 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='ea216081-b0c5-41c0-a8a1-08dc5d815d93', @p1='0', @p2=NULL (Size = 4000), @p3=NULL (Size = 4000), @p4='b309b356-a5da-4164-8a02-820d6a6e3408' (Size = 4000), @p5='0001-01-01T00:00:00.0000000', @p6='str234234243ing' (Size = 4000), @p7='False', @p8=NULL (Size = 4000), @p9='string' (Size = 4000), @p10='string' (Size = 4000), @p11='True', @p12=NULL (DbType = DateTimeOffset), @p13='STR234234243ING' (Size = 4000), @p14='STR234234243ING' (Size = 4000), @p15='AQAAAAIAAYagAAAAEDPTaUvBUnhl3hDVyvVVKmT/IWEeEYOblqg4bAl3NMN+Ja+3wgSUAF8Vty2myQPx2w==' (Size = 4000), @p16='string' (Size = 4000), @p17='False', @p18='UQAPKXTOUJTMCEGMY5TZUG4PMZKGX2HP' (Size = 4000), @p19='False', @p20='0001-01-01T00:00:00.0000000', @p21='str234234243ing' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AppUser] ([Id], [AccessFailedCount], [Address], [Avatar], [ConcurrencyStamp], [CreatedDate], [Email], [EmailConfirmed], [Facebook], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UpdateDate], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21);
2024-04-16 02:22:18.405 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[@p0='ea216081-b0c5-41c0-a8a1-08dc5d815d93', @p1='0', @p2=NULL (Size = 4000), @p3=NULL (Size = 4000), @p4='b309b356-a5da-4164-8a02-820d6a6e3408' (Size = 4000), @p5='0001-01-01T00:00:00.0000000', @p6='str234234243ing' (Size = 4000), @p7='False', @p8=NULL (Size = 4000), @p9='string' (Size = 4000), @p10='string' (Size = 4000), @p11='True', @p12=NULL (DbType = DateTimeOffset), @p13='STR234234243ING' (Size = 4000), @p14='STR234234243ING' (Size = 4000), @p15='AQAAAAIAAYagAAAAEDPTaUvBUnhl3hDVyvVVKmT/IWEeEYOblqg4bAl3NMN+Ja+3wgSUAF8Vty2myQPx2w==' (Size = 4000), @p16='string' (Size = 4000), @p17='False', @p18='UQAPKXTOUJTMCEGMY5TZUG4PMZKGX2HP' (Size = 4000), @p19='False', @p20='0001-01-01T00:00:00.0000000', @p21='str234234243ing' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AppUser] ([Id], [AccessFailedCount], [Address], [Avatar], [ConcurrencyStamp], [CreatedDate], [Email], [EmailConfirmed], [Facebook], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UpdateDate], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21);
2024-04-16 02:22:18.408 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 02:22:18.408 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 2ms reading results.
2024-04-16 02:22:18.409 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:22:18.410 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 02:22:18.421 +07:00 [DBG] The 'AppUser' entity with key '{Id: ea216081-b0c5-41c0-a8a1-08dc5d815d93}' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'.
2024-04-16 02:22:18.426 +07:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-04-16 02:22:19.780 +07:00 [DBG] Compiling query expression: 
'DbSet<AppRole>()
    .SingleOrDefault(r => r.NormalizedName == __normalizedRoleName_0)'
2024-04-16 02:22:19.847 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppRole>(
    asyncEnumerable: new SplitQueryingEnumerable<AppRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AppRole.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: AppRole.ConcurrencyStamp (string), 1], [Property: AppRole.CreateBy (string), 2], [Property: AppRole.CreateDate (DateTime?), 3], [Property: AppRole.Description (string) Required MaxLength(250), 4], [Property: AppRole.Name (string), 5], [Property: AppRole.NormalizedName (string), 6], [Property: AppRole.RoleCode (string) Required MaxLength(50), 7], [Property: AppRole.UpdateBy (string), 8], [Property: AppRole.UpdateDate (DateTime?), 9] }
            SELECT TOP(2) a.Id, a.ConcurrencyStamp, a.CreateBy, a.CreateDate, a.Description, a.Name, a.NormalizedName, a.RoleCode, a.UpdateBy, a.UpdateDate
            FROM AppRole AS a
            WHERE a.NormalizedName == @__normalizedRoleName_0), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<DateTime>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<DateTime> }, 
        Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, AppRole>, 
        null, 
        null, 
        FoodShop.Persistence.ApplicationDbContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-04-16 02:22:19.849 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:22:19.850 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:22:19.850 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 02:22:19.850 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:22:19.851 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:22:19.851 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 02:22:19.857 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 02:22:19.904 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'AppRole' entity with key '{Id: 1ddacd3b-495b-4144-b828-3c9740ba1651}'.
2024-04-16 02:22:19.934 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 02:22:19.935 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 51ms reading results.
2024-04-16 02:22:19.936 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:22:19.936 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 02:22:19.959 +07:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<Guid>>()
    .FirstOrDefault(e => object.Equals(
        objA: EF.Property<object>(e, "RoleId"), 
        objB: __get_Item_0) && object.Equals(
        objA: EF.Property<object>(e, "UserId"), 
        objB: __get_Item_1))'
2024-04-16 02:22:20.073 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityUserRole<Guid>>(
    asyncEnumerable: new SplitQueryingEnumerable<IdentityUserRole<Guid>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUserRole<Guid>.RoleId (Guid) Required PK FK AfterSave:Throw, 0], [Property: IdentityUserRole<Guid>.UserId (Guid) Required PK FK Index AfterSave:Throw, 1] }
            SELECT TOP(1) a.RoleId, a.UserId
            FROM AppUserRole AS a
            WHERE (a.RoleId == @__get_Item_0) && (a.UserId == @__get_Item_1)), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<Guid> }, 
        Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, IdentityUserRole<Guid>>, 
        null, 
        null, 
        FoodShop.Persistence.ApplicationDbContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-04-16 02:22:20.080 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:22:20.080 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:22:20.081 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 02:22:20.081 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:22:20.082 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-04-16 02:22:20.082 +07:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='ea216081-b0c5-41c0-a8a1-08dc5d815d93' (Nullable = true), @__get_Item_1='1ddacd3b-495b-4144-b828-3c9740ba1651' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[RoleId], [a].[UserId]
FROM [AppUserRole] AS [a]
WHERE [a].[RoleId] = @__get_Item_0 AND [a].[UserId] = @__get_Item_1
2024-04-16 02:22:20.098 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[@__get_Item_0='ea216081-b0c5-41c0-a8a1-08dc5d815d93' (Nullable = true), @__get_Item_1='1ddacd3b-495b-4144-b828-3c9740ba1651' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[RoleId], [a].[UserId]
FROM [AppUserRole] AS [a]
WHERE [a].[RoleId] = @__get_Item_0 AND [a].[UserId] = @__get_Item_1
2024-04-16 02:22:20.100 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 02:22:20.100 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 1ms reading results.
2024-04-16 02:22:20.101 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:22:20.101 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 02:22:20.112 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:22:20.113 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:22:20.113 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 02:22:20.114 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:22:20.114 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-04-16 02:22:20.115 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 02:22:20.118 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 02:22:20.124 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 02:22:20.124 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 1ms reading results.
2024-04-16 02:22:20.125 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:22:20.125 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 02:22:20.180 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityUserRole' entity with key '{RoleId: 1ddacd3b-495b-4144-b828-3c9740ba1651, UserId: ea216081-b0c5-41c0-a8a1-08dc5d815d93}'.
2024-04-16 02:22:20.183 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:22:20.184 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:22:20.184 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 02:22:20.184 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:22:20.185 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:22:20.185 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='STR234234243ING' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 02:22:20.189 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='STR234234243ING' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 02:22:20.193 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 02:22:20.193 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 0ms reading results.
2024-04-16 02:22:20.193 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:22:20.194 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 02:22:20.200 +07:00 [DBG] The 'AppUser' entity with key '{Id: ea216081-b0c5-41c0-a8a1-08dc5d815d93}' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'.
2024-04-16 02:22:20.201 +07:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-04-16 02:22:20.201 +07:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-04-16 02:22:20.215 +07:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-04-16 02:22:20.228 +07:00 [DBG] Executing 2 update commands as a batch.
2024-04-16 02:22:20.231 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:22:20.232 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:22:20.233 +07:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-04-16 02:22:20.241 +07:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-04-16 02:22:20.242 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 02:22:20.242 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:22:20.244 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-04-16 02:22:20.245 +07:00 [DBG] Executing DbCommand [Parameters=[@p21='ea216081-b0c5-41c0-a8a1-08dc5d815d93', @p0='0', @p1=NULL (Size = 4000), @p2=NULL (Size = 4000), @p3='66f184aa-841c-4265-8e84-1c273fbc23b2' (Size = 4000), @p4='0001-01-01T00:00:00.0000000', @p5='str234234243ing' (Size = 4000), @p6='False', @p7=NULL (Size = 4000), @p8='string' (Size = 4000), @p9='string' (Size = 4000), @p10='True', @p11=NULL (DbType = DateTimeOffset), @p12='STR234234243ING' (Size = 4000), @p13='STR234234243ING' (Size = 4000), @p14='AQAAAAIAAYagAAAAEDPTaUvBUnhl3hDVyvVVKmT/IWEeEYOblqg4bAl3NMN+Ja+3wgSUAF8Vty2myQPx2w==' (Size = 4000), @p15='string' (Size = 4000), @p16='False', @p17='UQAPKXTOUJTMCEGMY5TZUG4PMZKGX2HP' (Size = 4000), @p18='False', @p19='0001-01-01T00:00:00.0000000', @p20='str234234243ing' (Size = 4000), @p22='1ddacd3b-495b-4144-b828-3c9740ba1651', @p23='ea216081-b0c5-41c0-a8a1-08dc5d815d93'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AppUser] SET [AccessFailedCount] = @p0, [Address] = @p1, [Avatar] = @p2, [ConcurrencyStamp] = @p3, [CreatedDate] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [Facebook] = @p7, [FirstName] = @p8, [LastName] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [SecurityStamp] = @p17, [TwoFactorEnabled] = @p18, [UpdateDate] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21;
INSERT INTO [AppUserRole] ([RoleId], [UserId])
VALUES (@p22, @p23);
2024-04-16 02:22:20.262 +07:00 [INF] Executed DbCommand (18ms) [Parameters=[@p21='ea216081-b0c5-41c0-a8a1-08dc5d815d93', @p0='0', @p1=NULL (Size = 4000), @p2=NULL (Size = 4000), @p3='66f184aa-841c-4265-8e84-1c273fbc23b2' (Size = 4000), @p4='0001-01-01T00:00:00.0000000', @p5='str234234243ing' (Size = 4000), @p6='False', @p7=NULL (Size = 4000), @p8='string' (Size = 4000), @p9='string' (Size = 4000), @p10='True', @p11=NULL (DbType = DateTimeOffset), @p12='STR234234243ING' (Size = 4000), @p13='STR234234243ING' (Size = 4000), @p14='AQAAAAIAAYagAAAAEDPTaUvBUnhl3hDVyvVVKmT/IWEeEYOblqg4bAl3NMN+Ja+3wgSUAF8Vty2myQPx2w==' (Size = 4000), @p15='string' (Size = 4000), @p16='False', @p17='UQAPKXTOUJTMCEGMY5TZUG4PMZKGX2HP' (Size = 4000), @p18='False', @p19='0001-01-01T00:00:00.0000000', @p20='str234234243ing' (Size = 4000), @p22='1ddacd3b-495b-4144-b828-3c9740ba1651', @p23='ea216081-b0c5-41c0-a8a1-08dc5d815d93'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AppUser] SET [AccessFailedCount] = @p0, [Address] = @p1, [Avatar] = @p2, [ConcurrencyStamp] = @p3, [CreatedDate] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [Facebook] = @p7, [FirstName] = @p8, [LastName] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [SecurityStamp] = @p17, [TwoFactorEnabled] = @p18, [UpdateDate] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21;
INSERT INTO [AppUserRole] ([RoleId], [UserId])
VALUES (@p22, @p23);
2024-04-16 02:22:20.265 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 02:22:20.265 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 2ms reading results.
2024-04-16 02:22:20.269 +07:00 [DBG] Committing transaction.
2024-04-16 02:22:20.273 +07:00 [DBG] Committed transaction.
2024-04-16 02:22:20.275 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:22:20.276 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 02:22:20.278 +07:00 [DBG] Disposing transaction.
2024-04-16 02:22:20.279 +07:00 [DBG] The 'IdentityUserRole' entity with key '{RoleId: 1ddacd3b-495b-4144-b828-3c9740ba1651, UserId: ea216081-b0c5-41c0-a8a1-08dc5d815d93}' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'.
2024-04-16 02:22:20.280 +07:00 [DBG] The 'AppUser' entity with key '{Id: ea216081-b0c5-41c0-a8a1-08dc5d815d93}' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'.
2024-04-16 02:22:20.280 +07:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 2 entities written to the database.
2024-04-16 02:22:23.601 +07:00 [INF] Start processing HTTP request POST https://send.api.mailtrap.io/api/send
2024-04-16 02:22:23.602 +07:00 [INF] Sending HTTP request POST https://send.api.mailtrap.io/api/send
2024-04-16 02:22:24.919 +07:00 [INF] Received HTTP response headers after 1313.9837ms - 400
2024-04-16 02:22:24.921 +07:00 [INF] End processing HTTP request after 1321.0532ms - 400
2024-04-16 02:22:28.730 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-04-16 02:22:28.732 +07:00 [DBG] No information found on request to perform content negotiation.
2024-04-16 02:22:28.732 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-04-16 02:22:28.732 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-04-16 02:22:28.733 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-04-16 02:22:28.734 +07:00 [INF] Executing OkObjectResult, writing value of type 'FoodShop.Contract.Abstraction.Shared.Result`1[[FoodShop.Contract.DataTransferObjects.Respone.V1.UserAuthResponse, FoodShop.Contract, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-04-16 02:22:40.897 +07:00 [INF] Executed action FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation) in 25844.5125ms
2024-04-16 02:22:40.898 +07:00 [INF] Executed endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)'
2024-04-16 02:22:41.696 +07:00 [DBG] 'ApplicationDbContext' disposed.
2024-04-16 02:22:41.702 +07:00 [DBG] Disposing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:22:41.703 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-04-16 02:22:41.704 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7286/api/v1.0/Authentication/register - 200 null application/json; charset=utf-8; ver=1.0 26738.0159ms
2024-04-16 02:23:25.812 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7286/api/v1.0/Authentication/register - application/json; ver=1.0 164
2024-04-16 02:23:25.824 +07:00 [DBG] 1 candidate(s) found for the request path '/api/v1.0/Authentication/register'
2024-04-16 02:23:25.825 +07:00 [DBG] Endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)' with route pattern 'api/v{version:apiVersion}/Authentication/register' is valid for the request path '/api/v1.0/Authentication/register'
2024-04-16 02:23:25.825 +07:00 [DBG] Request matched endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)'
2024-04-16 02:23:25.826 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-16 02:23:25.826 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-04-16 02:23:25.827 +07:00 [INF] Start request......!
2024-04-16 02:23:25.828 +07:00 [INF] Executing endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)'
2024-04-16 02:23:25.829 +07:00 [INF] Route matched with {action = "Register", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest) on controller FoodShop.Presentation.Controllers.V1.AuthenticationController (FoodShop.Presentation).
2024-04-16 02:23:25.829 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-04-16 02:23:25.830 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-04-16 02:23:25.830 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)","Asp.Versioning.ApplyContentTypeVersionActionFilter"]
2024-04-16 02:23:25.831 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-04-16 02:23:25.831 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-04-16 02:23:25.832 +07:00 [DBG] Executing controller factory for controller FoodShop.Presentation.Controllers.V1.AuthenticationController (FoodShop.Presentation)
2024-04-16 02:23:25.838 +07:00 [DBG] Executed controller factory for controller FoodShop.Presentation.Controllers.V1.AuthenticationController (FoodShop.Presentation)
2024-04-16 02:23:25.840 +07:00 [DBG] Attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest' ...
2024-04-16 02:23:25.841 +07:00 [DBG] Attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest' using the name '' in request data ...
2024-04-16 02:23:25.841 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json; ver=1.0'.
2024-04-16 02:23:25.842 +07:00 [DBG] Connection id "0HN2TG5B9PSIU", Request id "0HN2TG5B9PSIU:0000000B": started reading request body.
2024-04-16 02:23:25.843 +07:00 [DBG] Connection id "0HN2TG5B9PSIU", Request id "0HN2TG5B9PSIU:0000000B": done reading request body.
2024-04-16 02:23:25.844 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'
2024-04-16 02:23:25.844 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'.
2024-04-16 02:23:25.845 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'.
2024-04-16 02:23:25.845 +07:00 [DBG] Attempting to validate the bound parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest' ...
2024-04-16 02:23:25.846 +07:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'.
2024-04-16 02:23:28.800 +07:00 [DBG] Entity Framework Core 8.0.4 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.3' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using lazy loading proxies QuerySplittingBehavior=SplitQuery MigrationsAssembly=FoodShop.Persistence 
2024-04-16 02:23:28.802 +07:00 [DBG] Creating DbConnection.
2024-04-16 02:23:28.802 +07:00 [DBG] Created DbConnection. (0ms).
2024-04-16 02:23:28.803 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:23:28.803 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:23:28.803 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 02:23:28.803 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:23:28.803 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:23:28.804 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 02:23:28.826 +07:00 [INF] Executed DbCommand (22ms) [Parameters=[@__normalizedUserName_0='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 02:23:28.827 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 02:23:28.827 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 0ms reading results.
2024-04-16 02:23:28.827 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:23:28.827 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 02:23:28.828 +07:00 [DBG] 'ApplicationDbContext' generated value '"8fa6b9ee-c2eb-49ca-a8a2-08dc5d815d93"' for the property 'AppUser.Id'.
2024-04-16 02:23:28.829 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'AppUser' entity with key '{Id: 8fa6b9ee-c2eb-49ca-a8a2-08dc5d815d93}'.
2024-04-16 02:23:28.829 +07:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-04-16 02:23:28.829 +07:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-04-16 02:23:28.829 +07:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-04-16 02:23:28.830 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:23:28.830 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:23:28.831 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 02:23:28.831 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:23:28.831 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:23:28.831 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='8fa6b9ee-c2eb-49ca-a8a2-08dc5d815d93', @p1='0', @p2=NULL (Size = 4000), @p3=NULL (Size = 4000), @p4='b09633ad-5318-4138-97ca-72b969d7a227' (Size = 4000), @p5='0001-01-01T00:00:00.0000000', @p6='anhhieuqtqtqt@gmail.com' (Size = 4000), @p7='False', @p8=NULL (Size = 4000), @p9='string' (Size = 4000), @p10='string' (Size = 4000), @p11='True', @p12=NULL (DbType = DateTimeOffset), @p13='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000), @p14='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000), @p15='AQAAAAIAAYagAAAAEIv6I+o6SBeIm+QmwNWzQyp6b+rBjkKHE+lDcJzZyalFRi8y/6qCfljUtccs3esZFg==' (Size = 4000), @p16='string' (Size = 4000), @p17='False', @p18='QL53GSQXAFTF677TI7BWCM5NMZVW3OQN' (Size = 4000), @p19='False', @p20='0001-01-01T00:00:00.0000000', @p21='anhhieuqtqtqt@gmail.com' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AppUser] ([Id], [AccessFailedCount], [Address], [Avatar], [ConcurrencyStamp], [CreatedDate], [Email], [EmailConfirmed], [Facebook], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UpdateDate], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21);
2024-04-16 02:23:28.835 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='8fa6b9ee-c2eb-49ca-a8a2-08dc5d815d93', @p1='0', @p2=NULL (Size = 4000), @p3=NULL (Size = 4000), @p4='b09633ad-5318-4138-97ca-72b969d7a227' (Size = 4000), @p5='0001-01-01T00:00:00.0000000', @p6='anhhieuqtqtqt@gmail.com' (Size = 4000), @p7='False', @p8=NULL (Size = 4000), @p9='string' (Size = 4000), @p10='string' (Size = 4000), @p11='True', @p12=NULL (DbType = DateTimeOffset), @p13='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000), @p14='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000), @p15='AQAAAAIAAYagAAAAEIv6I+o6SBeIm+QmwNWzQyp6b+rBjkKHE+lDcJzZyalFRi8y/6qCfljUtccs3esZFg==' (Size = 4000), @p16='string' (Size = 4000), @p17='False', @p18='QL53GSQXAFTF677TI7BWCM5NMZVW3OQN' (Size = 4000), @p19='False', @p20='0001-01-01T00:00:00.0000000', @p21='anhhieuqtqtqt@gmail.com' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AppUser] ([Id], [AccessFailedCount], [Address], [Avatar], [ConcurrencyStamp], [CreatedDate], [Email], [EmailConfirmed], [Facebook], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UpdateDate], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21);
2024-04-16 02:23:28.836 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 02:23:28.836 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 0ms reading results.
2024-04-16 02:23:28.836 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:23:28.837 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 02:23:28.837 +07:00 [DBG] The 'AppUser' entity with key '{Id: 8fa6b9ee-c2eb-49ca-a8a2-08dc5d815d93}' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'.
2024-04-16 02:23:28.838 +07:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-04-16 02:23:30.101 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:23:30.102 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:23:30.102 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 02:23:30.102 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:23:30.102 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:23:30.102 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 02:23:30.124 +07:00 [INF] Executed DbCommand (21ms) [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 02:23:30.125 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'AppRole' entity with key '{Id: 1ddacd3b-495b-4144-b828-3c9740ba1651}'.
2024-04-16 02:23:30.126 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 02:23:30.126 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 1ms reading results.
2024-04-16 02:23:30.126 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:23:30.126 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 02:23:30.127 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:23:30.128 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:23:30.128 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 02:23:30.128 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:23:30.128 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:23:30.129 +07:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='8fa6b9ee-c2eb-49ca-a8a2-08dc5d815d93' (Nullable = true), @__get_Item_1='1ddacd3b-495b-4144-b828-3c9740ba1651' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[RoleId], [a].[UserId]
FROM [AppUserRole] AS [a]
WHERE [a].[RoleId] = @__get_Item_0 AND [a].[UserId] = @__get_Item_1
2024-04-16 02:23:30.132 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='8fa6b9ee-c2eb-49ca-a8a2-08dc5d815d93' (Nullable = true), @__get_Item_1='1ddacd3b-495b-4144-b828-3c9740ba1651' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[RoleId], [a].[UserId]
FROM [AppUserRole] AS [a]
WHERE [a].[RoleId] = @__get_Item_0 AND [a].[UserId] = @__get_Item_1
2024-04-16 02:23:30.133 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 02:23:30.133 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 0ms reading results.
2024-04-16 02:23:30.133 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:23:30.133 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 02:23:30.134 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:23:30.134 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:23:30.135 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 02:23:30.135 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:23:30.135 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:23:30.135 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 02:23:30.137 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 02:23:30.138 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 02:23:30.138 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 0ms reading results.
2024-04-16 02:23:30.138 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:23:30.138 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 02:23:30.139 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityUserRole' entity with key '{RoleId: 1ddacd3b-495b-4144-b828-3c9740ba1651, UserId: 8fa6b9ee-c2eb-49ca-a8a2-08dc5d815d93}'.
2024-04-16 02:23:30.140 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:23:30.140 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:23:30.140 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 02:23:30.141 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:23:30.141 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:23:30.141 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 02:23:30.152 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedUserName_0='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 02:23:30.153 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 02:23:30.154 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 0ms reading results.
2024-04-16 02:23:30.154 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:23:30.155 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 02:23:30.155 +07:00 [DBG] The 'AppUser' entity with key '{Id: 8fa6b9ee-c2eb-49ca-a8a2-08dc5d815d93}' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'.
2024-04-16 02:23:30.155 +07:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-04-16 02:23:30.156 +07:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-04-16 02:23:30.156 +07:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-04-16 02:23:30.157 +07:00 [DBG] Executing 2 update commands as a batch.
2024-04-16 02:23:30.157 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:23:30.157 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:23:30.157 +07:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-04-16 02:23:30.158 +07:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-04-16 02:23:30.158 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 02:23:30.159 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:23:30.159 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:23:30.159 +07:00 [DBG] Executing DbCommand [Parameters=[@p21='8fa6b9ee-c2eb-49ca-a8a2-08dc5d815d93', @p0='0', @p1=NULL (Size = 4000), @p2=NULL (Size = 4000), @p3='d9caece1-9ae9-47d1-8a3a-da39cd626c4b' (Size = 4000), @p4='0001-01-01T00:00:00.0000000', @p5='anhhieuqtqtqt@gmail.com' (Size = 4000), @p6='False', @p7=NULL (Size = 4000), @p8='string' (Size = 4000), @p9='string' (Size = 4000), @p10='True', @p11=NULL (DbType = DateTimeOffset), @p12='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000), @p13='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000), @p14='AQAAAAIAAYagAAAAEIv6I+o6SBeIm+QmwNWzQyp6b+rBjkKHE+lDcJzZyalFRi8y/6qCfljUtccs3esZFg==' (Size = 4000), @p15='string' (Size = 4000), @p16='False', @p17='QL53GSQXAFTF677TI7BWCM5NMZVW3OQN' (Size = 4000), @p18='False', @p19='0001-01-01T00:00:00.0000000', @p20='anhhieuqtqtqt@gmail.com' (Size = 4000), @p22='1ddacd3b-495b-4144-b828-3c9740ba1651', @p23='8fa6b9ee-c2eb-49ca-a8a2-08dc5d815d93'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AppUser] SET [AccessFailedCount] = @p0, [Address] = @p1, [Avatar] = @p2, [ConcurrencyStamp] = @p3, [CreatedDate] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [Facebook] = @p7, [FirstName] = @p8, [LastName] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [SecurityStamp] = @p17, [TwoFactorEnabled] = @p18, [UpdateDate] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21;
INSERT INTO [AppUserRole] ([RoleId], [UserId])
VALUES (@p22, @p23);
2024-04-16 02:23:30.176 +07:00 [INF] Executed DbCommand (17ms) [Parameters=[@p21='8fa6b9ee-c2eb-49ca-a8a2-08dc5d815d93', @p0='0', @p1=NULL (Size = 4000), @p2=NULL (Size = 4000), @p3='d9caece1-9ae9-47d1-8a3a-da39cd626c4b' (Size = 4000), @p4='0001-01-01T00:00:00.0000000', @p5='anhhieuqtqtqt@gmail.com' (Size = 4000), @p6='False', @p7=NULL (Size = 4000), @p8='string' (Size = 4000), @p9='string' (Size = 4000), @p10='True', @p11=NULL (DbType = DateTimeOffset), @p12='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000), @p13='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000), @p14='AQAAAAIAAYagAAAAEIv6I+o6SBeIm+QmwNWzQyp6b+rBjkKHE+lDcJzZyalFRi8y/6qCfljUtccs3esZFg==' (Size = 4000), @p15='string' (Size = 4000), @p16='False', @p17='QL53GSQXAFTF677TI7BWCM5NMZVW3OQN' (Size = 4000), @p18='False', @p19='0001-01-01T00:00:00.0000000', @p20='anhhieuqtqtqt@gmail.com' (Size = 4000), @p22='1ddacd3b-495b-4144-b828-3c9740ba1651', @p23='8fa6b9ee-c2eb-49ca-a8a2-08dc5d815d93'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AppUser] SET [AccessFailedCount] = @p0, [Address] = @p1, [Avatar] = @p2, [ConcurrencyStamp] = @p3, [CreatedDate] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [Facebook] = @p7, [FirstName] = @p8, [LastName] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [SecurityStamp] = @p17, [TwoFactorEnabled] = @p18, [UpdateDate] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21;
INSERT INTO [AppUserRole] ([RoleId], [UserId])
VALUES (@p22, @p23);
2024-04-16 02:23:30.177 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 02:23:30.177 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 0ms reading results.
2024-04-16 02:23:30.177 +07:00 [DBG] Committing transaction.
2024-04-16 02:23:30.178 +07:00 [DBG] Committed transaction.
2024-04-16 02:23:30.178 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:23:30.178 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 02:23:30.179 +07:00 [DBG] Disposing transaction.
2024-04-16 02:23:30.179 +07:00 [DBG] The 'IdentityUserRole' entity with key '{RoleId: 1ddacd3b-495b-4144-b828-3c9740ba1651, UserId: 8fa6b9ee-c2eb-49ca-a8a2-08dc5d815d93}' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'.
2024-04-16 02:23:30.179 +07:00 [DBG] The 'AppUser' entity with key '{Id: 8fa6b9ee-c2eb-49ca-a8a2-08dc5d815d93}' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'.
2024-04-16 02:23:30.179 +07:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 2 entities written to the database.
2024-04-16 02:23:34.163 +07:00 [INF] Start processing HTTP request POST https://send.api.mailtrap.io/api/send
2024-04-16 02:23:34.164 +07:00 [INF] Sending HTTP request POST https://send.api.mailtrap.io/api/send
2024-04-16 02:23:35.459 +07:00 [INF] Received HTTP response headers after 1292.9813ms - 400
2024-04-16 02:23:35.459 +07:00 [INF] End processing HTTP request after 1296.5753ms - 400
2024-04-16 02:23:46.550 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-04-16 02:23:46.551 +07:00 [DBG] No information found on request to perform content negotiation.
2024-04-16 02:23:46.551 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-04-16 02:23:46.551 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-04-16 02:23:46.552 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-04-16 02:23:46.552 +07:00 [INF] Executing OkObjectResult, writing value of type 'FoodShop.Contract.Abstraction.Shared.Result`1[[FoodShop.Contract.DataTransferObjects.Respone.V1.UserAuthResponse, FoodShop.Contract, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-04-16 02:23:52.617 +07:00 [INF] Executed action FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation) in 26785.0981ms
2024-04-16 02:23:52.617 +07:00 [INF] Executed endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)'
2024-04-16 02:23:53.257 +07:00 [DBG] 'ApplicationDbContext' disposed.
2024-04-16 02:23:53.257 +07:00 [DBG] Disposing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:23:53.258 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-04-16 02:23:53.258 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7286/api/v1.0/Authentication/register - 200 null application/json; charset=utf-8; ver=1.0 27446.196ms
2024-04-16 02:24:15.150 +07:00 [DBG] HttpMessageHandler expired after 120000ms for client ''
2024-04-16 02:24:23.578 +07:00 [DBG] HttpMessageHandler expired after 120000ms for client 'MailTrapApiClient'
2024-04-16 02:24:25.153 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:24:25.159 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.158ms - processed: 0 items - remaining: 2 items
2024-04-16 02:24:35.175 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:24:35.176 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0078ms - processed: 0 items - remaining: 2 items
2024-04-16 02:37:04.099 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-04-16 02:37:04.619 +07:00 [DBG] The index {'ProductId'} was not created on entity type 'CartProduct' as the properties are already covered by the index {'ProductId', 'CartId'}.
2024-04-16 02:37:04.621 +07:00 [DBG] The index {'OrderId'} was not created on entity type 'OrderProduct' as the properties are already covered by the index {'OrderId', 'ProductId'}.
2024-04-16 02:37:04.621 +07:00 [DBG] The index {'ProductId'} was not created on entity type 'ProductCategory' as the properties are already covered by the index {'ProductId', 'CategoryId'}.
2024-04-16 02:37:04.622 +07:00 [DBG] The index {'RoleId'} was not created on entity type 'IdentityUserRole<Guid>' as the properties are already covered by the index {'RoleId', 'UserId'}.
2024-04-16 02:37:04.707 +07:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-04-16 02:37:04.730 +07:00 [DBG] The property 'IdentityUserToken<Guid>.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-04-16 02:37:04.760 +07:00 [WRN] No store type was specified for the decimal property 'Amout' on entity type 'Cart'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 02:37:04.761 +07:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'CartProduct'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 02:37:04.761 +07:00 [WRN] No store type was specified for the decimal property 'Amout' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 02:37:04.762 +07:00 [WRN] No store type was specified for the decimal property 'AmoutTotal' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 02:37:04.762 +07:00 [WRN] No store type was specified for the decimal property 'Discount' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 02:37:04.763 +07:00 [WRN] No store type was specified for the decimal property 'Shipping' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 02:37:04.763 +07:00 [WRN] No store type was specified for the decimal property 'Tax' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 02:37:04.764 +07:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'OrderProduct'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 02:37:04.764 +07:00 [WRN] No store type was specified for the decimal property 'Discount' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 02:37:04.765 +07:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 02:37:04.902 +07:00 [DBG] Entity Framework Core 8.0.4 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.3' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using lazy loading proxies QuerySplittingBehavior=SplitQuery MigrationsAssembly=FoodShop.Persistence 
2024-04-16 02:37:04.908 +07:00 [DBG] Creating DbConnection.
2024-04-16 02:37:04.946 +07:00 [DBG] Created DbConnection. (35ms).
2024-04-16 02:37:04.949 +07:00 [DBG] Migrating using database 'FoodShop' on server 'localhost'.
2024-04-16 02:37:04.954 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:37:05.293 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:37:05.303 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-04-16 02:37:05.313 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (8ms).
2024-04-16 02:37:05.316 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (16ms).
2024-04-16 02:37:05.325 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 02:37:05.355 +07:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 02:37:05.358 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:37:05.368 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (5ms).
2024-04-16 02:37:05.372 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-04-16 02:37:05.373 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 02:37:05.373 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 02:37:05.373 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:37:05.375 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:37:05.376 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 02:37:05.412 +07:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 02:37:05.413 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:37:05.414 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 02:37:05.415 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:37:05.415 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:37:05.416 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-04-16 02:37:05.416 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-04-16 02:37:05.416 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-04-16 02:37:05.417 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 02:37:05.419 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 02:37:05.419 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:37:05.420 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 02:37:05.420 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-04-16 02:37:05.420 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 02:37:05.421 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 02:37:05.421 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:37:05.421 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:37:05.421 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 02:37:05.423 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 02:37:05.423 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:37:05.423 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 02:37:05.433 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:37:05.433 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:37:05.433 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 02:37:05.434 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:37:05.434 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:37:05.434 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-16 02:37:05.439 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-16 02:37:05.442 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 02:37:05.443 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 2ms reading results.
2024-04-16 02:37:05.444 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:37:05.444 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 02:37:05.453 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-04-16 02:37:05.490 +07:00 [DBG] Compiling query expression: 
'DbSet<AppRole>()
    .Any()'
2024-04-16 02:37:05.606 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SplitQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AppRole AS a)), 
    ReaderColumn[] { ReaderColumn<bool> }, 
    Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, bool>, 
    null, 
    null, 
    FoodShop.Persistence.ApplicationDbContext, 
    False, 
    True, 
    True
)
    .Single()'
2024-04-16 02:37:05.624 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:37:05.625 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:37:05.625 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 02:37:05.625 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:37:05.626 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:37:05.626 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AppRole] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-04-16 02:37:05.639 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AppRole] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-04-16 02:37:05.650 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 02:37:05.650 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 2ms reading results.
2024-04-16 02:37:05.651 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:37:05.652 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 02:37:05.654 +07:00 [DBG] 'ApplicationDbContext' disposed.
2024-04-16 02:37:05.657 +07:00 [DBG] Disposing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:37:05.658 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-04-16 02:37:05.729 +07:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-04-16 02:37:05.787 +07:00 [DBG] Hosting starting
2024-04-16 02:37:05.810 +07:00 [INF] User profile is available. Using 'C:\Users\hieud\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-04-16 02:37:05.817 +07:00 [DBG] Reading data from file 'C:\Users\hieud\AppData\Local\ASP.NET\DataProtection-Keys\key-5b2baa0a-904f-4101-af08-7ac673b8db2c.xml'.
2024-04-16 02:37:05.822 +07:00 [DBG] Found key {5b2baa0a-904f-4101-af08-7ac673b8db2c}.
2024-04-16 02:37:05.830 +07:00 [DBG] Considering key {5b2baa0a-904f-4101-af08-7ac673b8db2c} with expiration date 2024-05-20 17:09:10Z as default key.
2024-04-16 02:37:05.834 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-04-16 02:37:05.835 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-04-16 02:37:05.837 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-04-16 02:37:05.839 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-04-16 02:37:05.841 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-04-16 02:37:05.845 +07:00 [DBG] Using key {5b2baa0a-904f-4101-af08-7ac673b8db2c} as the default key.
2024-04-16 02:37:05.846 +07:00 [DBG] Key ring with default key {5b2baa0a-904f-4101-af08-7ac673b8db2c} was loaded during application startup.
2024-04-16 02:37:06.055 +07:00 [DBG] Connection id "0HN2TGDNCII3O" received FIN.
2024-04-16 02:37:06.062 +07:00 [DBG] Connection id "0HN2TGDNCII3O" accepted.
2024-04-16 02:37:06.063 +07:00 [DBG] Connection id "0HN2TGDNCII3O" started.
2024-04-16 02:37:06.064 +07:00 [INF] Now listening on: https://localhost:7286
2024-04-16 02:37:06.065 +07:00 [INF] Now listening on: http://localhost:5010
2024-04-16 02:37:06.065 +07:00 [DBG] Loaded hosting startup assembly FoodShop.API
2024-04-16 02:37:06.065 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-04-16 02:37:06.065 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-04-16 02:37:06.065 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-04-16 02:37:06.080 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-04-16 02:37:06.096 +07:00 [DBG] Connection id "0HN2TGDNCII3O" stopped.
2024-04-16 02:37:06.099 +07:00 [DBG] Connection id "0HN2TGDNCII3O" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-04-16 02:37:06.141 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-04-16 02:37:06.141 +07:00 [INF] Hosting environment: Development
2024-04-16 02:37:06.141 +07:00 [INF] Content root path: C:\Users\hieud\Code\C#\FoodShop\FoodShop\src\FoodShop.API
2024-04-16 02:37:06.142 +07:00 [DBG] Hosting started
2024-04-16 02:37:06.279 +07:00 [DBG] Connection id "0HN2TGDNCII3P" accepted.
2024-04-16 02:37:06.281 +07:00 [DBG] Connection id "0HN2TGDNCII3P" started.
2024-04-16 02:37:06.318 +07:00 [DBG] Connection 0HN2TGDNCII3P established using the following protocol: "Tls13"
2024-04-16 02:37:06.378 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/swagger/index.html - null null
2024-04-16 02:37:06.481 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-04-16 02:37:06.532 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-04-16 02:37:06.532 +07:00 [DBG] Request did not match any endpoints
2024-04-16 02:37:06.607 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-16 02:37:06.666 +07:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-04-16 02:37:06.668 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-04-16 02:37:06.686 +07:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-04-16 02:37:06.687 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-04-16 02:37:06.690 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/swagger/index.html - 200 null text/html;charset=utf-8 320.7761ms
2024-04-16 02:37:06.727 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/_framework/aspnetcore-browser-refresh.js - null null
2024-04-16 02:37:06.727 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/_vs/browserLink - null null
2024-04-16 02:37:06.736 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 7.8407ms
2024-04-16 02:37:06.778 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/_vs/browserLink - 200 null text/javascript; charset=UTF-8 50.8639ms
2024-04-16 02:37:07.119 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/swagger/v1/swagger.json - null null
2024-04-16 02:37:07.119 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-04-16 02:37:07.119 +07:00 [DBG] Request did not match any endpoints
2024-04-16 02:37:07.121 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-16 02:37:07.234 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 115.8077ms
2024-04-16 02:37:22.238 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7286/api/v1/Authentication/register - application/json; ver=1.0 161
2024-04-16 02:37:22.275 +07:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Authentication/register'
2024-04-16 02:37:22.278 +07:00 [DBG] Endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)' with route pattern 'api/v{version:apiVersion}/Authentication/register' is valid for the request path '/api/v1/Authentication/register'
2024-04-16 02:37:22.282 +07:00 [DBG] Request matched endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)'
2024-04-16 02:37:22.285 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-16 02:37:22.287 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-04-16 02:37:22.288 +07:00 [INF] Start request......!
2024-04-16 02:37:22.291 +07:00 [INF] Executing endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)'
2024-04-16 02:37:22.317 +07:00 [INF] Route matched with {action = "Register", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest) on controller FoodShop.Presentation.Controllers.V1.AuthenticationController (FoodShop.Presentation).
2024-04-16 02:37:22.320 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-04-16 02:37:22.321 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-04-16 02:37:22.322 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)","Asp.Versioning.ApplyContentTypeVersionActionFilter"]
2024-04-16 02:37:22.323 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-04-16 02:37:22.324 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-04-16 02:37:22.327 +07:00 [DBG] Executing controller factory for controller FoodShop.Presentation.Controllers.V1.AuthenticationController (FoodShop.Presentation)
2024-04-16 02:37:22.518 +07:00 [DBG] Executed controller factory for controller FoodShop.Presentation.Controllers.V1.AuthenticationController (FoodShop.Presentation)
2024-04-16 02:37:22.525 +07:00 [DBG] Attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest' ...
2024-04-16 02:37:22.529 +07:00 [DBG] Attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest' using the name '' in request data ...
2024-04-16 02:37:22.531 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json; ver=1.0'.
2024-04-16 02:37:22.541 +07:00 [DBG] Connection id "0HN2TGDNCII3P", Request id "0HN2TGDNCII3P:00000009": started reading request body.
2024-04-16 02:37:22.543 +07:00 [DBG] Connection id "0HN2TGDNCII3P", Request id "0HN2TGDNCII3P:00000009": done reading request body.
2024-04-16 02:37:22.551 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'
2024-04-16 02:37:22.552 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'.
2024-04-16 02:37:22.553 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'.
2024-04-16 02:37:22.554 +07:00 [DBG] Attempting to validate the bound parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest' ...
2024-04-16 02:37:22.573 +07:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'.
2024-04-16 02:37:24.864 +07:00 [DBG] Entity Framework Core 8.0.4 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.3' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using lazy loading proxies QuerySplittingBehavior=SplitQuery MigrationsAssembly=FoodShop.Persistence 
2024-04-16 02:37:24.876 +07:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2024-04-16 02:37:25.149 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppUser>(
    asyncEnumerable: new SplitQueryingEnumerable<AppUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AppUser.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: AppUser.AccessFailedCount (int) Required, 1], [Property: AppUser.Address (string), 2], [Property: AppUser.Avatar (string), 3], [Property: AppUser.ConcurrencyStamp (string), 4], [Property: AppUser.CreatedDate (DateTime) Required, 5], [Property: AppUser.Email (string), 6], [Property: AppUser.EmailConfirmed (bool) Required, 7], [Property: AppUser.Facebook (string), 8], [Property: AppUser.FirstName (string), 9], [Property: AppUser.LastName (string), 10], [Property: AppUser.LockoutEnabled (bool) Required, 11], [Property: AppUser.LockoutEnd (DateTimeOffset?), 12], [Property: AppUser.NormalizedEmail (string), 13], [Property: AppUser.NormalizedUserName (string), 14], [Property: AppUser.PasswordHash (string), 15], [Property: AppUser.PhoneNumber (string), 16], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 17], [Property: AppUser.SecurityStamp (string), 18], [Property: AppUser.TwoFactorEnabled (bool) Required, 19], [Property: AppUser.UpdateDate (DateTime) Required, 20], [Property: AppUser.UserName (string), 21] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.Address, a.Avatar, a.ConcurrencyStamp, a.CreatedDate, a.Email, a.EmailConfirmed, a.Facebook, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UpdateDate, a.UserName
            FROM AppUser AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<int>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<DateTime>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<DateTimeOffset>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<DateTime>, ReaderColumn<object> }, 
        Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, AppUser>, 
        null, 
        null, 
        FoodShop.Persistence.ApplicationDbContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-04-16 02:37:25.170 +07:00 [DBG] Creating DbConnection.
2024-04-16 02:37:25.171 +07:00 [DBG] Created DbConnection. (0ms).
2024-04-16 02:37:25.173 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:37:25.176 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:37:25.176 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 02:37:25.177 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:37:25.181 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-04-16 02:37:25.185 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='HIEUDEV623@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 02:37:25.243 +07:00 [INF] Executed DbCommand (61ms) [Parameters=[@__normalizedUserName_0='HIEUDEV623@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 02:37:25.295 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 02:37:25.295 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 11ms reading results.
2024-04-16 02:37:25.300 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:37:25.301 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (1ms).
2024-04-16 02:37:25.329 +07:00 [DBG] 'ApplicationDbContext' generated value '"4036d303-c193-41bd-ee6d-08dc5d837a45"' for the property 'AppUser.Id'.
2024-04-16 02:37:25.418 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'AppUser' entity with key '{Id: 4036d303-c193-41bd-ee6d-08dc5d837a45}'.
2024-04-16 02:37:25.423 +07:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-04-16 02:37:25.426 +07:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-04-16 02:37:25.444 +07:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-04-16 02:37:25.501 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:37:25.502 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:37:25.504 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 02:37:25.505 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:37:25.506 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-04-16 02:37:25.507 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='4036d303-c193-41bd-ee6d-08dc5d837a45', @p1='0', @p2=NULL (Size = 4000), @p3=NULL (Size = 4000), @p4='7fb53d51-6d0e-4aed-8778-440cd3375b18' (Size = 4000), @p5='0001-01-01T00:00:00.0000000', @p6='hieudev623@gmail.com' (Size = 4000), @p7='False', @p8=NULL (Size = 4000), @p9='string' (Size = 4000), @p10='string' (Size = 4000), @p11='True', @p12=NULL (DbType = DateTimeOffset), @p13='HIEUDEV623@GMAIL.COM' (Size = 4000), @p14='HIEUDEV623@GMAIL.COM' (Size = 4000), @p15='AQAAAAIAAYagAAAAEK6/EhWSJc4pOIC6ysS/DAc+eP72He4Pew5GU1LcdvkE3Hd9z/o0K+0tuWQJGradkA==' (Size = 4000), @p16='string' (Size = 4000), @p17='False', @p18='APDNFQD4ICLLGDJCESRCE7XW6LQDRFZF' (Size = 4000), @p19='False', @p20='0001-01-01T00:00:00.0000000', @p21='hieudev623@gmail.com' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AppUser] ([Id], [AccessFailedCount], [Address], [Avatar], [ConcurrencyStamp], [CreatedDate], [Email], [EmailConfirmed], [Facebook], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UpdateDate], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21);
2024-04-16 02:37:25.519 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='4036d303-c193-41bd-ee6d-08dc5d837a45', @p1='0', @p2=NULL (Size = 4000), @p3=NULL (Size = 4000), @p4='7fb53d51-6d0e-4aed-8778-440cd3375b18' (Size = 4000), @p5='0001-01-01T00:00:00.0000000', @p6='hieudev623@gmail.com' (Size = 4000), @p7='False', @p8=NULL (Size = 4000), @p9='string' (Size = 4000), @p10='string' (Size = 4000), @p11='True', @p12=NULL (DbType = DateTimeOffset), @p13='HIEUDEV623@GMAIL.COM' (Size = 4000), @p14='HIEUDEV623@GMAIL.COM' (Size = 4000), @p15='AQAAAAIAAYagAAAAEK6/EhWSJc4pOIC6ysS/DAc+eP72He4Pew5GU1LcdvkE3Hd9z/o0K+0tuWQJGradkA==' (Size = 4000), @p16='string' (Size = 4000), @p17='False', @p18='APDNFQD4ICLLGDJCESRCE7XW6LQDRFZF' (Size = 4000), @p19='False', @p20='0001-01-01T00:00:00.0000000', @p21='hieudev623@gmail.com' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AppUser] ([Id], [AccessFailedCount], [Address], [Avatar], [ConcurrencyStamp], [CreatedDate], [Email], [EmailConfirmed], [Facebook], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UpdateDate], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21);
2024-04-16 02:37:25.524 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 02:37:25.524 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 4ms reading results.
2024-04-16 02:37:25.526 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:37:25.526 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 02:37:25.538 +07:00 [DBG] The 'AppUser' entity with key '{Id: 4036d303-c193-41bd-ee6d-08dc5d837a45}' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'.
2024-04-16 02:37:25.543 +07:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-04-16 02:37:26.473 +07:00 [DBG] Compiling query expression: 
'DbSet<AppRole>()
    .SingleOrDefault(r => r.NormalizedName == __normalizedRoleName_0)'
2024-04-16 02:37:26.543 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppRole>(
    asyncEnumerable: new SplitQueryingEnumerable<AppRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AppRole.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: AppRole.ConcurrencyStamp (string), 1], [Property: AppRole.CreateBy (string), 2], [Property: AppRole.CreateDate (DateTime?), 3], [Property: AppRole.Description (string) Required MaxLength(250), 4], [Property: AppRole.Name (string), 5], [Property: AppRole.NormalizedName (string), 6], [Property: AppRole.RoleCode (string) Required MaxLength(50), 7], [Property: AppRole.UpdateBy (string), 8], [Property: AppRole.UpdateDate (DateTime?), 9] }
            SELECT TOP(2) a.Id, a.ConcurrencyStamp, a.CreateBy, a.CreateDate, a.Description, a.Name, a.NormalizedName, a.RoleCode, a.UpdateBy, a.UpdateDate
            FROM AppRole AS a
            WHERE a.NormalizedName == @__normalizedRoleName_0), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<DateTime>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<DateTime> }, 
        Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, AppRole>, 
        null, 
        null, 
        FoodShop.Persistence.ApplicationDbContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-04-16 02:37:26.545 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:37:26.546 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:37:26.546 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 02:37:26.547 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:37:26.547 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:37:26.547 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 02:37:26.550 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 02:37:26.602 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'AppRole' entity with key '{Id: 1ddacd3b-495b-4144-b828-3c9740ba1651}'.
2024-04-16 02:37:26.620 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 02:37:26.620 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 39ms reading results.
2024-04-16 02:37:26.621 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:37:26.621 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 02:37:26.631 +07:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<Guid>>()
    .FirstOrDefault(e => object.Equals(
        objA: EF.Property<object>(e, "RoleId"), 
        objB: __get_Item_0) && object.Equals(
        objA: EF.Property<object>(e, "UserId"), 
        objB: __get_Item_1))'
2024-04-16 02:37:26.715 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityUserRole<Guid>>(
    asyncEnumerable: new SplitQueryingEnumerable<IdentityUserRole<Guid>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUserRole<Guid>.RoleId (Guid) Required PK FK AfterSave:Throw, 0], [Property: IdentityUserRole<Guid>.UserId (Guid) Required PK FK Index AfterSave:Throw, 1] }
            SELECT TOP(1) a.RoleId, a.UserId
            FROM AppUserRole AS a
            WHERE (a.RoleId == @__get_Item_0) && (a.UserId == @__get_Item_1)), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<Guid> }, 
        Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, IdentityUserRole<Guid>>, 
        null, 
        null, 
        FoodShop.Persistence.ApplicationDbContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-04-16 02:37:26.723 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:37:26.723 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:37:26.724 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 02:37:26.724 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:37:26.725 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-04-16 02:37:26.726 +07:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='4036d303-c193-41bd-ee6d-08dc5d837a45' (Nullable = true), @__get_Item_1='1ddacd3b-495b-4144-b828-3c9740ba1651' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[RoleId], [a].[UserId]
FROM [AppUserRole] AS [a]
WHERE [a].[RoleId] = @__get_Item_0 AND [a].[UserId] = @__get_Item_1
2024-04-16 02:37:26.742 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[@__get_Item_0='4036d303-c193-41bd-ee6d-08dc5d837a45' (Nullable = true), @__get_Item_1='1ddacd3b-495b-4144-b828-3c9740ba1651' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[RoleId], [a].[UserId]
FROM [AppUserRole] AS [a]
WHERE [a].[RoleId] = @__get_Item_0 AND [a].[UserId] = @__get_Item_1
2024-04-16 02:37:26.744 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 02:37:26.745 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 1ms reading results.
2024-04-16 02:37:26.746 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:37:26.746 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 02:37:26.761 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:37:26.761 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:37:26.762 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 02:37:26.763 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:37:26.763 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:37:26.764 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 02:37:26.767 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 02:37:26.769 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 02:37:26.769 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 1ms reading results.
2024-04-16 02:37:26.770 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:37:26.771 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 02:37:26.811 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityUserRole' entity with key '{RoleId: 1ddacd3b-495b-4144-b828-3c9740ba1651, UserId: 4036d303-c193-41bd-ee6d-08dc5d837a45}'.
2024-04-16 02:37:26.814 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:37:26.815 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:37:26.815 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 02:37:26.816 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:37:26.816 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:37:26.816 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='HIEUDEV623@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 02:37:26.820 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='HIEUDEV623@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 02:37:26.824 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 02:37:26.824 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 0ms reading results.
2024-04-16 02:37:26.825 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:37:26.825 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 02:37:26.833 +07:00 [DBG] The 'AppUser' entity with key '{Id: 4036d303-c193-41bd-ee6d-08dc5d837a45}' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'.
2024-04-16 02:37:26.834 +07:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-04-16 02:37:26.834 +07:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-04-16 02:37:26.854 +07:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-04-16 02:37:26.878 +07:00 [DBG] Executing 2 update commands as a batch.
2024-04-16 02:37:26.882 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:37:26.883 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:37:26.886 +07:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-04-16 02:37:26.897 +07:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-04-16 02:37:26.899 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 02:37:26.900 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:37:26.902 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-04-16 02:37:26.903 +07:00 [DBG] Executing DbCommand [Parameters=[@p21='4036d303-c193-41bd-ee6d-08dc5d837a45', @p0='0', @p1=NULL (Size = 4000), @p2=NULL (Size = 4000), @p3='fb97e3a4-d18e-40ae-a382-aa2655cafb3e' (Size = 4000), @p4='0001-01-01T00:00:00.0000000', @p5='hieudev623@gmail.com' (Size = 4000), @p6='False', @p7=NULL (Size = 4000), @p8='string' (Size = 4000), @p9='string' (Size = 4000), @p10='True', @p11=NULL (DbType = DateTimeOffset), @p12='HIEUDEV623@GMAIL.COM' (Size = 4000), @p13='HIEUDEV623@GMAIL.COM' (Size = 4000), @p14='AQAAAAIAAYagAAAAEK6/EhWSJc4pOIC6ysS/DAc+eP72He4Pew5GU1LcdvkE3Hd9z/o0K+0tuWQJGradkA==' (Size = 4000), @p15='string' (Size = 4000), @p16='False', @p17='APDNFQD4ICLLGDJCESRCE7XW6LQDRFZF' (Size = 4000), @p18='False', @p19='0001-01-01T00:00:00.0000000', @p20='hieudev623@gmail.com' (Size = 4000), @p22='1ddacd3b-495b-4144-b828-3c9740ba1651', @p23='4036d303-c193-41bd-ee6d-08dc5d837a45'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AppUser] SET [AccessFailedCount] = @p0, [Address] = @p1, [Avatar] = @p2, [ConcurrencyStamp] = @p3, [CreatedDate] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [Facebook] = @p7, [FirstName] = @p8, [LastName] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [SecurityStamp] = @p17, [TwoFactorEnabled] = @p18, [UpdateDate] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21;
INSERT INTO [AppUserRole] ([RoleId], [UserId])
VALUES (@p22, @p23);
2024-04-16 02:37:26.931 +07:00 [INF] Executed DbCommand (28ms) [Parameters=[@p21='4036d303-c193-41bd-ee6d-08dc5d837a45', @p0='0', @p1=NULL (Size = 4000), @p2=NULL (Size = 4000), @p3='fb97e3a4-d18e-40ae-a382-aa2655cafb3e' (Size = 4000), @p4='0001-01-01T00:00:00.0000000', @p5='hieudev623@gmail.com' (Size = 4000), @p6='False', @p7=NULL (Size = 4000), @p8='string' (Size = 4000), @p9='string' (Size = 4000), @p10='True', @p11=NULL (DbType = DateTimeOffset), @p12='HIEUDEV623@GMAIL.COM' (Size = 4000), @p13='HIEUDEV623@GMAIL.COM' (Size = 4000), @p14='AQAAAAIAAYagAAAAEK6/EhWSJc4pOIC6ysS/DAc+eP72He4Pew5GU1LcdvkE3Hd9z/o0K+0tuWQJGradkA==' (Size = 4000), @p15='string' (Size = 4000), @p16='False', @p17='APDNFQD4ICLLGDJCESRCE7XW6LQDRFZF' (Size = 4000), @p18='False', @p19='0001-01-01T00:00:00.0000000', @p20='hieudev623@gmail.com' (Size = 4000), @p22='1ddacd3b-495b-4144-b828-3c9740ba1651', @p23='4036d303-c193-41bd-ee6d-08dc5d837a45'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AppUser] SET [AccessFailedCount] = @p0, [Address] = @p1, [Avatar] = @p2, [ConcurrencyStamp] = @p3, [CreatedDate] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [Facebook] = @p7, [FirstName] = @p8, [LastName] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [SecurityStamp] = @p17, [TwoFactorEnabled] = @p18, [UpdateDate] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21;
INSERT INTO [AppUserRole] ([RoleId], [UserId])
VALUES (@p22, @p23);
2024-04-16 02:37:26.936 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 02:37:26.937 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 3ms reading results.
2024-04-16 02:37:26.942 +07:00 [DBG] Committing transaction.
2024-04-16 02:37:26.950 +07:00 [DBG] Committed transaction.
2024-04-16 02:37:26.954 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:37:26.955 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 02:37:26.959 +07:00 [DBG] Disposing transaction.
2024-04-16 02:37:26.960 +07:00 [DBG] The 'IdentityUserRole' entity with key '{RoleId: 1ddacd3b-495b-4144-b828-3c9740ba1651, UserId: 4036d303-c193-41bd-ee6d-08dc5d837a45}' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'.
2024-04-16 02:37:26.961 +07:00 [DBG] The 'AppUser' entity with key '{Id: 4036d303-c193-41bd-ee6d-08dc5d837a45}' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'.
2024-04-16 02:37:26.962 +07:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 2 entities written to the database.
2024-04-16 02:37:31.650 +07:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2024-04-16 02:37:31.659 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppUser>(
    asyncEnumerable: new SplitQueryingEnumerable<AppUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AppUser.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: AppUser.AccessFailedCount (int) Required, 1], [Property: AppUser.Address (string), 2], [Property: AppUser.Avatar (string), 3], [Property: AppUser.ConcurrencyStamp (string), 4], [Property: AppUser.CreatedDate (DateTime) Required, 5], [Property: AppUser.Email (string), 6], [Property: AppUser.EmailConfirmed (bool) Required, 7], [Property: AppUser.Facebook (string), 8], [Property: AppUser.FirstName (string), 9], [Property: AppUser.LastName (string), 10], [Property: AppUser.LockoutEnabled (bool) Required, 11], [Property: AppUser.LockoutEnd (DateTimeOffset?), 12], [Property: AppUser.NormalizedEmail (string), 13], [Property: AppUser.NormalizedUserName (string), 14], [Property: AppUser.PasswordHash (string), 15], [Property: AppUser.PhoneNumber (string), 16], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 17], [Property: AppUser.SecurityStamp (string), 18], [Property: AppUser.TwoFactorEnabled (bool) Required, 19], [Property: AppUser.UpdateDate (DateTime) Required, 20], [Property: AppUser.UserName (string), 21] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.Address, a.Avatar, a.ConcurrencyStamp, a.CreatedDate, a.Email, a.EmailConfirmed, a.Facebook, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UpdateDate, a.UserName
            FROM AppUser AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<int>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<DateTime>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<DateTimeOffset>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<DateTime>, ReaderColumn<object> }, 
        Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, AppUser>, 
        null, 
        null, 
        FoodShop.Persistence.ApplicationDbContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-04-16 02:37:31.661 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:37:31.662 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:37:31.662 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 02:37:31.662 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:37:31.663 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:37:31.663 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='HIEUDEV623@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-04-16 02:37:31.666 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='HIEUDEV623@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-04-16 02:37:31.669 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 02:37:31.670 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 1ms reading results.
2024-04-16 02:37:31.670 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:37:31.688 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (17ms).
2024-04-16 02:37:56.749 +07:00 [INF] Start processing HTTP request POST https://send.api.mailtrap.io/api/send
2024-04-16 02:37:56.753 +07:00 [INF] Sending HTTP request POST https://send.api.mailtrap.io/api/send
2024-04-16 02:37:58.025 +07:00 [INF] Received HTTP response headers after 1265.6815ms - 400
2024-04-16 02:37:58.027 +07:00 [INF] End processing HTTP request after 1279.619ms - 400
2024-04-16 02:38:02.701 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-04-16 02:38:02.703 +07:00 [DBG] No information found on request to perform content negotiation.
2024-04-16 02:38:02.704 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-04-16 02:38:02.704 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-04-16 02:38:02.705 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-04-16 02:38:02.706 +07:00 [INF] Executing OkObjectResult, writing value of type 'FoodShop.Contract.Abstraction.Shared.Result`1[[FoodShop.Contract.DataTransferObjects.Respone.V1.UserAuthResponse, FoodShop.Contract, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-04-16 02:38:09.952 +07:00 [INF] Executed action FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation) in 47622.3975ms
2024-04-16 02:38:09.953 +07:00 [INF] Executed endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)'
2024-04-16 02:38:09.955 +07:00 [DBG] 'ApplicationDbContext' disposed.
2024-04-16 02:38:09.961 +07:00 [DBG] Disposing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:38:09.962 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-04-16 02:38:09.962 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7286/api/v1/Authentication/register - 200 null application/json; charset=utf-8; ver=1 47724.0058ms
2024-04-16 02:39:22.537 +07:00 [DBG] HttpMessageHandler expired after 120000ms for client ''
2024-04-16 02:39:30.614 +07:00 [DBG] HttpMessageHandler expired after 120000ms for client 'MailTrapApiClient'
2024-04-16 02:39:32.546 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:39:32.550 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.1024ms - processed: 0 items - remaining: 2 items
2024-04-16 02:39:42.553 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:39:42.554 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0089ms - processed: 0 items - remaining: 2 items
2024-04-16 02:39:52.561 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:39:52.561 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0071ms - processed: 0 items - remaining: 2 items
2024-04-16 02:40:02.564 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:40:02.564 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0057ms - processed: 0 items - remaining: 2 items
2024-04-16 02:40:12.578 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:40:12.579 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.1397ms - processed: 0 items - remaining: 2 items
2024-04-16 02:40:22.588 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:40:22.589 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0086ms - processed: 0 items - remaining: 2 items
2024-04-16 02:40:32.594 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:40:32.595 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0062ms - processed: 0 items - remaining: 2 items
2024-04-16 02:40:42.608 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:40:42.608 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0034ms - processed: 0 items - remaining: 2 items
2024-04-16 02:40:52.614 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:40:52.615 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.1014ms - processed: 0 items - remaining: 2 items
2024-04-16 02:41:02.624 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:41:02.625 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0053ms - processed: 0 items - remaining: 2 items
2024-04-16 02:41:12.636 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:41:12.636 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.007ms - processed: 0 items - remaining: 2 items
2024-04-16 02:42:56.087 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-04-16 02:42:56.523 +07:00 [DBG] The index {'ProductId'} was not created on entity type 'CartProduct' as the properties are already covered by the index {'ProductId', 'CartId'}.
2024-04-16 02:42:56.524 +07:00 [DBG] The index {'OrderId'} was not created on entity type 'OrderProduct' as the properties are already covered by the index {'OrderId', 'ProductId'}.
2024-04-16 02:42:56.525 +07:00 [DBG] The index {'ProductId'} was not created on entity type 'ProductCategory' as the properties are already covered by the index {'ProductId', 'CategoryId'}.
2024-04-16 02:42:56.525 +07:00 [DBG] The index {'RoleId'} was not created on entity type 'IdentityUserRole<Guid>' as the properties are already covered by the index {'RoleId', 'UserId'}.
2024-04-16 02:42:56.610 +07:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-04-16 02:42:56.641 +07:00 [DBG] The property 'IdentityUserToken<Guid>.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-04-16 02:42:56.666 +07:00 [WRN] No store type was specified for the decimal property 'Amout' on entity type 'Cart'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 02:42:56.667 +07:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'CartProduct'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 02:42:56.668 +07:00 [WRN] No store type was specified for the decimal property 'Amout' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 02:42:56.668 +07:00 [WRN] No store type was specified for the decimal property 'AmoutTotal' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 02:42:56.669 +07:00 [WRN] No store type was specified for the decimal property 'Discount' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 02:42:56.669 +07:00 [WRN] No store type was specified for the decimal property 'Shipping' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 02:42:56.670 +07:00 [WRN] No store type was specified for the decimal property 'Tax' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 02:42:56.670 +07:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'OrderProduct'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 02:42:56.671 +07:00 [WRN] No store type was specified for the decimal property 'Discount' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 02:42:56.672 +07:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 02:42:56.807 +07:00 [DBG] Entity Framework Core 8.0.4 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.3' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using lazy loading proxies QuerySplittingBehavior=SplitQuery MigrationsAssembly=FoodShop.Persistence 
2024-04-16 02:42:56.813 +07:00 [DBG] Creating DbConnection.
2024-04-16 02:42:56.852 +07:00 [DBG] Created DbConnection. (36ms).
2024-04-16 02:42:56.854 +07:00 [DBG] Migrating using database 'FoodShop' on server 'localhost'.
2024-04-16 02:42:56.858 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:45:02.440 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-04-16 02:45:02.947 +07:00 [DBG] The index {'ProductId'} was not created on entity type 'CartProduct' as the properties are already covered by the index {'ProductId', 'CartId'}.
2024-04-16 02:45:02.948 +07:00 [DBG] The index {'OrderId'} was not created on entity type 'OrderProduct' as the properties are already covered by the index {'OrderId', 'ProductId'}.
2024-04-16 02:45:02.949 +07:00 [DBG] The index {'ProductId'} was not created on entity type 'ProductCategory' as the properties are already covered by the index {'ProductId', 'CategoryId'}.
2024-04-16 02:45:02.949 +07:00 [DBG] The index {'RoleId'} was not created on entity type 'IdentityUserRole<Guid>' as the properties are already covered by the index {'RoleId', 'UserId'}.
2024-04-16 02:45:03.031 +07:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-04-16 02:45:03.052 +07:00 [DBG] The property 'IdentityUserToken<Guid>.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-04-16 02:45:03.078 +07:00 [WRN] No store type was specified for the decimal property 'Amout' on entity type 'Cart'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 02:45:03.078 +07:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'CartProduct'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 02:45:03.079 +07:00 [WRN] No store type was specified for the decimal property 'Amout' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 02:45:03.079 +07:00 [WRN] No store type was specified for the decimal property 'AmoutTotal' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 02:45:03.080 +07:00 [WRN] No store type was specified for the decimal property 'Discount' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 02:45:03.080 +07:00 [WRN] No store type was specified for the decimal property 'Shipping' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 02:45:03.081 +07:00 [WRN] No store type was specified for the decimal property 'Tax' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 02:45:03.081 +07:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'OrderProduct'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 02:45:03.082 +07:00 [WRN] No store type was specified for the decimal property 'Discount' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 02:45:03.082 +07:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 02:45:03.215 +07:00 [DBG] Entity Framework Core 8.0.4 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.3' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using lazy loading proxies QuerySplittingBehavior=SplitQuery MigrationsAssembly=FoodShop.Persistence 
2024-04-16 02:45:03.220 +07:00 [DBG] Creating DbConnection.
2024-04-16 02:45:03.259 +07:00 [DBG] Created DbConnection. (36ms).
2024-04-16 02:45:03.261 +07:00 [DBG] Migrating using database 'FoodShop' on server 'localhost'.
2024-04-16 02:45:03.265 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:45:03.457 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:45:03.462 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-04-16 02:45:03.469 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (4ms).
2024-04-16 02:45:03.471 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (10ms).
2024-04-16 02:45:03.478 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 02:45:03.501 +07:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 02:45:03.503 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:45:03.509 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (4ms).
2024-04-16 02:45:03.512 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-04-16 02:45:03.512 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 02:45:03.512 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 02:45:03.512 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:45:03.513 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:45:03.514 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 02:45:03.525 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 02:45:03.525 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:45:03.526 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 02:45:03.526 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:45:03.527 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:45:03.527 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-04-16 02:45:03.527 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-04-16 02:45:03.528 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-04-16 02:45:03.528 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 02:45:03.529 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 02:45:03.530 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:45:03.530 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 02:45:03.530 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-04-16 02:45:03.531 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 02:45:03.531 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 02:45:03.531 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:45:03.531 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:45:03.531 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 02:45:03.532 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 02:45:03.533 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:45:03.533 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 02:45:03.544 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:45:03.544 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:45:03.545 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 02:45:03.545 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:45:03.545 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:45:03.546 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-16 02:45:03.559 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-16 02:45:03.563 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 02:45:03.565 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 3ms reading results.
2024-04-16 02:45:03.566 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:45:03.566 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 02:45:03.578 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-04-16 02:45:03.616 +07:00 [DBG] Compiling query expression: 
'DbSet<AppRole>()
    .Any()'
2024-04-16 02:45:03.726 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SplitQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AppRole AS a)), 
    ReaderColumn[] { ReaderColumn<bool> }, 
    Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, bool>, 
    null, 
    null, 
    FoodShop.Persistence.ApplicationDbContext, 
    False, 
    True, 
    True
)
    .Single()'
2024-04-16 02:45:03.744 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:45:03.745 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:45:03.745 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 02:45:03.746 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:45:03.746 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:45:03.746 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AppRole] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-04-16 02:45:03.759 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AppRole] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-04-16 02:45:03.771 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 02:45:03.771 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 1ms reading results.
2024-04-16 02:45:03.772 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:45:03.772 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 02:45:03.774 +07:00 [DBG] 'ApplicationDbContext' disposed.
2024-04-16 02:45:03.776 +07:00 [DBG] Disposing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:45:03.778 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-04-16 02:45:04.908 +07:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-04-16 02:45:04.990 +07:00 [DBG] Hosting starting
2024-04-16 02:45:05.017 +07:00 [INF] User profile is available. Using 'C:\Users\hieud\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-04-16 02:45:05.025 +07:00 [DBG] Reading data from file 'C:\Users\hieud\AppData\Local\ASP.NET\DataProtection-Keys\key-5b2baa0a-904f-4101-af08-7ac673b8db2c.xml'.
2024-04-16 02:45:05.031 +07:00 [DBG] Found key {5b2baa0a-904f-4101-af08-7ac673b8db2c}.
2024-04-16 02:45:05.041 +07:00 [DBG] Considering key {5b2baa0a-904f-4101-af08-7ac673b8db2c} with expiration date 2024-05-20 17:09:10Z as default key.
2024-04-16 02:45:05.045 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-04-16 02:45:05.046 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-04-16 02:45:05.049 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-04-16 02:45:05.052 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-04-16 02:45:05.055 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-04-16 02:45:05.059 +07:00 [DBG] Using key {5b2baa0a-904f-4101-af08-7ac673b8db2c} as the default key.
2024-04-16 02:45:05.060 +07:00 [DBG] Key ring with default key {5b2baa0a-904f-4101-af08-7ac673b8db2c} was loaded during application startup.
2024-04-16 02:45:05.249 +07:00 [INF] Now listening on: https://localhost:7286
2024-04-16 02:45:05.288 +07:00 [INF] Now listening on: http://localhost:5010
2024-04-16 02:45:05.294 +07:00 [DBG] Loaded hosting startup assembly FoodShop.API
2024-04-16 02:45:05.308 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-04-16 02:45:05.325 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-04-16 02:45:05.335 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-04-16 02:45:05.436 +07:00 [DBG] Connection id "0HN2TGI68A1C0" accepted.
2024-04-16 02:45:05.460 +07:00 [DBG] Connection id "0HN2TGI68A1C0" started.
2024-04-16 02:45:05.476 +07:00 [DBG] Connection id "0HN2TGI68A1C0" received FIN.
2024-04-16 02:45:05.501 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-04-16 02:45:05.602 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-04-16 02:45:05.669 +07:00 [INF] Hosting environment: Development
2024-04-16 02:45:05.673 +07:00 [INF] Content root path: C:\Users\hieud\Code\C#\FoodShop\FoodShop\src\FoodShop.API
2024-04-16 02:45:05.673 +07:00 [DBG] Hosting started
2024-04-16 02:45:05.675 +07:00 [DBG] Connection id "0HN2TGI68A1C0" stopped.
2024-04-16 02:45:05.679 +07:00 [DBG] Connection id "0HN2TGI68A1C0" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-04-16 02:45:05.870 +07:00 [DBG] Connection id "0HN2TGI68A1C1" accepted.
2024-04-16 02:45:05.870 +07:00 [DBG] Connection id "0HN2TGI68A1C1" started.
2024-04-16 02:45:05.901 +07:00 [DBG] Connection 0HN2TGI68A1C1 established using the following protocol: "Tls13"
2024-04-16 02:45:05.953 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/swagger/index.html - null null
2024-04-16 02:45:06.049 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-04-16 02:45:06.092 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-04-16 02:45:06.093 +07:00 [DBG] Request did not match any endpoints
2024-04-16 02:45:06.172 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-16 02:45:06.249 +07:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-04-16 02:45:06.253 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-04-16 02:45:06.292 +07:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-04-16 02:45:06.294 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-04-16 02:45:06.298 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/swagger/index.html - 200 null text/html;charset=utf-8 350.985ms
2024-04-16 02:45:06.343 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/_framework/aspnetcore-browser-refresh.js - null null
2024-04-16 02:45:06.349 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/_vs/browserLink - null null
2024-04-16 02:45:06.349 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 6.1463ms
2024-04-16 02:45:06.392 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/_vs/browserLink - 200 null text/javascript; charset=UTF-8 43.5189ms
2024-04-16 02:45:06.811 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/swagger/v1/swagger.json - null null
2024-04-16 02:45:06.812 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-04-16 02:45:06.812 +07:00 [DBG] Request did not match any endpoints
2024-04-16 02:45:06.814 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-16 02:45:06.937 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 126.041ms
2024-04-16 02:45:22.538 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7286/api/v1/Authentication/register - application/json; ver=1.0 161
2024-04-16 02:45:22.587 +07:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Authentication/register'
2024-04-16 02:45:22.589 +07:00 [DBG] Endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)' with route pattern 'api/v{version:apiVersion}/Authentication/register' is valid for the request path '/api/v1/Authentication/register'
2024-04-16 02:45:22.595 +07:00 [DBG] Request matched endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)'
2024-04-16 02:45:22.597 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-16 02:45:22.599 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-04-16 02:45:22.601 +07:00 [INF] Start request......!
2024-04-16 02:45:22.603 +07:00 [INF] Executing endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)'
2024-04-16 02:45:22.623 +07:00 [INF] Route matched with {action = "Register", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest) on controller FoodShop.Presentation.Controllers.V1.AuthenticationController (FoodShop.Presentation).
2024-04-16 02:45:22.625 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-04-16 02:45:22.626 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-04-16 02:45:22.627 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)","Asp.Versioning.ApplyContentTypeVersionActionFilter"]
2024-04-16 02:45:22.627 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-04-16 02:45:22.628 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-04-16 02:45:22.629 +07:00 [DBG] Executing controller factory for controller FoodShop.Presentation.Controllers.V1.AuthenticationController (FoodShop.Presentation)
2024-04-16 02:45:22.748 +07:00 [DBG] Executed controller factory for controller FoodShop.Presentation.Controllers.V1.AuthenticationController (FoodShop.Presentation)
2024-04-16 02:45:22.753 +07:00 [DBG] Attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest' ...
2024-04-16 02:45:22.756 +07:00 [DBG] Attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest' using the name '' in request data ...
2024-04-16 02:45:22.757 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json; ver=1.0'.
2024-04-16 02:45:22.763 +07:00 [DBG] Connection id "0HN2TGI68A1C1", Request id "0HN2TGI68A1C1:00000009": started reading request body.
2024-04-16 02:45:22.764 +07:00 [DBG] Connection id "0HN2TGI68A1C1", Request id "0HN2TGI68A1C1:00000009": done reading request body.
2024-04-16 02:45:22.771 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'
2024-04-16 02:45:22.772 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'.
2024-04-16 02:45:22.773 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'.
2024-04-16 02:45:22.774 +07:00 [DBG] Attempting to validate the bound parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest' ...
2024-04-16 02:45:22.784 +07:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'.
2024-04-16 02:45:25.548 +07:00 [DBG] Entity Framework Core 8.0.4 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.3' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using lazy loading proxies QuerySplittingBehavior=SplitQuery MigrationsAssembly=FoodShop.Persistence 
2024-04-16 02:45:25.557 +07:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2024-04-16 02:45:25.822 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppUser>(
    asyncEnumerable: new SplitQueryingEnumerable<AppUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AppUser.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: AppUser.AccessFailedCount (int) Required, 1], [Property: AppUser.Address (string), 2], [Property: AppUser.Avatar (string), 3], [Property: AppUser.ConcurrencyStamp (string), 4], [Property: AppUser.CreatedDate (DateTime) Required, 5], [Property: AppUser.Email (string), 6], [Property: AppUser.EmailConfirmed (bool) Required, 7], [Property: AppUser.Facebook (string), 8], [Property: AppUser.FirstName (string), 9], [Property: AppUser.LastName (string), 10], [Property: AppUser.LockoutEnabled (bool) Required, 11], [Property: AppUser.LockoutEnd (DateTimeOffset?), 12], [Property: AppUser.NormalizedEmail (string), 13], [Property: AppUser.NormalizedUserName (string), 14], [Property: AppUser.PasswordHash (string), 15], [Property: AppUser.PhoneNumber (string), 16], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 17], [Property: AppUser.SecurityStamp (string), 18], [Property: AppUser.TwoFactorEnabled (bool) Required, 19], [Property: AppUser.UpdateDate (DateTime) Required, 20], [Property: AppUser.UserName (string), 21] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.Address, a.Avatar, a.ConcurrencyStamp, a.CreatedDate, a.Email, a.EmailConfirmed, a.Facebook, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UpdateDate, a.UserName
            FROM AppUser AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<int>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<DateTime>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<DateTimeOffset>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<DateTime>, ReaderColumn<object> }, 
        Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, AppUser>, 
        null, 
        null, 
        FoodShop.Persistence.ApplicationDbContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-04-16 02:45:25.836 +07:00 [DBG] Creating DbConnection.
2024-04-16 02:45:25.837 +07:00 [DBG] Created DbConnection. (0ms).
2024-04-16 02:45:25.838 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:45:25.841 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:45:25.841 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 02:45:25.842 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:45:25.844 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-04-16 02:45:25.847 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='HIEUDEV623@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 02:45:25.889 +07:00 [INF] Executed DbCommand (43ms) [Parameters=[@__normalizedUserName_0='HIEUDEV623@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 02:45:25.925 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 02:45:25.926 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 7ms reading results.
2024-04-16 02:45:25.929 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:45:25.931 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (1ms).
2024-04-16 02:45:25.966 +07:00 [DBG] 'ApplicationDbContext' generated value '"e0ca06d0-6fe2-4f41-3ed0-08dc5d8498c1"' for the property 'AppUser.Id'.
2024-04-16 02:45:26.050 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'AppUser' entity with key '{Id: e0ca06d0-6fe2-4f41-3ed0-08dc5d8498c1}'.
2024-04-16 02:45:26.055 +07:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-04-16 02:45:26.057 +07:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-04-16 02:45:26.089 +07:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-04-16 02:45:26.200 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:45:26.201 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:45:26.207 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 02:45:26.208 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:45:26.210 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-04-16 02:45:26.212 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='e0ca06d0-6fe2-4f41-3ed0-08dc5d8498c1', @p1='0', @p2=NULL (Size = 4000), @p3=NULL (Size = 4000), @p4='3010dee1-6c8a-4273-ba77-8b1f1c7de3f7' (Size = 4000), @p5='0001-01-01T00:00:00.0000000', @p6='hieudev623@gmail.com' (Size = 4000), @p7='False', @p8=NULL (Size = 4000), @p9='string' (Size = 4000), @p10='string' (Size = 4000), @p11='True', @p12=NULL (DbType = DateTimeOffset), @p13='HIEUDEV623@GMAIL.COM' (Size = 4000), @p14='HIEUDEV623@GMAIL.COM' (Size = 4000), @p15='AQAAAAIAAYagAAAAENFrQ+2mPKf9/oiAd9TKGl41W1sgZ7OZ+7w0AmlqFwde7QJ8PjXshBTMQ50Y9/06hg==' (Size = 4000), @p16='string' (Size = 4000), @p17='False', @p18='THTO2XG6YIE67MJ2VGVPVWCNZMUNDH2B' (Size = 4000), @p19='False', @p20='0001-01-01T00:00:00.0000000', @p21='hieudev623@gmail.com' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AppUser] ([Id], [AccessFailedCount], [Address], [Avatar], [ConcurrencyStamp], [CreatedDate], [Email], [EmailConfirmed], [Facebook], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UpdateDate], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21);
2024-04-16 02:45:26.243 +07:00 [INF] Executed DbCommand (32ms) [Parameters=[@p0='e0ca06d0-6fe2-4f41-3ed0-08dc5d8498c1', @p1='0', @p2=NULL (Size = 4000), @p3=NULL (Size = 4000), @p4='3010dee1-6c8a-4273-ba77-8b1f1c7de3f7' (Size = 4000), @p5='0001-01-01T00:00:00.0000000', @p6='hieudev623@gmail.com' (Size = 4000), @p7='False', @p8=NULL (Size = 4000), @p9='string' (Size = 4000), @p10='string' (Size = 4000), @p11='True', @p12=NULL (DbType = DateTimeOffset), @p13='HIEUDEV623@GMAIL.COM' (Size = 4000), @p14='HIEUDEV623@GMAIL.COM' (Size = 4000), @p15='AQAAAAIAAYagAAAAENFrQ+2mPKf9/oiAd9TKGl41W1sgZ7OZ+7w0AmlqFwde7QJ8PjXshBTMQ50Y9/06hg==' (Size = 4000), @p16='string' (Size = 4000), @p17='False', @p18='THTO2XG6YIE67MJ2VGVPVWCNZMUNDH2B' (Size = 4000), @p19='False', @p20='0001-01-01T00:00:00.0000000', @p21='hieudev623@gmail.com' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AppUser] ([Id], [AccessFailedCount], [Address], [Avatar], [ConcurrencyStamp], [CreatedDate], [Email], [EmailConfirmed], [Facebook], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UpdateDate], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21);
2024-04-16 02:45:26.252 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 02:45:26.252 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 7ms reading results.
2024-04-16 02:45:26.255 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:45:26.256 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 02:45:26.272 +07:00 [DBG] The 'AppUser' entity with key '{Id: e0ca06d0-6fe2-4f41-3ed0-08dc5d8498c1}' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'.
2024-04-16 02:45:26.276 +07:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-04-16 02:45:27.518 +07:00 [DBG] Compiling query expression: 
'DbSet<AppRole>()
    .SingleOrDefault(r => r.NormalizedName == __normalizedRoleName_0)'
2024-04-16 02:45:27.581 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppRole>(
    asyncEnumerable: new SplitQueryingEnumerable<AppRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AppRole.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: AppRole.ConcurrencyStamp (string), 1], [Property: AppRole.CreateBy (string), 2], [Property: AppRole.CreateDate (DateTime?), 3], [Property: AppRole.Description (string) Required MaxLength(250), 4], [Property: AppRole.Name (string), 5], [Property: AppRole.NormalizedName (string), 6], [Property: AppRole.RoleCode (string) Required MaxLength(50), 7], [Property: AppRole.UpdateBy (string), 8], [Property: AppRole.UpdateDate (DateTime?), 9] }
            SELECT TOP(2) a.Id, a.ConcurrencyStamp, a.CreateBy, a.CreateDate, a.Description, a.Name, a.NormalizedName, a.RoleCode, a.UpdateBy, a.UpdateDate
            FROM AppRole AS a
            WHERE a.NormalizedName == @__normalizedRoleName_0), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<DateTime>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<DateTime> }, 
        Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, AppRole>, 
        null, 
        null, 
        FoodShop.Persistence.ApplicationDbContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-04-16 02:45:27.582 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:45:27.582 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:45:27.582 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 02:45:27.582 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:45:27.583 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:45:27.583 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 02:45:27.584 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 02:45:27.616 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'AppRole' entity with key '{Id: 1ddacd3b-495b-4144-b828-3c9740ba1651}'.
2024-04-16 02:45:27.633 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 02:45:27.633 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 28ms reading results.
2024-04-16 02:45:27.634 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:45:27.634 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 02:45:27.650 +07:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<Guid>>()
    .FirstOrDefault(e => object.Equals(
        objA: EF.Property<object>(e, "RoleId"), 
        objB: __get_Item_0) && object.Equals(
        objA: EF.Property<object>(e, "UserId"), 
        objB: __get_Item_1))'
2024-04-16 02:45:27.714 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityUserRole<Guid>>(
    asyncEnumerable: new SplitQueryingEnumerable<IdentityUserRole<Guid>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUserRole<Guid>.RoleId (Guid) Required PK FK AfterSave:Throw, 0], [Property: IdentityUserRole<Guid>.UserId (Guid) Required PK FK Index AfterSave:Throw, 1] }
            SELECT TOP(1) a.RoleId, a.UserId
            FROM AppUserRole AS a
            WHERE (a.RoleId == @__get_Item_0) && (a.UserId == @__get_Item_1)), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<Guid> }, 
        Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, IdentityUserRole<Guid>>, 
        null, 
        null, 
        FoodShop.Persistence.ApplicationDbContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-04-16 02:45:27.718 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:45:27.718 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:45:27.718 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 02:45:27.719 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:45:27.719 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:45:27.719 +07:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='e0ca06d0-6fe2-4f41-3ed0-08dc5d8498c1' (Nullable = true), @__get_Item_1='1ddacd3b-495b-4144-b828-3c9740ba1651' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[RoleId], [a].[UserId]
FROM [AppUserRole] AS [a]
WHERE [a].[RoleId] = @__get_Item_0 AND [a].[UserId] = @__get_Item_1
2024-04-16 02:45:27.722 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='e0ca06d0-6fe2-4f41-3ed0-08dc5d8498c1' (Nullable = true), @__get_Item_1='1ddacd3b-495b-4144-b828-3c9740ba1651' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[RoleId], [a].[UserId]
FROM [AppUserRole] AS [a]
WHERE [a].[RoleId] = @__get_Item_0 AND [a].[UserId] = @__get_Item_1
2024-04-16 02:45:27.723 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 02:45:27.723 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 0ms reading results.
2024-04-16 02:45:27.723 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:45:27.723 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 02:45:27.728 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:45:27.728 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:45:27.728 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 02:45:27.729 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:45:27.729 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:45:27.729 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 02:45:27.731 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 02:45:27.732 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 02:45:27.732 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 0ms reading results.
2024-04-16 02:45:27.733 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:45:27.733 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 02:45:27.755 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityUserRole' entity with key '{RoleId: 1ddacd3b-495b-4144-b828-3c9740ba1651, UserId: e0ca06d0-6fe2-4f41-3ed0-08dc5d8498c1}'.
2024-04-16 02:45:27.757 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:45:27.757 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:45:27.758 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 02:45:27.758 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:45:27.758 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:45:27.758 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='HIEUDEV623@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 02:45:27.761 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='HIEUDEV623@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 02:45:27.763 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 02:45:27.764 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 0ms reading results.
2024-04-16 02:45:27.764 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:45:27.764 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 02:45:27.770 +07:00 [DBG] The 'AppUser' entity with key '{Id: e0ca06d0-6fe2-4f41-3ed0-08dc5d8498c1}' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'.
2024-04-16 02:45:27.770 +07:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-04-16 02:45:27.770 +07:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-04-16 02:45:27.782 +07:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-04-16 02:45:27.796 +07:00 [DBG] Executing 2 update commands as a batch.
2024-04-16 02:45:27.798 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:45:27.798 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:45:27.801 +07:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-04-16 02:45:27.809 +07:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-04-16 02:45:27.810 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 02:45:27.811 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:45:27.812 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-04-16 02:45:27.813 +07:00 [DBG] Executing DbCommand [Parameters=[@p21='e0ca06d0-6fe2-4f41-3ed0-08dc5d8498c1', @p0='0', @p1=NULL (Size = 4000), @p2=NULL (Size = 4000), @p3='ded2982e-2f4f-4b9a-8e9f-ebc143c73cec' (Size = 4000), @p4='0001-01-01T00:00:00.0000000', @p5='hieudev623@gmail.com' (Size = 4000), @p6='False', @p7=NULL (Size = 4000), @p8='string' (Size = 4000), @p9='string' (Size = 4000), @p10='True', @p11=NULL (DbType = DateTimeOffset), @p12='HIEUDEV623@GMAIL.COM' (Size = 4000), @p13='HIEUDEV623@GMAIL.COM' (Size = 4000), @p14='AQAAAAIAAYagAAAAENFrQ+2mPKf9/oiAd9TKGl41W1sgZ7OZ+7w0AmlqFwde7QJ8PjXshBTMQ50Y9/06hg==' (Size = 4000), @p15='string' (Size = 4000), @p16='False', @p17='THTO2XG6YIE67MJ2VGVPVWCNZMUNDH2B' (Size = 4000), @p18='False', @p19='0001-01-01T00:00:00.0000000', @p20='hieudev623@gmail.com' (Size = 4000), @p22='1ddacd3b-495b-4144-b828-3c9740ba1651', @p23='e0ca06d0-6fe2-4f41-3ed0-08dc5d8498c1'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AppUser] SET [AccessFailedCount] = @p0, [Address] = @p1, [Avatar] = @p2, [ConcurrencyStamp] = @p3, [CreatedDate] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [Facebook] = @p7, [FirstName] = @p8, [LastName] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [SecurityStamp] = @p17, [TwoFactorEnabled] = @p18, [UpdateDate] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21;
INSERT INTO [AppUserRole] ([RoleId], [UserId])
VALUES (@p22, @p23);
2024-04-16 02:45:27.819 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@p21='e0ca06d0-6fe2-4f41-3ed0-08dc5d8498c1', @p0='0', @p1=NULL (Size = 4000), @p2=NULL (Size = 4000), @p3='ded2982e-2f4f-4b9a-8e9f-ebc143c73cec' (Size = 4000), @p4='0001-01-01T00:00:00.0000000', @p5='hieudev623@gmail.com' (Size = 4000), @p6='False', @p7=NULL (Size = 4000), @p8='string' (Size = 4000), @p9='string' (Size = 4000), @p10='True', @p11=NULL (DbType = DateTimeOffset), @p12='HIEUDEV623@GMAIL.COM' (Size = 4000), @p13='HIEUDEV623@GMAIL.COM' (Size = 4000), @p14='AQAAAAIAAYagAAAAENFrQ+2mPKf9/oiAd9TKGl41W1sgZ7OZ+7w0AmlqFwde7QJ8PjXshBTMQ50Y9/06hg==' (Size = 4000), @p15='string' (Size = 4000), @p16='False', @p17='THTO2XG6YIE67MJ2VGVPVWCNZMUNDH2B' (Size = 4000), @p18='False', @p19='0001-01-01T00:00:00.0000000', @p20='hieudev623@gmail.com' (Size = 4000), @p22='1ddacd3b-495b-4144-b828-3c9740ba1651', @p23='e0ca06d0-6fe2-4f41-3ed0-08dc5d8498c1'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AppUser] SET [AccessFailedCount] = @p0, [Address] = @p1, [Avatar] = @p2, [ConcurrencyStamp] = @p3, [CreatedDate] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [Facebook] = @p7, [FirstName] = @p8, [LastName] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [SecurityStamp] = @p17, [TwoFactorEnabled] = @p18, [UpdateDate] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21;
INSERT INTO [AppUserRole] ([RoleId], [UserId])
VALUES (@p22, @p23);
2024-04-16 02:45:27.822 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 02:45:27.822 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 1ms reading results.
2024-04-16 02:45:27.825 +07:00 [DBG] Committing transaction.
2024-04-16 02:45:27.840 +07:00 [DBG] Committed transaction.
2024-04-16 02:45:27.842 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:45:27.842 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 02:45:27.844 +07:00 [DBG] Disposing transaction.
2024-04-16 02:45:27.845 +07:00 [DBG] The 'IdentityUserRole' entity with key '{RoleId: 1ddacd3b-495b-4144-b828-3c9740ba1651, UserId: e0ca06d0-6fe2-4f41-3ed0-08dc5d8498c1}' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'.
2024-04-16 02:45:27.845 +07:00 [DBG] The 'AppUser' entity with key '{Id: e0ca06d0-6fe2-4f41-3ed0-08dc5d8498c1}' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'.
2024-04-16 02:45:27.846 +07:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 2 entities written to the database.
2024-04-16 02:46:09.635 +07:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2024-04-16 02:46:09.644 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppUser>(
    asyncEnumerable: new SplitQueryingEnumerable<AppUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AppUser.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: AppUser.AccessFailedCount (int) Required, 1], [Property: AppUser.Address (string), 2], [Property: AppUser.Avatar (string), 3], [Property: AppUser.ConcurrencyStamp (string), 4], [Property: AppUser.CreatedDate (DateTime) Required, 5], [Property: AppUser.Email (string), 6], [Property: AppUser.EmailConfirmed (bool) Required, 7], [Property: AppUser.Facebook (string), 8], [Property: AppUser.FirstName (string), 9], [Property: AppUser.LastName (string), 10], [Property: AppUser.LockoutEnabled (bool) Required, 11], [Property: AppUser.LockoutEnd (DateTimeOffset?), 12], [Property: AppUser.NormalizedEmail (string), 13], [Property: AppUser.NormalizedUserName (string), 14], [Property: AppUser.PasswordHash (string), 15], [Property: AppUser.PhoneNumber (string), 16], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 17], [Property: AppUser.SecurityStamp (string), 18], [Property: AppUser.TwoFactorEnabled (bool) Required, 19], [Property: AppUser.UpdateDate (DateTime) Required, 20], [Property: AppUser.UserName (string), 21] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.Address, a.Avatar, a.ConcurrencyStamp, a.CreatedDate, a.Email, a.EmailConfirmed, a.Facebook, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UpdateDate, a.UserName
            FROM AppUser AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<int>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<DateTime>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<DateTimeOffset>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<DateTime>, ReaderColumn<object> }, 
        Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, AppUser>, 
        null, 
        null, 
        FoodShop.Persistence.ApplicationDbContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-04-16 02:46:09.646 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:46:09.647 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:46:09.647 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 02:46:09.647 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:46:09.647 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 02:46:09.648 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='HIEUDEV623@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-04-16 02:46:09.674 +07:00 [INF] Executed DbCommand (26ms) [Parameters=[@__normalizedEmail_0='HIEUDEV623@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-04-16 02:46:09.675 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 02:46:09.676 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 0ms reading results.
2024-04-16 02:46:09.676 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:46:09.677 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 02:46:26.750 +07:00 [INF] Start processing HTTP request POST https://send.api.mailtrap.io/api/send
2024-04-16 02:46:26.753 +07:00 [INF] Sending HTTP request POST https://send.api.mailtrap.io/api/send
2024-04-16 02:46:28.124 +07:00 [INF] Received HTTP response headers after 1367.46ms - 400
2024-04-16 02:46:28.125 +07:00 [INF] End processing HTTP request after 1377.2525ms - 400
2024-04-16 02:46:33.450 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-04-16 02:46:33.452 +07:00 [DBG] No information found on request to perform content negotiation.
2024-04-16 02:46:33.453 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-04-16 02:46:33.453 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-04-16 02:46:33.454 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-04-16 02:46:33.455 +07:00 [INF] Executing OkObjectResult, writing value of type 'FoodShop.Contract.Abstraction.Shared.Result`1[[FoodShop.Contract.DataTransferObjects.Respone.V1.UserAuthResponse, FoodShop.Contract, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-04-16 02:46:41.485 +07:00 [INF] Executed action FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation) in 78853.2834ms
2024-04-16 02:46:41.486 +07:00 [INF] Executed endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)'
2024-04-16 02:46:44.462 +07:00 [DBG] 'ApplicationDbContext' disposed.
2024-04-16 02:46:44.473 +07:00 [DBG] Disposing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 02:46:44.475 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-04-16 02:46:44.475 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7286/api/v1/Authentication/register - 200 null application/json; charset=utf-8; ver=1 81938.0364ms
2024-04-16 02:47:22.760 +07:00 [DBG] HttpMessageHandler expired after 120000ms for client ''
2024-04-16 02:47:31.212 +07:00 [DBG] HttpMessageHandler expired after 120000ms for client 'MailTrapApiClient'
2024-04-16 02:47:32.763 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:47:32.769 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.1049ms - processed: 0 items - remaining: 2 items
2024-04-16 02:47:42.778 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:47:42.778 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0057ms - processed: 0 items - remaining: 2 items
2024-04-16 02:47:52.784 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:47:52.785 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.007ms - processed: 0 items - remaining: 2 items
2024-04-16 02:48:02.791 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:48:02.792 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0042ms - processed: 0 items - remaining: 2 items
2024-04-16 02:48:12.802 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:48:12.802 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0051ms - processed: 0 items - remaining: 2 items
2024-04-16 02:48:22.804 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:48:22.805 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0053ms - processed: 0 items - remaining: 2 items
2024-04-16 02:48:32.807 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:48:32.807 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0055ms - processed: 0 items - remaining: 2 items
2024-04-16 02:48:42.815 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:48:42.815 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0064ms - processed: 0 items - remaining: 2 items
2024-04-16 02:48:52.826 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:48:52.827 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.093ms - processed: 0 items - remaining: 2 items
2024-04-16 02:49:02.830 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:49:02.831 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0063ms - processed: 0 items - remaining: 2 items
2024-04-16 02:49:12.832 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:49:12.833 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0086ms - processed: 0 items - remaining: 2 items
2024-04-16 02:49:22.834 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:49:22.835 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0092ms - processed: 0 items - remaining: 2 items
2024-04-16 02:49:32.847 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:49:32.847 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0044ms - processed: 0 items - remaining: 2 items
2024-04-16 02:49:42.851 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:49:42.852 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0042ms - processed: 0 items - remaining: 2 items
2024-04-16 02:49:52.856 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:49:52.857 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0048ms - processed: 0 items - remaining: 2 items
2024-04-16 02:50:02.861 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:50:02.862 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0057ms - processed: 0 items - remaining: 2 items
2024-04-16 02:50:12.867 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:50:12.867 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0065ms - processed: 0 items - remaining: 2 items
2024-04-16 02:50:22.877 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:50:22.878 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0065ms - processed: 0 items - remaining: 2 items
2024-04-16 02:50:32.895 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:50:32.895 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0079ms - processed: 0 items - remaining: 2 items
2024-04-16 02:50:42.955 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:50:43.029 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0071ms - processed: 0 items - remaining: 2 items
2024-04-16 02:50:53.099 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:50:53.099 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0035ms - processed: 0 items - remaining: 2 items
2024-04-16 02:51:03.121 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:51:03.121 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.012ms - processed: 0 items - remaining: 2 items
2024-04-16 02:51:13.129 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:51:13.129 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0817ms - processed: 0 items - remaining: 2 items
2024-04-16 02:51:23.140 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:51:23.140 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0055ms - processed: 0 items - remaining: 2 items
2024-04-16 02:51:33.155 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:51:33.156 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0062ms - processed: 0 items - remaining: 2 items
2024-04-16 02:51:43.170 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:51:43.170 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.005ms - processed: 0 items - remaining: 2 items
2024-04-16 02:51:53.177 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:51:53.177 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0039ms - processed: 0 items - remaining: 2 items
2024-04-16 02:52:03.178 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:52:03.179 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0049ms - processed: 0 items - remaining: 2 items
2024-04-16 02:52:13.188 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:52:13.188 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0034ms - processed: 0 items - remaining: 2 items
2024-04-16 02:52:23.204 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:52:23.205 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.1906ms - processed: 0 items - remaining: 2 items
2024-04-16 02:52:33.211 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:52:33.212 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0045ms - processed: 0 items - remaining: 2 items
2024-04-16 02:52:43.210 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:52:43.211 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0021ms - processed: 0 items - remaining: 2 items
2024-04-16 02:52:53.224 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:52:53.225 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0033ms - processed: 0 items - remaining: 2 items
2024-04-16 02:53:03.241 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:53:03.242 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0041ms - processed: 0 items - remaining: 2 items
2024-04-16 02:53:13.255 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:53:13.255 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0034ms - processed: 0 items - remaining: 2 items
2024-04-16 02:53:23.268 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:53:23.268 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0026ms - processed: 0 items - remaining: 2 items
2024-04-16 02:53:33.280 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:53:33.281 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0043ms - processed: 0 items - remaining: 2 items
2024-04-16 02:53:43.291 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:53:43.292 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.004ms - processed: 0 items - remaining: 2 items
2024-04-16 02:53:53.304 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:53:53.304 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.004ms - processed: 0 items - remaining: 2 items
2024-04-16 02:54:03.320 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:54:03.321 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0031ms - processed: 0 items - remaining: 2 items
2024-04-16 02:54:13.329 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:54:13.330 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0045ms - processed: 0 items - remaining: 2 items
2024-04-16 02:54:23.340 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:54:23.340 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0019ms - processed: 0 items - remaining: 2 items
2024-04-16 02:54:33.353 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:54:33.353 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.003ms - processed: 0 items - remaining: 2 items
2024-04-16 02:54:43.361 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:54:43.361 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0039ms - processed: 0 items - remaining: 2 items
2024-04-16 02:54:53.373 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:54:53.373 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0034ms - processed: 0 items - remaining: 2 items
2024-04-16 02:55:03.377 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:55:03.378 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0025ms - processed: 0 items - remaining: 2 items
2024-04-16 02:55:13.385 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:55:13.386 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0032ms - processed: 0 items - remaining: 2 items
2024-04-16 02:55:23.396 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:55:23.396 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0032ms - processed: 0 items - remaining: 2 items
2024-04-16 02:55:33.401 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:55:33.403 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0037ms - processed: 0 items - remaining: 2 items
2024-04-16 02:55:43.418 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:55:43.418 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0029ms - processed: 0 items - remaining: 2 items
2024-04-16 02:55:53.422 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:55:53.422 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0019ms - processed: 0 items - remaining: 2 items
2024-04-16 02:56:03.432 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:56:03.433 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0036ms - processed: 0 items - remaining: 2 items
2024-04-16 02:56:13.439 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:56:13.440 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0049ms - processed: 0 items - remaining: 2 items
2024-04-16 02:56:23.456 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:56:23.457 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0039ms - processed: 0 items - remaining: 2 items
2024-04-16 02:56:33.467 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:56:33.467 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0021ms - processed: 0 items - remaining: 2 items
2024-04-16 02:56:41.114 +07:00 [DBG] Connection id "0HN2TGI68A1C1" received FIN.
2024-04-16 02:56:41.124 +07:00 [DBG] Connection id "0HN2TGI68A1C1" is closed. The last processed stream ID was 9.
2024-04-16 02:56:41.125 +07:00 [DBG] Connection id "0HN2TGI68A1C1" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-04-16 02:56:41.127 +07:00 [DBG] The connection queue processing loop for 0HN2TGI68A1C1 completed.
2024-04-16 02:56:41.137 +07:00 [DBG] Connection id "0HN2TGI68A1C1" stopped.
2024-04-16 02:56:43.469 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:56:43.469 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0031ms - processed: 0 items - remaining: 2 items
2024-04-16 02:56:53.475 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:56:53.475 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0031ms - processed: 0 items - remaining: 2 items
2024-04-16 02:57:03.489 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:57:03.491 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0058ms - processed: 0 items - remaining: 2 items
2024-04-16 02:57:13.499 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:57:13.500 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0047ms - processed: 0 items - remaining: 2 items
2024-04-16 02:57:23.502 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:57:23.503 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.094ms - processed: 0 items - remaining: 2 items
2024-04-16 02:57:33.513 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:57:33.513 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0039ms - processed: 0 items - remaining: 2 items
2024-04-16 02:57:43.526 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:57:43.526 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.004ms - processed: 0 items - remaining: 2 items
2024-04-16 02:57:53.534 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:57:53.534 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.002ms - processed: 0 items - remaining: 2 items
2024-04-16 02:58:03.548 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:58:03.549 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0028ms - processed: 0 items - remaining: 2 items
2024-04-16 02:58:13.556 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:58:13.557 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0039ms - processed: 0 items - remaining: 2 items
2024-04-16 02:58:23.567 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:58:23.567 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0024ms - processed: 0 items - remaining: 2 items
2024-04-16 02:58:33.580 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:58:33.581 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0029ms - processed: 0 items - remaining: 2 items
2024-04-16 02:58:43.588 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:58:43.588 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0035ms - processed: 0 items - remaining: 2 items
2024-04-16 02:58:53.599 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:58:53.600 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0045ms - processed: 0 items - remaining: 2 items
2024-04-16 02:59:03.606 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:59:03.606 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.002ms - processed: 0 items - remaining: 2 items
2024-04-16 02:59:13.618 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:59:13.618 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0014ms - processed: 0 items - remaining: 2 items
2024-04-16 02:59:23.630 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:59:23.631 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0041ms - processed: 0 items - remaining: 2 items
2024-04-16 02:59:33.643 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:59:33.643 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.002ms - processed: 0 items - remaining: 2 items
2024-04-16 02:59:43.656 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:59:43.656 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0032ms - processed: 0 items - remaining: 2 items
2024-04-16 02:59:53.666 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 02:59:53.666 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0026ms - processed: 0 items - remaining: 2 items
2024-04-16 03:03:29.724 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-04-16 03:03:30.252 +07:00 [DBG] The index {'ProductId'} was not created on entity type 'CartProduct' as the properties are already covered by the index {'ProductId', 'CartId'}.
2024-04-16 03:03:30.254 +07:00 [DBG] The index {'OrderId'} was not created on entity type 'OrderProduct' as the properties are already covered by the index {'OrderId', 'ProductId'}.
2024-04-16 03:03:30.254 +07:00 [DBG] The index {'ProductId'} was not created on entity type 'ProductCategory' as the properties are already covered by the index {'ProductId', 'CategoryId'}.
2024-04-16 03:03:30.255 +07:00 [DBG] The index {'RoleId'} was not created on entity type 'IdentityUserRole<Guid>' as the properties are already covered by the index {'RoleId', 'UserId'}.
2024-04-16 03:03:30.362 +07:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-04-16 03:03:30.393 +07:00 [DBG] The property 'IdentityUserToken<Guid>.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-04-16 03:03:30.427 +07:00 [WRN] No store type was specified for the decimal property 'Amout' on entity type 'Cart'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 03:03:30.427 +07:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'CartProduct'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 03:03:30.427 +07:00 [WRN] No store type was specified for the decimal property 'Amout' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 03:03:30.428 +07:00 [WRN] No store type was specified for the decimal property 'AmoutTotal' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 03:03:30.428 +07:00 [WRN] No store type was specified for the decimal property 'Discount' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 03:03:30.428 +07:00 [WRN] No store type was specified for the decimal property 'Shipping' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 03:03:30.429 +07:00 [WRN] No store type was specified for the decimal property 'Tax' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 03:03:30.429 +07:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'OrderProduct'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 03:03:30.429 +07:00 [WRN] No store type was specified for the decimal property 'Discount' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 03:03:30.429 +07:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 03:03:30.576 +07:00 [DBG] Entity Framework Core 8.0.4 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.3' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using lazy loading proxies QuerySplittingBehavior=SplitQuery MigrationsAssembly=FoodShop.Persistence 
2024-04-16 03:03:30.583 +07:00 [DBG] Creating DbConnection.
2024-04-16 03:03:30.626 +07:00 [DBG] Created DbConnection. (41ms).
2024-04-16 03:03:30.628 +07:00 [DBG] Migrating using database 'FoodShop' on server 'localhost'.
2024-04-16 03:03:30.633 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 03:03:30.859 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 03:03:30.864 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-04-16 03:03:30.869 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (3ms).
2024-04-16 03:03:30.871 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (8ms).
2024-04-16 03:03:30.877 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 03:03:30.901 +07:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 03:03:30.903 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 03:03:30.912 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (4ms).
2024-04-16 03:03:30.915 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-04-16 03:03:30.915 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 03:03:30.916 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 03:03:30.916 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 03:03:30.917 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 03:03:30.917 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 03:03:30.933 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 03:03:30.933 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 03:03:30.934 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 03:03:30.935 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 03:03:30.935 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 03:03:30.935 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-04-16 03:03:30.935 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-04-16 03:03:30.936 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-04-16 03:03:30.936 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 03:03:30.937 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 03:03:30.938 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 03:03:30.938 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 03:03:30.939 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-04-16 03:03:30.939 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 03:03:30.939 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 03:03:30.939 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 03:03:30.940 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 03:03:30.940 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 03:03:30.941 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 03:03:30.941 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 03:03:30.942 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 03:03:30.950 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 03:03:30.950 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 03:03:30.951 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 03:03:30.951 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 03:03:30.951 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 03:03:30.952 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-16 03:03:30.958 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-16 03:03:30.960 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 03:03:30.962 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 2ms reading results.
2024-04-16 03:03:30.963 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 03:03:30.963 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 03:03:30.972 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-04-16 03:03:31.007 +07:00 [DBG] Compiling query expression: 
'DbSet<AppRole>()
    .Any()'
2024-04-16 03:03:31.123 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SplitQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AppRole AS a)), 
    ReaderColumn[] { ReaderColumn<bool> }, 
    Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, bool>, 
    null, 
    null, 
    FoodShop.Persistence.ApplicationDbContext, 
    False, 
    True, 
    True
)
    .Single()'
2024-04-16 03:03:31.140 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 03:03:31.140 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 03:03:31.140 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 03:03:31.141 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 03:03:31.141 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 03:03:31.141 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AppRole] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-04-16 03:03:31.154 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AppRole] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-04-16 03:03:31.166 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 03:03:31.166 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 2ms reading results.
2024-04-16 03:03:31.167 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 03:03:31.167 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 03:03:31.169 +07:00 [DBG] 'ApplicationDbContext' disposed.
2024-04-16 03:03:31.172 +07:00 [DBG] Disposing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 03:03:31.174 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-04-16 03:03:31.244 +07:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-04-16 03:03:31.299 +07:00 [DBG] Hosting starting
2024-04-16 03:03:31.322 +07:00 [INF] User profile is available. Using 'C:\Users\hieud\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-04-16 03:03:31.328 +07:00 [DBG] Reading data from file 'C:\Users\hieud\AppData\Local\ASP.NET\DataProtection-Keys\key-5b2baa0a-904f-4101-af08-7ac673b8db2c.xml'.
2024-04-16 03:03:31.334 +07:00 [DBG] Found key {5b2baa0a-904f-4101-af08-7ac673b8db2c}.
2024-04-16 03:03:31.341 +07:00 [DBG] Considering key {5b2baa0a-904f-4101-af08-7ac673b8db2c} with expiration date 2024-05-20 17:09:10Z as default key.
2024-04-16 03:03:31.344 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-04-16 03:03:31.345 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-04-16 03:03:31.347 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-04-16 03:03:31.349 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-04-16 03:03:31.351 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-04-16 03:03:31.353 +07:00 [DBG] Using key {5b2baa0a-904f-4101-af08-7ac673b8db2c} as the default key.
2024-04-16 03:03:31.354 +07:00 [DBG] Key ring with default key {5b2baa0a-904f-4101-af08-7ac673b8db2c} was loaded during application startup.
2024-04-16 03:03:31.516 +07:00 [INF] Now listening on: https://localhost:7286
2024-04-16 03:03:31.516 +07:00 [INF] Now listening on: http://localhost:5010
2024-04-16 03:03:31.517 +07:00 [DBG] Loaded hosting startup assembly FoodShop.API
2024-04-16 03:03:31.517 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-04-16 03:03:31.517 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-04-16 03:03:31.517 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-04-16 03:03:31.586 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-04-16 03:03:31.587 +07:00 [INF] Hosting environment: Development
2024-04-16 03:03:31.587 +07:00 [INF] Content root path: C:\Users\hieud\Code\C#\FoodShop\FoodShop\src\FoodShop.API
2024-04-16 03:03:31.587 +07:00 [DBG] Hosting started
2024-04-16 03:03:31.723 +07:00 [DBG] Connection id "0HN2TGSFULN6C" accepted.
2024-04-16 03:03:31.724 +07:00 [DBG] Connection id "0HN2TGSFULN6C" received FIN.
2024-04-16 03:03:31.725 +07:00 [DBG] Connection id "0HN2TGSFULN6C" started.
2024-04-16 03:03:31.743 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-04-16 03:03:31.764 +07:00 [DBG] Connection id "0HN2TGSFULN6C" stopped.
2024-04-16 03:03:31.769 +07:00 [DBG] Connection id "0HN2TGSFULN6C" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-04-16 03:03:31.962 +07:00 [DBG] Connection id "0HN2TGSFULN6D" accepted.
2024-04-16 03:03:31.963 +07:00 [DBG] Connection id "0HN2TGSFULN6D" started.
2024-04-16 03:03:32.000 +07:00 [DBG] Connection 0HN2TGSFULN6D established using the following protocol: "Tls13"
2024-04-16 03:03:32.058 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/swagger/index.html - null null
2024-04-16 03:03:32.150 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-04-16 03:03:32.214 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-04-16 03:03:32.216 +07:00 [DBG] Request did not match any endpoints
2024-04-16 03:03:32.313 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-16 03:03:32.372 +07:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-04-16 03:03:32.373 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-04-16 03:03:32.465 +07:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-04-16 03:03:32.467 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-04-16 03:03:32.470 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/_framework/aspnetcore-browser-refresh.js - null null
2024-04-16 03:03:32.470 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/_vs/browserLink - null null
2024-04-16 03:03:32.472 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/swagger/index.html - 200 null text/html;charset=utf-8 419.4978ms
2024-04-16 03:03:32.476 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 6.8001ms
2024-04-16 03:03:32.515 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/_vs/browserLink - 200 null text/javascript; charset=UTF-8 44.9617ms
2024-04-16 03:03:32.942 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/swagger/v1/swagger.json - null null
2024-04-16 03:03:32.942 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-04-16 03:03:32.943 +07:00 [DBG] Request did not match any endpoints
2024-04-16 03:03:32.944 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-16 03:03:33.064 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 122.7541ms
2024-04-16 03:03:40.997 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/swagger/favicon-32x32.png - null null
2024-04-16 03:03:40.997 +07:00 [DBG] No candidates found for the request path '/swagger/favicon-32x32.png'
2024-04-16 03:03:40.998 +07:00 [DBG] Request did not match any endpoints
2024-04-16 03:03:41.000 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-16 03:03:41.006 +07:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2024-04-16 03:03:41.006 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/swagger/favicon-32x32.png - 200 628 image/png 10.2904ms
2024-04-16 03:03:48.802 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7286/api/v1/Authentication/register - application/json; ver=1.0 164
2024-04-16 03:03:48.845 +07:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Authentication/register'
2024-04-16 03:03:48.848 +07:00 [DBG] Endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)' with route pattern 'api/v{version:apiVersion}/Authentication/register' is valid for the request path '/api/v1/Authentication/register'
2024-04-16 03:03:48.856 +07:00 [DBG] Request matched endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)'
2024-04-16 03:03:48.859 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-16 03:03:48.860 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-04-16 03:03:48.863 +07:00 [INF] Start request......!
2024-04-16 03:03:48.867 +07:00 [INF] Executing endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)'
2024-04-16 03:03:48.894 +07:00 [INF] Route matched with {action = "Register", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest) on controller FoodShop.Presentation.Controllers.V1.AuthenticationController (FoodShop.Presentation).
2024-04-16 03:03:48.895 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-04-16 03:03:48.896 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-04-16 03:03:48.896 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)","Asp.Versioning.ApplyContentTypeVersionActionFilter"]
2024-04-16 03:03:48.897 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-04-16 03:03:48.897 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-04-16 03:03:48.900 +07:00 [DBG] Executing controller factory for controller FoodShop.Presentation.Controllers.V1.AuthenticationController (FoodShop.Presentation)
2024-04-16 03:03:49.018 +07:00 [DBG] Executed controller factory for controller FoodShop.Presentation.Controllers.V1.AuthenticationController (FoodShop.Presentation)
2024-04-16 03:03:49.022 +07:00 [DBG] Attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest' ...
2024-04-16 03:03:49.025 +07:00 [DBG] Attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest' using the name '' in request data ...
2024-04-16 03:03:49.027 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json; ver=1.0'.
2024-04-16 03:03:49.032 +07:00 [DBG] Connection id "0HN2TGSFULN6D", Request id "0HN2TGSFULN6D:0000000B": started reading request body.
2024-04-16 03:03:49.032 +07:00 [DBG] Connection id "0HN2TGSFULN6D", Request id "0HN2TGSFULN6D:0000000B": done reading request body.
2024-04-16 03:03:49.036 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'
2024-04-16 03:03:49.037 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'.
2024-04-16 03:03:49.038 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'.
2024-04-16 03:03:49.038 +07:00 [DBG] Attempting to validate the bound parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest' ...
2024-04-16 03:03:49.047 +07:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'.
2024-04-16 03:03:50.775 +07:00 [DBG] Entity Framework Core 8.0.4 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.3' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using lazy loading proxies QuerySplittingBehavior=SplitQuery MigrationsAssembly=FoodShop.Persistence 
2024-04-16 03:03:50.784 +07:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2024-04-16 03:03:51.272 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppUser>(
    asyncEnumerable: new SplitQueryingEnumerable<AppUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AppUser.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: AppUser.AccessFailedCount (int) Required, 1], [Property: AppUser.Address (string), 2], [Property: AppUser.Avatar (string), 3], [Property: AppUser.ConcurrencyStamp (string), 4], [Property: AppUser.CreatedDate (DateTime) Required, 5], [Property: AppUser.Email (string), 6], [Property: AppUser.EmailConfirmed (bool) Required, 7], [Property: AppUser.Facebook (string), 8], [Property: AppUser.FirstName (string), 9], [Property: AppUser.LastName (string), 10], [Property: AppUser.LockoutEnabled (bool) Required, 11], [Property: AppUser.LockoutEnd (DateTimeOffset?), 12], [Property: AppUser.NormalizedEmail (string), 13], [Property: AppUser.NormalizedUserName (string), 14], [Property: AppUser.PasswordHash (string), 15], [Property: AppUser.PhoneNumber (string), 16], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 17], [Property: AppUser.SecurityStamp (string), 18], [Property: AppUser.TwoFactorEnabled (bool) Required, 19], [Property: AppUser.UpdateDate (DateTime) Required, 20], [Property: AppUser.UserName (string), 21] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.Address, a.Avatar, a.ConcurrencyStamp, a.CreatedDate, a.Email, a.EmailConfirmed, a.Facebook, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UpdateDate, a.UserName
            FROM AppUser AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<int>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<DateTime>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<DateTimeOffset>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<DateTime>, ReaderColumn<object> }, 
        Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, AppUser>, 
        null, 
        null, 
        FoodShop.Persistence.ApplicationDbContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-04-16 03:03:51.292 +07:00 [DBG] Creating DbConnection.
2024-04-16 03:03:51.292 +07:00 [DBG] Created DbConnection. (0ms).
2024-04-16 03:03:51.294 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 03:03:51.297 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 03:03:51.297 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 03:03:51.297 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 03:03:51.301 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-04-16 03:03:51.304 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 03:03:51.357 +07:00 [INF] Executed DbCommand (55ms) [Parameters=[@__normalizedUserName_0='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 03:03:51.370 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 03:03:51.370 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 5ms reading results.
2024-04-16 03:03:51.372 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 03:03:51.373 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 03:03:51.402 +07:00 [DBG] 'ApplicationDbContext' generated value '"4cc77d48-e110-462a-4b52-08dc5d872ba5"' for the property 'AppUser.Id'.
2024-04-16 03:03:51.530 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'AppUser' entity with key '{Id: 4cc77d48-e110-462a-4b52-08dc5d872ba5}'.
2024-04-16 03:03:51.536 +07:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-04-16 03:03:51.539 +07:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-04-16 03:03:51.562 +07:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-04-16 03:03:51.618 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 03:03:51.619 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 03:03:51.622 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 03:03:51.623 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 03:03:51.624 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-04-16 03:03:51.627 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='4cc77d48-e110-462a-4b52-08dc5d872ba5', @p1='0', @p2=NULL (Size = 4000), @p3=NULL (Size = 4000), @p4='dfb328f9-c17e-4a05-965d-a2d881f30da6' (Size = 4000), @p5='0001-01-01T00:00:00.0000000', @p6='anhhieuqtqtqt@gmail.com' (Size = 4000), @p7='False', @p8=NULL (Size = 4000), @p9='string' (Size = 4000), @p10='string' (Size = 4000), @p11='True', @p12=NULL (DbType = DateTimeOffset), @p13='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000), @p14='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000), @p15='AQAAAAIAAYagAAAAEEeG8jVovfF/Wg9KmsiX70/uhsUhxqgSNgZki9bx4sJT+ynqKuk+27iwX6uVAUgFtQ==' (Size = 4000), @p16='string' (Size = 4000), @p17='False', @p18='JVZWOPX4QYENZKXD4R42Z4K5CATPFALK' (Size = 4000), @p19='False', @p20='0001-01-01T00:00:00.0000000', @p21='anhhieuqtqtqt@gmail.com' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AppUser] ([Id], [AccessFailedCount], [Address], [Avatar], [ConcurrencyStamp], [CreatedDate], [Email], [EmailConfirmed], [Facebook], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UpdateDate], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21);
2024-04-16 03:03:51.646 +07:00 [INF] Executed DbCommand (21ms) [Parameters=[@p0='4cc77d48-e110-462a-4b52-08dc5d872ba5', @p1='0', @p2=NULL (Size = 4000), @p3=NULL (Size = 4000), @p4='dfb328f9-c17e-4a05-965d-a2d881f30da6' (Size = 4000), @p5='0001-01-01T00:00:00.0000000', @p6='anhhieuqtqtqt@gmail.com' (Size = 4000), @p7='False', @p8=NULL (Size = 4000), @p9='string' (Size = 4000), @p10='string' (Size = 4000), @p11='True', @p12=NULL (DbType = DateTimeOffset), @p13='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000), @p14='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000), @p15='AQAAAAIAAYagAAAAEEeG8jVovfF/Wg9KmsiX70/uhsUhxqgSNgZki9bx4sJT+ynqKuk+27iwX6uVAUgFtQ==' (Size = 4000), @p16='string' (Size = 4000), @p17='False', @p18='JVZWOPX4QYENZKXD4R42Z4K5CATPFALK' (Size = 4000), @p19='False', @p20='0001-01-01T00:00:00.0000000', @p21='anhhieuqtqtqt@gmail.com' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AppUser] ([Id], [AccessFailedCount], [Address], [Avatar], [ConcurrencyStamp], [CreatedDate], [Email], [EmailConfirmed], [Facebook], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UpdateDate], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21);
2024-04-16 03:03:51.653 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 03:03:51.655 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 6ms reading results.
2024-04-16 03:03:51.664 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 03:03:51.667 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (2ms).
2024-04-16 03:03:51.681 +07:00 [DBG] The 'AppUser' entity with key '{Id: 4cc77d48-e110-462a-4b52-08dc5d872ba5}' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'.
2024-04-16 03:03:51.683 +07:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-04-16 03:03:51.692 +07:00 [DBG] Compiling query expression: 
'DbSet<AppRole>()
    .SingleOrDefault(r => r.NormalizedName == __normalizedRoleName_0)'
2024-04-16 03:03:51.771 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppRole>(
    asyncEnumerable: new SplitQueryingEnumerable<AppRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AppRole.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: AppRole.ConcurrencyStamp (string), 1], [Property: AppRole.CreateBy (string), 2], [Property: AppRole.CreateDate (DateTime?), 3], [Property: AppRole.Description (string) Required MaxLength(250), 4], [Property: AppRole.Name (string), 5], [Property: AppRole.NormalizedName (string), 6], [Property: AppRole.RoleCode (string) Required MaxLength(50), 7], [Property: AppRole.UpdateBy (string), 8], [Property: AppRole.UpdateDate (DateTime?), 9] }
            SELECT TOP(2) a.Id, a.ConcurrencyStamp, a.CreateBy, a.CreateDate, a.Description, a.Name, a.NormalizedName, a.RoleCode, a.UpdateBy, a.UpdateDate
            FROM AppRole AS a
            WHERE a.NormalizedName == @__normalizedRoleName_0), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<DateTime>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<DateTime> }, 
        Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, AppRole>, 
        null, 
        null, 
        FoodShop.Persistence.ApplicationDbContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-04-16 03:03:51.772 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 03:03:51.773 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 03:03:51.773 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 03:03:51.773 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 03:03:51.773 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 03:03:51.773 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 03:03:51.786 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 03:03:51.818 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'AppRole' entity with key '{Id: 1ddacd3b-495b-4144-b828-3c9740ba1651}'.
2024-04-16 03:03:51.852 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 03:03:51.853 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 60ms reading results.
2024-04-16 03:03:51.853 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 03:03:51.854 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 03:03:51.876 +07:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<Guid>>()
    .FirstOrDefault(e => object.Equals(
        objA: EF.Property<object>(e, "RoleId"), 
        objB: __get_Item_0) && object.Equals(
        objA: EF.Property<object>(e, "UserId"), 
        objB: __get_Item_1))'
2024-04-16 03:03:51.949 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityUserRole<Guid>>(
    asyncEnumerable: new SplitQueryingEnumerable<IdentityUserRole<Guid>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUserRole<Guid>.RoleId (Guid) Required PK FK AfterSave:Throw, 0], [Property: IdentityUserRole<Guid>.UserId (Guid) Required PK FK Index AfterSave:Throw, 1] }
            SELECT TOP(1) a.RoleId, a.UserId
            FROM AppUserRole AS a
            WHERE (a.RoleId == @__get_Item_0) && (a.UserId == @__get_Item_1)), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<Guid> }, 
        Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, IdentityUserRole<Guid>>, 
        null, 
        null, 
        FoodShop.Persistence.ApplicationDbContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-04-16 03:03:51.955 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 03:03:51.955 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 03:03:51.956 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 03:03:51.957 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 03:03:51.957 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-04-16 03:03:51.957 +07:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='4cc77d48-e110-462a-4b52-08dc5d872ba5' (Nullable = true), @__get_Item_1='1ddacd3b-495b-4144-b828-3c9740ba1651' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[RoleId], [a].[UserId]
FROM [AppUserRole] AS [a]
WHERE [a].[RoleId] = @__get_Item_0 AND [a].[UserId] = @__get_Item_1
2024-04-16 03:03:51.972 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[@__get_Item_0='4cc77d48-e110-462a-4b52-08dc5d872ba5' (Nullable = true), @__get_Item_1='1ddacd3b-495b-4144-b828-3c9740ba1651' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[RoleId], [a].[UserId]
FROM [AppUserRole] AS [a]
WHERE [a].[RoleId] = @__get_Item_0 AND [a].[UserId] = @__get_Item_1
2024-04-16 03:03:51.973 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 03:03:51.973 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 0ms reading results.
2024-04-16 03:03:51.973 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 03:03:51.973 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 03:03:51.980 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 03:03:51.980 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 03:03:51.981 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 03:03:51.981 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 03:03:51.981 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 03:03:51.981 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 03:03:51.985 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 03:03:51.986 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 03:03:51.987 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 1ms reading results.
2024-04-16 03:03:51.987 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 03:03:51.987 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 03:03:52.015 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityUserRole' entity with key '{RoleId: 1ddacd3b-495b-4144-b828-3c9740ba1651, UserId: 4cc77d48-e110-462a-4b52-08dc5d872ba5}'.
2024-04-16 03:03:52.017 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 03:03:52.018 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 03:03:52.018 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 03:03:52.018 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 03:03:52.019 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 03:03:52.019 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 03:03:52.023 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 03:03:52.026 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 03:03:52.026 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 0ms reading results.
2024-04-16 03:03:52.026 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 03:03:52.026 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 03:03:52.031 +07:00 [DBG] The 'AppUser' entity with key '{Id: 4cc77d48-e110-462a-4b52-08dc5d872ba5}' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'.
2024-04-16 03:03:52.031 +07:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-04-16 03:03:52.032 +07:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-04-16 03:03:52.041 +07:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-04-16 03:03:52.052 +07:00 [DBG] Executing 2 update commands as a batch.
2024-04-16 03:03:52.054 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 03:03:52.055 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 03:03:52.057 +07:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-04-16 03:03:52.063 +07:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-04-16 03:03:52.065 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 03:03:52.065 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 03:03:52.067 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-04-16 03:03:52.067 +07:00 [DBG] Executing DbCommand [Parameters=[@p21='4cc77d48-e110-462a-4b52-08dc5d872ba5', @p0='0', @p1=NULL (Size = 4000), @p2=NULL (Size = 4000), @p3='4b9a8e5e-bab0-46b4-8b36-05493590bde8' (Size = 4000), @p4='0001-01-01T00:00:00.0000000', @p5='anhhieuqtqtqt@gmail.com' (Size = 4000), @p6='False', @p7=NULL (Size = 4000), @p8='string' (Size = 4000), @p9='string' (Size = 4000), @p10='True', @p11=NULL (DbType = DateTimeOffset), @p12='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000), @p13='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000), @p14='AQAAAAIAAYagAAAAEEeG8jVovfF/Wg9KmsiX70/uhsUhxqgSNgZki9bx4sJT+ynqKuk+27iwX6uVAUgFtQ==' (Size = 4000), @p15='string' (Size = 4000), @p16='False', @p17='JVZWOPX4QYENZKXD4R42Z4K5CATPFALK' (Size = 4000), @p18='False', @p19='0001-01-01T00:00:00.0000000', @p20='anhhieuqtqtqt@gmail.com' (Size = 4000), @p22='1ddacd3b-495b-4144-b828-3c9740ba1651', @p23='4cc77d48-e110-462a-4b52-08dc5d872ba5'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AppUser] SET [AccessFailedCount] = @p0, [Address] = @p1, [Avatar] = @p2, [ConcurrencyStamp] = @p3, [CreatedDate] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [Facebook] = @p7, [FirstName] = @p8, [LastName] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [SecurityStamp] = @p17, [TwoFactorEnabled] = @p18, [UpdateDate] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21;
INSERT INTO [AppUserRole] ([RoleId], [UserId])
VALUES (@p22, @p23);
2024-04-16 03:03:52.090 +07:00 [INF] Executed DbCommand (23ms) [Parameters=[@p21='4cc77d48-e110-462a-4b52-08dc5d872ba5', @p0='0', @p1=NULL (Size = 4000), @p2=NULL (Size = 4000), @p3='4b9a8e5e-bab0-46b4-8b36-05493590bde8' (Size = 4000), @p4='0001-01-01T00:00:00.0000000', @p5='anhhieuqtqtqt@gmail.com' (Size = 4000), @p6='False', @p7=NULL (Size = 4000), @p8='string' (Size = 4000), @p9='string' (Size = 4000), @p10='True', @p11=NULL (DbType = DateTimeOffset), @p12='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000), @p13='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000), @p14='AQAAAAIAAYagAAAAEEeG8jVovfF/Wg9KmsiX70/uhsUhxqgSNgZki9bx4sJT+ynqKuk+27iwX6uVAUgFtQ==' (Size = 4000), @p15='string' (Size = 4000), @p16='False', @p17='JVZWOPX4QYENZKXD4R42Z4K5CATPFALK' (Size = 4000), @p18='False', @p19='0001-01-01T00:00:00.0000000', @p20='anhhieuqtqtqt@gmail.com' (Size = 4000), @p22='1ddacd3b-495b-4144-b828-3c9740ba1651', @p23='4cc77d48-e110-462a-4b52-08dc5d872ba5'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AppUser] SET [AccessFailedCount] = @p0, [Address] = @p1, [Avatar] = @p2, [ConcurrencyStamp] = @p3, [CreatedDate] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [Facebook] = @p7, [FirstName] = @p8, [LastName] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [SecurityStamp] = @p17, [TwoFactorEnabled] = @p18, [UpdateDate] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21;
INSERT INTO [AppUserRole] ([RoleId], [UserId])
VALUES (@p22, @p23);
2024-04-16 03:03:52.096 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 03:03:52.096 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 3ms reading results.
2024-04-16 03:03:52.101 +07:00 [DBG] Committing transaction.
2024-04-16 03:03:52.109 +07:00 [DBG] Committed transaction.
2024-04-16 03:03:52.114 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 03:03:52.115 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 03:03:52.119 +07:00 [DBG] Disposing transaction.
2024-04-16 03:03:52.121 +07:00 [DBG] The 'IdentityUserRole' entity with key '{RoleId: 1ddacd3b-495b-4144-b828-3c9740ba1651, UserId: 4cc77d48-e110-462a-4b52-08dc5d872ba5}' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'.
2024-04-16 03:03:52.122 +07:00 [DBG] The 'AppUser' entity with key '{Id: 4cc77d48-e110-462a-4b52-08dc5d872ba5}' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'.
2024-04-16 03:03:52.123 +07:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 2 entities written to the database.
2024-04-16 03:03:55.384 +07:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2024-04-16 03:03:55.395 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppUser>(
    asyncEnumerable: new SplitQueryingEnumerable<AppUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AppUser.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: AppUser.AccessFailedCount (int) Required, 1], [Property: AppUser.Address (string), 2], [Property: AppUser.Avatar (string), 3], [Property: AppUser.ConcurrencyStamp (string), 4], [Property: AppUser.CreatedDate (DateTime) Required, 5], [Property: AppUser.Email (string), 6], [Property: AppUser.EmailConfirmed (bool) Required, 7], [Property: AppUser.Facebook (string), 8], [Property: AppUser.FirstName (string), 9], [Property: AppUser.LastName (string), 10], [Property: AppUser.LockoutEnabled (bool) Required, 11], [Property: AppUser.LockoutEnd (DateTimeOffset?), 12], [Property: AppUser.NormalizedEmail (string), 13], [Property: AppUser.NormalizedUserName (string), 14], [Property: AppUser.PasswordHash (string), 15], [Property: AppUser.PhoneNumber (string), 16], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 17], [Property: AppUser.SecurityStamp (string), 18], [Property: AppUser.TwoFactorEnabled (bool) Required, 19], [Property: AppUser.UpdateDate (DateTime) Required, 20], [Property: AppUser.UserName (string), 21] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.Address, a.Avatar, a.ConcurrencyStamp, a.CreatedDate, a.Email, a.EmailConfirmed, a.Facebook, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UpdateDate, a.UserName
            FROM AppUser AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<int>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<DateTime>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<DateTimeOffset>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<DateTime>, ReaderColumn<object> }, 
        Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, AppUser>, 
        null, 
        null, 
        FoodShop.Persistence.ApplicationDbContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-04-16 03:03:55.398 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 03:03:55.399 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 03:03:55.399 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 03:03:55.399 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 03:03:55.400 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 03:03:55.400 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-04-16 03:03:55.404 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-04-16 03:03:55.405 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 03:03:55.405 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 0ms reading results.
2024-04-16 03:03:55.406 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 03:03:55.406 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 03:03:55.853 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-04-16 03:03:55.855 +07:00 [DBG] No information found on request to perform content negotiation.
2024-04-16 03:03:55.856 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-04-16 03:03:55.856 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-04-16 03:03:55.857 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-04-16 03:03:55.858 +07:00 [INF] Executing OkObjectResult, writing value of type 'FoodShop.Contract.Abstraction.Shared.Result`1[[FoodShop.Contract.DataTransferObjects.Respone.V1.UserAuthResponse, FoodShop.Contract, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-04-16 03:03:55.876 +07:00 [INF] Executed action FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation) in 6974.6217ms
2024-04-16 03:03:55.877 +07:00 [INF] Executed endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)'
2024-04-16 03:03:55.881 +07:00 [DBG] 'ApplicationDbContext' disposed.
2024-04-16 03:03:55.886 +07:00 [DBG] Disposing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 03:03:55.887 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-04-16 03:03:55.888 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7286/api/v1/Authentication/register - 200 null application/json; charset=utf-8; ver=1 7085.352ms
2024-04-16 03:05:49.026 +07:00 [DBG] HttpMessageHandler expired after 120000ms for client ''
2024-04-16 03:05:52.155 +07:00 [DBG] HttpMessageHandler expired after 120000ms for client 'MailTrapApiClient'
2024-04-16 03:05:59.042 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 03:05:59.049 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.1413ms - processed: 0 items - remaining: 2 items
2024-04-16 03:06:09.053 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 03:06:09.053 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0107ms - processed: 0 items - remaining: 2 items
2024-04-16 03:06:19.067 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 03:06:19.067 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0039ms - processed: 0 items - remaining: 2 items
2024-04-16 03:06:29.079 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 03:06:29.079 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0063ms - processed: 0 items - remaining: 2 items
2024-04-16 03:06:39.097 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 03:06:39.097 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0032ms - processed: 0 items - remaining: 2 items
2024-04-16 03:06:49.106 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 03:06:49.107 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.1407ms - processed: 0 items - remaining: 2 items
2024-04-16 03:06:59.122 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 03:06:59.123 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0059ms - processed: 0 items - remaining: 2 items
2024-04-16 03:07:09.133 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 03:07:09.134 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0057ms - processed: 0 items - remaining: 2 items
2024-04-16 03:07:19.138 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 03:07:19.139 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0061ms - processed: 0 items - remaining: 2 items
2024-04-16 03:07:29.151 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 03:07:29.151 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0036ms - processed: 0 items - remaining: 2 items
2024-04-16 03:07:39.166 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 03:07:39.167 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.1525ms - processed: 0 items - remaining: 2 items
2024-04-16 03:07:49.178 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 03:07:49.179 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0067ms - processed: 0 items - remaining: 2 items
2024-04-16 03:07:59.194 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 03:07:59.196 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0077ms - processed: 0 items - remaining: 2 items
2024-04-16 03:08:09.206 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 03:08:09.207 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0053ms - processed: 0 items - remaining: 2 items
2024-04-16 03:08:19.210 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 03:08:19.211 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0065ms - processed: 0 items - remaining: 2 items
2024-04-16 03:08:29.212 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 03:08:29.213 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0109ms - processed: 0 items - remaining: 2 items
2024-04-16 03:08:39.228 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 03:08:39.229 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0128ms - processed: 0 items - remaining: 2 items
2024-04-16 03:08:49.243 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 03:08:49.243 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0071ms - processed: 0 items - remaining: 2 items
2024-04-16 03:08:59.245 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 03:08:59.245 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0048ms - processed: 0 items - remaining: 2 items
2024-04-16 03:09:09.257 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 03:09:09.258 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0047ms - processed: 0 items - remaining: 2 items
2024-04-16 03:09:19.266 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 03:09:19.267 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.3473ms - processed: 2 items - remaining: 0 items
2024-04-16 10:46:24.337 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-04-16 10:46:25.071 +07:00 [DBG] The index {'ProductId'} was not created on entity type 'CartProduct' as the properties are already covered by the index {'ProductId', 'CartId'}.
2024-04-16 10:46:25.073 +07:00 [DBG] The index {'OrderId'} was not created on entity type 'OrderProduct' as the properties are already covered by the index {'OrderId', 'ProductId'}.
2024-04-16 10:46:25.074 +07:00 [DBG] The index {'ProductId'} was not created on entity type 'ProductCategory' as the properties are already covered by the index {'ProductId', 'CategoryId'}.
2024-04-16 10:46:25.074 +07:00 [DBG] The index {'RoleId'} was not created on entity type 'IdentityUserRole<Guid>' as the properties are already covered by the index {'RoleId', 'UserId'}.
2024-04-16 10:46:25.221 +07:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-04-16 10:46:25.272 +07:00 [DBG] The property 'IdentityUserToken<Guid>.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-04-16 10:46:25.331 +07:00 [WRN] No store type was specified for the decimal property 'Amout' on entity type 'Cart'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 10:46:25.332 +07:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'CartProduct'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 10:46:25.332 +07:00 [WRN] No store type was specified for the decimal property 'Amout' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 10:46:25.332 +07:00 [WRN] No store type was specified for the decimal property 'AmoutTotal' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 10:46:25.333 +07:00 [WRN] No store type was specified for the decimal property 'Discount' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 10:46:25.333 +07:00 [WRN] No store type was specified for the decimal property 'Shipping' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 10:46:25.333 +07:00 [WRN] No store type was specified for the decimal property 'Tax' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 10:46:25.333 +07:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'OrderProduct'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 10:46:25.334 +07:00 [WRN] No store type was specified for the decimal property 'Discount' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 10:46:25.334 +07:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 10:46:25.692 +07:00 [DBG] Entity Framework Core 8.0.4 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.3' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using lazy loading proxies QuerySplittingBehavior=SplitQuery MigrationsAssembly=FoodShop.Persistence 
2024-04-16 10:46:25.705 +07:00 [DBG] Creating DbConnection.
2024-04-16 10:46:25.775 +07:00 [DBG] Created DbConnection. (67ms).
2024-04-16 10:46:25.779 +07:00 [DBG] Migrating using database 'FoodShop' on server 'localhost'.
2024-04-16 10:46:25.788 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:46:26.093 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:46:26.099 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-04-16 10:46:26.105 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (5ms).
2024-04-16 10:46:26.109 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (11ms).
2024-04-16 10:46:26.117 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 10:46:26.143 +07:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 10:46:26.145 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:46:26.155 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (6ms).
2024-04-16 10:46:26.159 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-04-16 10:46:26.159 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 10:46:26.159 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 10:46:26.160 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:46:26.161 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:46:26.162 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 10:46:26.185 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 10:46:26.186 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:46:26.187 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 10:46:26.189 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:46:26.189 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:46:26.189 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-04-16 10:46:26.190 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-04-16 10:46:26.190 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-04-16 10:46:26.190 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 10:46:26.192 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 10:46:26.192 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:46:26.193 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 10:46:26.193 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-04-16 10:46:26.193 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 10:46:26.193 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 10:46:26.194 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:46:26.194 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:46:26.194 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 10:46:26.195 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 10:46:26.196 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:46:26.197 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 10:46:26.216 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:46:26.218 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:46:26.219 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 10:46:26.219 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 10:46:26.220 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 10:46:26.221 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-16 10:46:26.241 +07:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-16 10:46:26.248 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 10:46:26.251 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 7ms reading results.
2024-04-16 10:46:26.254 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:46:26.254 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 10:46:26.267 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-04-16 10:46:26.325 +07:00 [DBG] Compiling query expression: 
'DbSet<AppRole>()
    .Any()'
2024-04-16 10:46:26.513 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SplitQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AppRole AS a)), 
    ReaderColumn[] { ReaderColumn<bool> }, 
    Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, bool>, 
    null, 
    null, 
    FoodShop.Persistence.ApplicationDbContext, 
    False, 
    True, 
    True
)
    .Single()'
2024-04-16 10:46:26.545 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:46:26.546 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:46:26.546 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 10:46:26.546 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 10:46:26.546 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 10:46:26.547 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AppRole] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-04-16 10:46:26.552 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AppRole] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-04-16 10:46:26.564 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 10:46:26.565 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 2ms reading results.
2024-04-16 10:46:26.566 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:46:26.567 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 10:46:26.570 +07:00 [DBG] 'ApplicationDbContext' disposed.
2024-04-16 10:46:26.573 +07:00 [DBG] Disposing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:46:26.575 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-04-16 10:46:26.664 +07:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-04-16 10:46:26.755 +07:00 [DBG] Hosting starting
2024-04-16 10:46:26.787 +07:00 [INF] User profile is available. Using 'C:\Users\hieud\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-04-16 10:46:26.797 +07:00 [DBG] Reading data from file 'C:\Users\hieud\AppData\Local\ASP.NET\DataProtection-Keys\key-5b2baa0a-904f-4101-af08-7ac673b8db2c.xml'.
2024-04-16 10:46:26.844 +07:00 [DBG] Found key {5b2baa0a-904f-4101-af08-7ac673b8db2c}.
2024-04-16 10:46:26.876 +07:00 [DBG] Considering key {5b2baa0a-904f-4101-af08-7ac673b8db2c} with expiration date 2024-05-20 17:09:10Z as default key.
2024-04-16 10:46:26.884 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-04-16 10:46:26.885 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-04-16 10:46:26.888 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-04-16 10:46:26.892 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-04-16 10:46:26.898 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-04-16 10:46:26.904 +07:00 [DBG] Using key {5b2baa0a-904f-4101-af08-7ac673b8db2c} as the default key.
2024-04-16 10:46:26.906 +07:00 [DBG] Key ring with default key {5b2baa0a-904f-4101-af08-7ac673b8db2c} was loaded during application startup.
2024-04-16 10:46:27.252 +07:00 [INF] Now listening on: https://localhost:7286
2024-04-16 10:46:27.277 +07:00 [INF] Now listening on: http://localhost:5010
2024-04-16 10:46:27.306 +07:00 [DBG] Loaded hosting startup assembly FoodShop.API
2024-04-16 10:46:27.317 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-04-16 10:46:27.326 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-04-16 10:46:27.342 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-04-16 10:46:27.729 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-04-16 10:46:27.983 +07:00 [INF] Hosting environment: Development
2024-04-16 10:46:27.989 +07:00 [DBG] Connection id "0HN2TOV5TPBGP" accepted.
2024-04-16 10:46:28.114 +07:00 [INF] Content root path: C:\Users\hieud\Code\C#\FoodShop\FoodShop\src\FoodShop.API
2024-04-16 10:46:28.123 +07:00 [DBG] Hosting started
2024-04-16 10:46:28.114 +07:00 [DBG] Connection id "0HN2TOV5TPBGQ" accepted.
2024-04-16 10:46:28.126 +07:00 [DBG] Connection id "0HN2TOV5TPBGP" started.
2024-04-16 10:46:28.238 +07:00 [DBG] Connection id "0HN2TOV5TPBGQ" started.
2024-04-16 10:46:28.980 +07:00 [DBG] Connection id "0HN2TOV5TPBGR" accepted.
2024-04-16 10:46:28.982 +07:00 [DBG] Connection id "0HN2TOV5TPBGR" started.
2024-04-16 10:46:29.034 +07:00 [DBG] Connection 0HN2TOV5TPBGR established using the following protocol: "Tls13"
2024-04-16 10:46:29.144 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/swagger/index.html - null null
2024-04-16 10:46:29.315 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-04-16 10:46:29.355 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-04-16 10:46:29.356 +07:00 [DBG] Request did not match any endpoints
2024-04-16 10:46:29.484 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-16 10:46:29.555 +07:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-04-16 10:46:29.557 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-04-16 10:46:29.578 +07:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-04-16 10:46:29.579 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-04-16 10:46:29.584 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/swagger/index.html - 200 null text/html;charset=utf-8 446.8714ms
2024-04-16 10:46:29.629 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/_framework/aspnetcore-browser-refresh.js - null null
2024-04-16 10:46:29.629 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/_vs/browserLink - null null
2024-04-16 10:46:29.647 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 17.7561ms
2024-04-16 10:46:29.702 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/_vs/browserLink - 200 null text/javascript; charset=UTF-8 72.6484ms
2024-04-16 10:46:30.089 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/swagger/v1/swagger.json - null null
2024-04-16 10:46:30.089 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-04-16 10:46:30.090 +07:00 [DBG] Request did not match any endpoints
2024-04-16 10:46:30.091 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-16 10:46:30.287 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 198.5196ms
2024-04-16 10:46:38.366 +07:00 [DBG] Authentication of the HTTPS connection timed out.
2024-04-16 10:46:38.366 +07:00 [DBG] Authentication of the HTTPS connection timed out.
2024-04-16 10:46:38.370 +07:00 [DBG] Connection id "0HN2TOV5TPBGP" stopped.
2024-04-16 10:46:38.370 +07:00 [DBG] Connection id "0HN2TOV5TPBGQ" stopped.
2024-04-16 10:46:38.373 +07:00 [DBG] Connection id "0HN2TOV5TPBGQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-04-16 10:46:38.373 +07:00 [DBG] Connection id "0HN2TOV5TPBGP" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-04-16 10:47:57.593 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7286/api/v1/Authentication/register - application/json; ver=1.0 161
2024-04-16 10:47:57.651 +07:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Authentication/register'
2024-04-16 10:47:57.654 +07:00 [DBG] Endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)' with route pattern 'api/v{version:apiVersion}/Authentication/register' is valid for the request path '/api/v1/Authentication/register'
2024-04-16 10:47:57.663 +07:00 [DBG] Request matched endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)'
2024-04-16 10:47:57.670 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-16 10:47:57.675 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-04-16 10:47:57.679 +07:00 [INF] Start request......!
2024-04-16 10:47:57.686 +07:00 [INF] Executing endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)'
2024-04-16 10:47:57.731 +07:00 [INF] Route matched with {action = "Register", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest) on controller FoodShop.Presentation.Controllers.V1.AuthenticationController (FoodShop.Presentation).
2024-04-16 10:47:57.734 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-04-16 10:47:57.735 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-04-16 10:47:57.736 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)","Asp.Versioning.ApplyContentTypeVersionActionFilter"]
2024-04-16 10:47:57.736 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-04-16 10:47:57.737 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-04-16 10:47:57.739 +07:00 [DBG] Executing controller factory for controller FoodShop.Presentation.Controllers.V1.AuthenticationController (FoodShop.Presentation)
2024-04-16 10:47:57.974 +07:00 [DBG] Executed controller factory for controller FoodShop.Presentation.Controllers.V1.AuthenticationController (FoodShop.Presentation)
2024-04-16 10:47:57.986 +07:00 [DBG] Attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest' ...
2024-04-16 10:47:57.993 +07:00 [DBG] Attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest' using the name '' in request data ...
2024-04-16 10:47:57.996 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json; ver=1.0'.
2024-04-16 10:47:58.008 +07:00 [DBG] Connection id "0HN2TOV5TPBGR", Request id "0HN2TOV5TPBGR:00000009": started reading request body.
2024-04-16 10:47:58.010 +07:00 [DBG] Connection id "0HN2TOV5TPBGR", Request id "0HN2TOV5TPBGR:00000009": done reading request body.
2024-04-16 10:47:58.022 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'
2024-04-16 10:47:58.024 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'.
2024-04-16 10:47:58.025 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'.
2024-04-16 10:47:58.026 +07:00 [DBG] Attempting to validate the bound parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest' ...
2024-04-16 10:47:58.050 +07:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'.
2024-04-16 10:48:01.363 +07:00 [DBG] Entity Framework Core 8.0.4 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.3' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using lazy loading proxies QuerySplittingBehavior=SplitQuery MigrationsAssembly=FoodShop.Persistence 
2024-04-16 10:48:01.377 +07:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2024-04-16 10:48:01.817 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppUser>(
    asyncEnumerable: new SplitQueryingEnumerable<AppUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AppUser.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: AppUser.AccessFailedCount (int) Required, 1], [Property: AppUser.Address (string), 2], [Property: AppUser.Avatar (string), 3], [Property: AppUser.ConcurrencyStamp (string), 4], [Property: AppUser.CreatedDate (DateTime) Required, 5], [Property: AppUser.Email (string), 6], [Property: AppUser.EmailConfirmed (bool) Required, 7], [Property: AppUser.Facebook (string), 8], [Property: AppUser.FirstName (string), 9], [Property: AppUser.LastName (string), 10], [Property: AppUser.LockoutEnabled (bool) Required, 11], [Property: AppUser.LockoutEnd (DateTimeOffset?), 12], [Property: AppUser.NormalizedEmail (string), 13], [Property: AppUser.NormalizedUserName (string), 14], [Property: AppUser.PasswordHash (string), 15], [Property: AppUser.PhoneNumber (string), 16], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 17], [Property: AppUser.SecurityStamp (string), 18], [Property: AppUser.TwoFactorEnabled (bool) Required, 19], [Property: AppUser.UpdateDate (DateTime) Required, 20], [Property: AppUser.UserName (string), 21] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.Address, a.Avatar, a.ConcurrencyStamp, a.CreatedDate, a.Email, a.EmailConfirmed, a.Facebook, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UpdateDate, a.UserName
            FROM AppUser AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<int>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<DateTime>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<DateTimeOffset>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<DateTime>, ReaderColumn<object> }, 
        Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, AppUser>, 
        null, 
        null, 
        FoodShop.Persistence.ApplicationDbContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-04-16 10:48:01.838 +07:00 [DBG] Creating DbConnection.
2024-04-16 10:48:01.839 +07:00 [DBG] Created DbConnection. (0ms).
2024-04-16 10:48:01.842 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:48:01.844 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:48:01.844 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 10:48:01.844 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 10:48:01.849 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-04-16 10:48:01.852 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='HIEUDEV623@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 10:48:01.935 +07:00 [INF] Executed DbCommand (85ms) [Parameters=[@__normalizedUserName_0='HIEUDEV623@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 10:48:01.961 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 10:48:01.961 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 7ms reading results.
2024-04-16 10:48:01.963 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:48:01.964 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 10:48:02.004 +07:00 [DBG] 'ApplicationDbContext' generated value '"28a8c064-19d9-40c1-c428-08dc5dc803e5"' for the property 'AppUser.Id'.
2024-04-16 10:48:02.143 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'AppUser' entity with key '{Id: 28a8c064-19d9-40c1-c428-08dc5dc803e5}'.
2024-04-16 10:48:02.151 +07:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-04-16 10:48:02.157 +07:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-04-16 10:48:02.190 +07:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-04-16 10:48:02.293 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:48:02.293 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:48:02.297 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 10:48:02.298 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 10:48:02.299 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-04-16 10:48:02.300 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='28a8c064-19d9-40c1-c428-08dc5dc803e5', @p1='0', @p2=NULL (Size = 4000), @p3=NULL (Size = 4000), @p4='acd3fe3d-f0c6-451c-85dc-76513c0bd0d1' (Size = 4000), @p5='0001-01-01T00:00:00.0000000', @p6='hieudev623@gmail.com' (Size = 4000), @p7='False', @p8=NULL (Size = 4000), @p9='string' (Size = 4000), @p10='string' (Size = 4000), @p11='True', @p12=NULL (DbType = DateTimeOffset), @p13='HIEUDEV623@GMAIL.COM' (Size = 4000), @p14='HIEUDEV623@GMAIL.COM' (Size = 4000), @p15='AQAAAAIAAYagAAAAEMLYo1FC/hfocUvS2UXxkv6OX4xukPJSAgRvn0pJ2N9wZ7m3+BovIXXujQC8d5VuFw==' (Size = 4000), @p16='string' (Size = 4000), @p17='False', @p18='U3YYCHPMIIYOI5NIJNBC22IMKQUPR7TU' (Size = 4000), @p19='False', @p20='0001-01-01T00:00:00.0000000', @p21='hieudev623@gmail.com' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AppUser] ([Id], [AccessFailedCount], [Address], [Avatar], [ConcurrencyStamp], [CreatedDate], [Email], [EmailConfirmed], [Facebook], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UpdateDate], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21);
2024-04-16 10:48:02.316 +07:00 [INF] Executed DbCommand (17ms) [Parameters=[@p0='28a8c064-19d9-40c1-c428-08dc5dc803e5', @p1='0', @p2=NULL (Size = 4000), @p3=NULL (Size = 4000), @p4='acd3fe3d-f0c6-451c-85dc-76513c0bd0d1' (Size = 4000), @p5='0001-01-01T00:00:00.0000000', @p6='hieudev623@gmail.com' (Size = 4000), @p7='False', @p8=NULL (Size = 4000), @p9='string' (Size = 4000), @p10='string' (Size = 4000), @p11='True', @p12=NULL (DbType = DateTimeOffset), @p13='HIEUDEV623@GMAIL.COM' (Size = 4000), @p14='HIEUDEV623@GMAIL.COM' (Size = 4000), @p15='AQAAAAIAAYagAAAAEMLYo1FC/hfocUvS2UXxkv6OX4xukPJSAgRvn0pJ2N9wZ7m3+BovIXXujQC8d5VuFw==' (Size = 4000), @p16='string' (Size = 4000), @p17='False', @p18='U3YYCHPMIIYOI5NIJNBC22IMKQUPR7TU' (Size = 4000), @p19='False', @p20='0001-01-01T00:00:00.0000000', @p21='hieudev623@gmail.com' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AppUser] ([Id], [AccessFailedCount], [Address], [Avatar], [ConcurrencyStamp], [CreatedDate], [Email], [EmailConfirmed], [Facebook], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UpdateDate], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21);
2024-04-16 10:48:02.321 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 10:48:02.321 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 3ms reading results.
2024-04-16 10:48:02.323 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:48:02.323 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 10:48:02.334 +07:00 [DBG] The 'AppUser' entity with key '{Id: 28a8c064-19d9-40c1-c428-08dc5dc803e5}' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'.
2024-04-16 10:48:02.337 +07:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-04-16 10:48:05.192 +07:00 [DBG] Compiling query expression: 
'DbSet<AppRole>()
    .SingleOrDefault(r => r.NormalizedName == __normalizedRoleName_0)'
2024-04-16 10:48:05.297 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppRole>(
    asyncEnumerable: new SplitQueryingEnumerable<AppRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AppRole.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: AppRole.ConcurrencyStamp (string), 1], [Property: AppRole.CreateBy (string), 2], [Property: AppRole.CreateDate (DateTime?), 3], [Property: AppRole.Description (string) Required MaxLength(250), 4], [Property: AppRole.Name (string), 5], [Property: AppRole.NormalizedName (string), 6], [Property: AppRole.RoleCode (string) Required MaxLength(50), 7], [Property: AppRole.UpdateBy (string), 8], [Property: AppRole.UpdateDate (DateTime?), 9] }
            SELECT TOP(2) a.Id, a.ConcurrencyStamp, a.CreateBy, a.CreateDate, a.Description, a.Name, a.NormalizedName, a.RoleCode, a.UpdateBy, a.UpdateDate
            FROM AppRole AS a
            WHERE a.NormalizedName == @__normalizedRoleName_0), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<DateTime>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<DateTime> }, 
        Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, AppRole>, 
        null, 
        null, 
        FoodShop.Persistence.ApplicationDbContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-04-16 10:48:05.299 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:48:05.299 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:48:05.300 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 10:48:05.300 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 10:48:05.300 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 10:48:05.300 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 10:48:05.328 +07:00 [INF] Executed DbCommand (28ms) [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 10:48:05.359 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'AppRole' entity with key '{Id: 1ddacd3b-495b-4144-b828-3c9740ba1651}'.
2024-04-16 10:48:05.403 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 10:48:05.403 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 70ms reading results.
2024-04-16 10:48:05.404 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:48:05.404 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 10:48:05.451 +07:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<Guid>>()
    .FirstOrDefault(e => object.Equals(
        objA: EF.Property<object>(e, "RoleId"), 
        objB: __get_Item_0) && object.Equals(
        objA: EF.Property<object>(e, "UserId"), 
        objB: __get_Item_1))'
2024-04-16 10:48:05.597 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityUserRole<Guid>>(
    asyncEnumerable: new SplitQueryingEnumerable<IdentityUserRole<Guid>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUserRole<Guid>.RoleId (Guid) Required PK FK AfterSave:Throw, 0], [Property: IdentityUserRole<Guid>.UserId (Guid) Required PK FK Index AfterSave:Throw, 1] }
            SELECT TOP(1) a.RoleId, a.UserId
            FROM AppUserRole AS a
            WHERE (a.RoleId == @__get_Item_0) && (a.UserId == @__get_Item_1)), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<Guid> }, 
        Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, IdentityUserRole<Guid>>, 
        null, 
        null, 
        FoodShop.Persistence.ApplicationDbContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-04-16 10:48:05.606 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:48:05.607 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:48:05.608 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 10:48:05.609 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 10:48:05.609 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-04-16 10:48:05.610 +07:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='28a8c064-19d9-40c1-c428-08dc5dc803e5' (Nullable = true), @__get_Item_1='1ddacd3b-495b-4144-b828-3c9740ba1651' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[RoleId], [a].[UserId]
FROM [AppUserRole] AS [a]
WHERE [a].[RoleId] = @__get_Item_0 AND [a].[UserId] = @__get_Item_1
2024-04-16 10:48:05.627 +07:00 [INF] Executed DbCommand (17ms) [Parameters=[@__get_Item_0='28a8c064-19d9-40c1-c428-08dc5dc803e5' (Nullable = true), @__get_Item_1='1ddacd3b-495b-4144-b828-3c9740ba1651' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[RoleId], [a].[UserId]
FROM [AppUserRole] AS [a]
WHERE [a].[RoleId] = @__get_Item_0 AND [a].[UserId] = @__get_Item_1
2024-04-16 10:48:05.630 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 10:48:05.630 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 1ms reading results.
2024-04-16 10:48:05.631 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:48:05.632 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 10:48:05.646 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:48:05.647 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:48:05.647 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 10:48:05.648 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 10:48:05.648 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 10:48:05.649 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 10:48:05.653 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 10:48:05.655 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 10:48:05.656 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 1ms reading results.
2024-04-16 10:48:05.657 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:48:05.657 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 10:48:05.714 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityUserRole' entity with key '{RoleId: 1ddacd3b-495b-4144-b828-3c9740ba1651, UserId: 28a8c064-19d9-40c1-c428-08dc5dc803e5}'.
2024-04-16 10:48:05.720 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:48:05.720 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:48:05.721 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 10:48:05.722 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 10:48:05.722 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-04-16 10:48:05.723 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='HIEUDEV623@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 10:48:05.732 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedUserName_0='HIEUDEV623@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 10:48:05.741 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 10:48:05.742 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 1ms reading results.
2024-04-16 10:48:05.743 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:48:05.743 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 10:48:05.753 +07:00 [DBG] The 'AppUser' entity with key '{Id: 28a8c064-19d9-40c1-c428-08dc5dc803e5}' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'.
2024-04-16 10:48:05.754 +07:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-04-16 10:48:05.754 +07:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-04-16 10:48:05.773 +07:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-04-16 10:48:05.810 +07:00 [DBG] Executing 2 update commands as a batch.
2024-04-16 10:48:05.819 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:48:05.821 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:48:05.828 +07:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-04-16 10:48:05.846 +07:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-04-16 10:48:05.848 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 10:48:05.849 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 10:48:05.852 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-04-16 10:48:05.853 +07:00 [DBG] Executing DbCommand [Parameters=[@p21='28a8c064-19d9-40c1-c428-08dc5dc803e5', @p0='0', @p1=NULL (Size = 4000), @p2=NULL (Size = 4000), @p3='71f47b8f-f8be-4af1-8ac7-2700ebd2bc9b' (Size = 4000), @p4='0001-01-01T00:00:00.0000000', @p5='hieudev623@gmail.com' (Size = 4000), @p6='False', @p7=NULL (Size = 4000), @p8='string' (Size = 4000), @p9='string' (Size = 4000), @p10='True', @p11=NULL (DbType = DateTimeOffset), @p12='HIEUDEV623@GMAIL.COM' (Size = 4000), @p13='HIEUDEV623@GMAIL.COM' (Size = 4000), @p14='AQAAAAIAAYagAAAAEMLYo1FC/hfocUvS2UXxkv6OX4xukPJSAgRvn0pJ2N9wZ7m3+BovIXXujQC8d5VuFw==' (Size = 4000), @p15='string' (Size = 4000), @p16='False', @p17='U3YYCHPMIIYOI5NIJNBC22IMKQUPR7TU' (Size = 4000), @p18='False', @p19='0001-01-01T00:00:00.0000000', @p20='hieudev623@gmail.com' (Size = 4000), @p22='1ddacd3b-495b-4144-b828-3c9740ba1651', @p23='28a8c064-19d9-40c1-c428-08dc5dc803e5'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AppUser] SET [AccessFailedCount] = @p0, [Address] = @p1, [Avatar] = @p2, [ConcurrencyStamp] = @p3, [CreatedDate] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [Facebook] = @p7, [FirstName] = @p8, [LastName] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [SecurityStamp] = @p17, [TwoFactorEnabled] = @p18, [UpdateDate] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21;
INSERT INTO [AppUserRole] ([RoleId], [UserId])
VALUES (@p22, @p23);
2024-04-16 10:48:05.871 +07:00 [INF] Executed DbCommand (18ms) [Parameters=[@p21='28a8c064-19d9-40c1-c428-08dc5dc803e5', @p0='0', @p1=NULL (Size = 4000), @p2=NULL (Size = 4000), @p3='71f47b8f-f8be-4af1-8ac7-2700ebd2bc9b' (Size = 4000), @p4='0001-01-01T00:00:00.0000000', @p5='hieudev623@gmail.com' (Size = 4000), @p6='False', @p7=NULL (Size = 4000), @p8='string' (Size = 4000), @p9='string' (Size = 4000), @p10='True', @p11=NULL (DbType = DateTimeOffset), @p12='HIEUDEV623@GMAIL.COM' (Size = 4000), @p13='HIEUDEV623@GMAIL.COM' (Size = 4000), @p14='AQAAAAIAAYagAAAAEMLYo1FC/hfocUvS2UXxkv6OX4xukPJSAgRvn0pJ2N9wZ7m3+BovIXXujQC8d5VuFw==' (Size = 4000), @p15='string' (Size = 4000), @p16='False', @p17='U3YYCHPMIIYOI5NIJNBC22IMKQUPR7TU' (Size = 4000), @p18='False', @p19='0001-01-01T00:00:00.0000000', @p20='hieudev623@gmail.com' (Size = 4000), @p22='1ddacd3b-495b-4144-b828-3c9740ba1651', @p23='28a8c064-19d9-40c1-c428-08dc5dc803e5'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AppUser] SET [AccessFailedCount] = @p0, [Address] = @p1, [Avatar] = @p2, [ConcurrencyStamp] = @p3, [CreatedDate] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [Facebook] = @p7, [FirstName] = @p8, [LastName] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [SecurityStamp] = @p17, [TwoFactorEnabled] = @p18, [UpdateDate] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21;
INSERT INTO [AppUserRole] ([RoleId], [UserId])
VALUES (@p22, @p23);
2024-04-16 10:48:05.875 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 10:48:05.876 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 3ms reading results.
2024-04-16 10:48:05.882 +07:00 [DBG] Committing transaction.
2024-04-16 10:48:05.889 +07:00 [DBG] Committed transaction.
2024-04-16 10:48:05.893 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:48:05.894 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 10:48:05.897 +07:00 [DBG] Disposing transaction.
2024-04-16 10:48:05.897 +07:00 [DBG] The 'IdentityUserRole' entity with key '{RoleId: 1ddacd3b-495b-4144-b828-3c9740ba1651, UserId: 28a8c064-19d9-40c1-c428-08dc5dc803e5}' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'.
2024-04-16 10:48:05.899 +07:00 [DBG] The 'AppUser' entity with key '{Id: 28a8c064-19d9-40c1-c428-08dc5dc803e5}' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'.
2024-04-16 10:48:05.899 +07:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 2 entities written to the database.
2024-04-16 10:48:19.329 +07:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2024-04-16 10:48:19.354 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppUser>(
    asyncEnumerable: new SplitQueryingEnumerable<AppUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AppUser.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: AppUser.AccessFailedCount (int) Required, 1], [Property: AppUser.Address (string), 2], [Property: AppUser.Avatar (string), 3], [Property: AppUser.ConcurrencyStamp (string), 4], [Property: AppUser.CreatedDate (DateTime) Required, 5], [Property: AppUser.Email (string), 6], [Property: AppUser.EmailConfirmed (bool) Required, 7], [Property: AppUser.Facebook (string), 8], [Property: AppUser.FirstName (string), 9], [Property: AppUser.LastName (string), 10], [Property: AppUser.LockoutEnabled (bool) Required, 11], [Property: AppUser.LockoutEnd (DateTimeOffset?), 12], [Property: AppUser.NormalizedEmail (string), 13], [Property: AppUser.NormalizedUserName (string), 14], [Property: AppUser.PasswordHash (string), 15], [Property: AppUser.PhoneNumber (string), 16], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 17], [Property: AppUser.SecurityStamp (string), 18], [Property: AppUser.TwoFactorEnabled (bool) Required, 19], [Property: AppUser.UpdateDate (DateTime) Required, 20], [Property: AppUser.UserName (string), 21] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.Address, a.Avatar, a.ConcurrencyStamp, a.CreatedDate, a.Email, a.EmailConfirmed, a.Facebook, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UpdateDate, a.UserName
            FROM AppUser AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<int>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<DateTime>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<DateTimeOffset>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<DateTime>, ReaderColumn<object> }, 
        Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, AppUser>, 
        null, 
        null, 
        FoodShop.Persistence.ApplicationDbContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-04-16 10:48:19.358 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:48:19.359 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:48:19.359 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 10:48:19.359 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 10:48:19.360 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 10:48:19.360 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='HIEUDEV623@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-04-16 10:48:19.366 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='HIEUDEV623@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-04-16 10:48:19.368 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 10:48:19.369 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 1ms reading results.
2024-04-16 10:48:19.371 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:48:19.409 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (37ms).
2024-04-16 10:48:21.043 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-04-16 10:48:21.045 +07:00 [DBG] No information found on request to perform content negotiation.
2024-04-16 10:48:21.046 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-04-16 10:48:21.046 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-04-16 10:48:21.047 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-04-16 10:48:21.048 +07:00 [INF] Executing OkObjectResult, writing value of type 'FoodShop.Contract.Abstraction.Shared.Result`1[[FoodShop.Contract.DataTransferObjects.Respone.V1.UserAuthResponse, FoodShop.Contract, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-04-16 10:48:21.068 +07:00 [INF] Executed action FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation) in 23326.5383ms
2024-04-16 10:48:21.069 +07:00 [INF] Executed endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)'
2024-04-16 10:48:21.074 +07:00 [DBG] 'ApplicationDbContext' disposed.
2024-04-16 10:48:21.080 +07:00 [DBG] Disposing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:48:21.080 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-04-16 10:48:21.081 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7286/api/v1/Authentication/register - 200 null application/json; charset=utf-8; ver=1 23488.3132ms
2024-04-16 10:49:58.000 +07:00 [DBG] HttpMessageHandler expired after 120000ms for client ''
2024-04-16 10:50:08.006 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2024-04-16 10:50:08.010 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0884ms - processed: 0 items - remaining: 1 items
2024-04-16 10:50:11.052 +07:00 [DBG] HttpMessageHandler expired after 120000ms for client 'MailTrapApiClient'
2024-04-16 10:50:38.020 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-04-16 10:50:38.668 +07:00 [DBG] The index {'ProductId'} was not created on entity type 'CartProduct' as the properties are already covered by the index {'ProductId', 'CartId'}.
2024-04-16 10:50:38.670 +07:00 [DBG] The index {'OrderId'} was not created on entity type 'OrderProduct' as the properties are already covered by the index {'OrderId', 'ProductId'}.
2024-04-16 10:50:38.671 +07:00 [DBG] The index {'ProductId'} was not created on entity type 'ProductCategory' as the properties are already covered by the index {'ProductId', 'CategoryId'}.
2024-04-16 10:50:38.671 +07:00 [DBG] The index {'RoleId'} was not created on entity type 'IdentityUserRole<Guid>' as the properties are already covered by the index {'RoleId', 'UserId'}.
2024-04-16 10:50:38.840 +07:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-04-16 10:50:38.890 +07:00 [DBG] The property 'IdentityUserToken<Guid>.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-04-16 10:50:38.959 +07:00 [WRN] No store type was specified for the decimal property 'Amout' on entity type 'Cart'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 10:50:38.960 +07:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'CartProduct'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 10:50:38.961 +07:00 [WRN] No store type was specified for the decimal property 'Amout' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 10:50:38.962 +07:00 [WRN] No store type was specified for the decimal property 'AmoutTotal' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 10:50:38.962 +07:00 [WRN] No store type was specified for the decimal property 'Discount' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 10:50:38.964 +07:00 [WRN] No store type was specified for the decimal property 'Shipping' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 10:50:38.965 +07:00 [WRN] No store type was specified for the decimal property 'Tax' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 10:50:38.966 +07:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'OrderProduct'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 10:50:38.967 +07:00 [WRN] No store type was specified for the decimal property 'Discount' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 10:50:38.968 +07:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 10:50:39.136 +07:00 [DBG] Entity Framework Core 8.0.4 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.3' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using lazy loading proxies QuerySplittingBehavior=SplitQuery MigrationsAssembly=FoodShop.Persistence 
2024-04-16 10:50:39.146 +07:00 [DBG] Creating DbConnection.
2024-04-16 10:50:39.193 +07:00 [DBG] Created DbConnection. (44ms).
2024-04-16 10:50:39.196 +07:00 [DBG] Migrating using database 'FoodShop' on server 'localhost'.
2024-04-16 10:50:39.201 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:50:39.433 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:50:39.438 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-04-16 10:50:39.442 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (3ms).
2024-04-16 10:50:39.444 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (7ms).
2024-04-16 10:50:39.448 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 10:50:39.467 +07:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 10:50:39.470 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:50:39.475 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (3ms).
2024-04-16 10:50:39.478 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-04-16 10:50:39.479 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 10:50:39.479 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 10:50:39.479 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:50:39.480 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:50:39.481 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 10:50:39.492 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 10:50:39.493 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:50:39.493 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 10:50:39.494 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:50:39.494 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:50:39.494 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-04-16 10:50:39.495 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-04-16 10:50:39.495 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-04-16 10:50:39.495 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 10:50:39.496 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 10:50:39.497 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:50:39.497 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 10:50:39.498 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-04-16 10:50:39.498 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 10:50:39.498 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 10:50:39.499 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:50:39.499 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:50:39.499 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 10:50:39.500 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 10:50:39.501 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:50:39.501 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 10:50:39.511 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:50:39.511 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:50:39.511 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 10:50:39.512 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 10:50:39.512 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 10:50:39.513 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-16 10:50:39.526 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-16 10:50:39.530 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 10:50:39.532 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 3ms reading results.
2024-04-16 10:50:39.533 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:50:39.534 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 10:50:39.546 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-04-16 10:50:39.591 +07:00 [DBG] Compiling query expression: 
'DbSet<AppRole>()
    .Any()'
2024-04-16 10:50:39.708 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SplitQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AppRole AS a)), 
    ReaderColumn[] { ReaderColumn<bool> }, 
    Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, bool>, 
    null, 
    null, 
    FoodShop.Persistence.ApplicationDbContext, 
    False, 
    True, 
    True
)
    .Single()'
2024-04-16 10:50:39.731 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:50:39.732 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:50:39.732 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 10:50:39.732 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 10:50:39.733 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 10:50:39.733 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AppRole] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-04-16 10:50:39.746 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AppRole] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-04-16 10:50:39.759 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 10:50:39.759 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 1ms reading results.
2024-04-16 10:50:39.760 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:50:39.760 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 10:50:39.762 +07:00 [DBG] 'ApplicationDbContext' disposed.
2024-04-16 10:50:39.764 +07:00 [DBG] Disposing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:50:39.765 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-04-16 10:50:39.894 +07:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-04-16 10:50:39.978 +07:00 [DBG] Hosting starting
2024-04-16 10:50:40.004 +07:00 [INF] User profile is available. Using 'C:\Users\hieud\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-04-16 10:50:40.016 +07:00 [DBG] Reading data from file 'C:\Users\hieud\AppData\Local\ASP.NET\DataProtection-Keys\key-5b2baa0a-904f-4101-af08-7ac673b8db2c.xml'.
2024-04-16 10:50:40.027 +07:00 [DBG] Found key {5b2baa0a-904f-4101-af08-7ac673b8db2c}.
2024-04-16 10:50:40.041 +07:00 [DBG] Considering key {5b2baa0a-904f-4101-af08-7ac673b8db2c} with expiration date 2024-05-20 17:09:10Z as default key.
2024-04-16 10:50:40.047 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-04-16 10:50:40.049 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-04-16 10:50:40.053 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-04-16 10:50:40.055 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-04-16 10:50:40.060 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-04-16 10:50:40.065 +07:00 [DBG] Using key {5b2baa0a-904f-4101-af08-7ac673b8db2c} as the default key.
2024-04-16 10:50:40.067 +07:00 [DBG] Key ring with default key {5b2baa0a-904f-4101-af08-7ac673b8db2c} was loaded during application startup.
2024-04-16 10:50:40.201 +07:00 [INF] Now listening on: https://localhost:7286
2024-04-16 10:50:40.201 +07:00 [INF] Now listening on: http://localhost:5010
2024-04-16 10:50:40.202 +07:00 [DBG] Loaded hosting startup assembly FoodShop.API
2024-04-16 10:50:40.202 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-04-16 10:50:40.202 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-04-16 10:50:40.202 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-04-16 10:50:40.262 +07:00 [DBG] Connection id "0HN2TP1H3L4RM" accepted.
2024-04-16 10:50:40.263 +07:00 [DBG] Connection id "0HN2TP1H3L4RM" started.
2024-04-16 10:50:40.284 +07:00 [DBG] Connection id "0HN2TP1H3L4RM" received FIN.
2024-04-16 10:50:40.296 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-04-16 10:50:40.344 +07:00 [DBG] Connection id "0HN2TP1H3L4RM" stopped.
2024-04-16 10:50:40.347 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-04-16 10:50:40.347 +07:00 [INF] Hosting environment: Development
2024-04-16 10:50:40.347 +07:00 [INF] Content root path: C:\Users\hieud\Code\C#\FoodShop\FoodShop\src\FoodShop.API
2024-04-16 10:50:40.348 +07:00 [DBG] Hosting started
2024-04-16 10:50:40.348 +07:00 [DBG] Connection id "0HN2TP1H3L4RM" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-04-16 10:50:40.551 +07:00 [DBG] Connection id "0HN2TP1H3L4RN" accepted.
2024-04-16 10:50:40.552 +07:00 [DBG] Connection id "0HN2TP1H3L4RN" started.
2024-04-16 10:50:40.579 +07:00 [DBG] Connection 0HN2TP1H3L4RN established using the following protocol: "Tls13"
2024-04-16 10:50:40.641 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/swagger/index.html - null null
2024-04-16 10:50:40.760 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-04-16 10:50:40.821 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-04-16 10:50:40.822 +07:00 [DBG] Request did not match any endpoints
2024-04-16 10:50:40.938 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-16 10:50:41.005 +07:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-04-16 10:50:41.007 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-04-16 10:50:41.050 +07:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-04-16 10:50:41.052 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-04-16 10:50:41.056 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/swagger/index.html - 200 null text/html;charset=utf-8 421.8997ms
2024-04-16 10:50:41.107 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/_vs/browserLink - null null
2024-04-16 10:50:41.107 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/_framework/aspnetcore-browser-refresh.js - null null
2024-04-16 10:50:41.117 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 10.1137ms
2024-04-16 10:50:41.157 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/_vs/browserLink - 200 null text/javascript; charset=UTF-8 49.6403ms
2024-04-16 10:50:41.592 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/swagger/v1/swagger.json - null null
2024-04-16 10:50:41.593 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-04-16 10:50:41.593 +07:00 [DBG] Request did not match any endpoints
2024-04-16 10:50:41.595 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-16 10:50:41.733 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 141.2252ms
2024-04-16 10:51:01.693 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7286/api/v1/Authentication/register - application/json; ver=1.0 161
2024-04-16 10:51:01.743 +07:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Authentication/register'
2024-04-16 10:51:01.748 +07:00 [DBG] Endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)' with route pattern 'api/v{version:apiVersion}/Authentication/register' is valid for the request path '/api/v1/Authentication/register'
2024-04-16 10:51:01.756 +07:00 [DBG] Request matched endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)'
2024-04-16 10:51:01.762 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-16 10:51:01.764 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-04-16 10:51:01.768 +07:00 [INF] Start request......!
2024-04-16 10:51:01.770 +07:00 [INF] Executing endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)'
2024-04-16 10:51:01.802 +07:00 [INF] Route matched with {action = "Register", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest) on controller FoodShop.Presentation.Controllers.V1.AuthenticationController (FoodShop.Presentation).
2024-04-16 10:51:01.804 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-04-16 10:51:01.805 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-04-16 10:51:01.805 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)","Asp.Versioning.ApplyContentTypeVersionActionFilter"]
2024-04-16 10:51:01.807 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-04-16 10:51:01.808 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-04-16 10:51:01.810 +07:00 [DBG] Executing controller factory for controller FoodShop.Presentation.Controllers.V1.AuthenticationController (FoodShop.Presentation)
2024-04-16 10:51:01.950 +07:00 [DBG] Executed controller factory for controller FoodShop.Presentation.Controllers.V1.AuthenticationController (FoodShop.Presentation)
2024-04-16 10:51:01.957 +07:00 [DBG] Attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest' ...
2024-04-16 10:51:01.962 +07:00 [DBG] Attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest' using the name '' in request data ...
2024-04-16 10:51:01.963 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json; ver=1.0'.
2024-04-16 10:51:01.971 +07:00 [DBG] Connection id "0HN2TP1H3L4RN", Request id "0HN2TP1H3L4RN:00000009": started reading request body.
2024-04-16 10:51:01.973 +07:00 [DBG] Connection id "0HN2TP1H3L4RN", Request id "0HN2TP1H3L4RN:00000009": done reading request body.
2024-04-16 10:51:01.984 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'
2024-04-16 10:51:01.985 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'.
2024-04-16 10:51:01.986 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'.
2024-04-16 10:51:01.987 +07:00 [DBG] Attempting to validate the bound parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest' ...
2024-04-16 10:51:02.012 +07:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'.
2024-04-16 10:51:05.020 +07:00 [DBG] Entity Framework Core 8.0.4 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.3' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using lazy loading proxies QuerySplittingBehavior=SplitQuery MigrationsAssembly=FoodShop.Persistence 
2024-04-16 10:51:05.036 +07:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2024-04-16 10:51:05.432 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppUser>(
    asyncEnumerable: new SplitQueryingEnumerable<AppUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AppUser.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: AppUser.AccessFailedCount (int) Required, 1], [Property: AppUser.Address (string), 2], [Property: AppUser.Avatar (string), 3], [Property: AppUser.ConcurrencyStamp (string), 4], [Property: AppUser.CreatedDate (DateTime) Required, 5], [Property: AppUser.Email (string), 6], [Property: AppUser.EmailConfirmed (bool) Required, 7], [Property: AppUser.Facebook (string), 8], [Property: AppUser.FirstName (string), 9], [Property: AppUser.LastName (string), 10], [Property: AppUser.LockoutEnabled (bool) Required, 11], [Property: AppUser.LockoutEnd (DateTimeOffset?), 12], [Property: AppUser.NormalizedEmail (string), 13], [Property: AppUser.NormalizedUserName (string), 14], [Property: AppUser.PasswordHash (string), 15], [Property: AppUser.PhoneNumber (string), 16], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 17], [Property: AppUser.SecurityStamp (string), 18], [Property: AppUser.TwoFactorEnabled (bool) Required, 19], [Property: AppUser.UpdateDate (DateTime) Required, 20], [Property: AppUser.UserName (string), 21] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.Address, a.Avatar, a.ConcurrencyStamp, a.CreatedDate, a.Email, a.EmailConfirmed, a.Facebook, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UpdateDate, a.UserName
            FROM AppUser AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<int>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<DateTime>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<DateTimeOffset>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<DateTime>, ReaderColumn<object> }, 
        Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, AppUser>, 
        null, 
        null, 
        FoodShop.Persistence.ApplicationDbContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-04-16 10:51:05.476 +07:00 [DBG] Creating DbConnection.
2024-04-16 10:51:05.478 +07:00 [DBG] Created DbConnection. (2ms).
2024-04-16 10:51:05.481 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:51:05.486 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:51:05.487 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 10:51:05.488 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 10:51:05.496 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2024-04-16 10:51:05.505 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='HIEUDEV623@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 10:51:05.570 +07:00 [INF] Executed DbCommand (72ms) [Parameters=[@__normalizedUserName_0='HIEUDEV623@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 10:51:05.598 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 10:51:05.598 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 12ms reading results.
2024-04-16 10:51:05.603 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:51:05.604 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (1ms).
2024-04-16 10:51:05.665 +07:00 [DBG] 'ApplicationDbContext' generated value '"c0fcfb2f-fb73-41ae-ed68-08dc5dc8715d"' for the property 'AppUser.Id'.
2024-04-16 10:51:05.873 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'AppUser' entity with key '{Id: c0fcfb2f-fb73-41ae-ed68-08dc5dc8715d}'.
2024-04-16 10:51:05.878 +07:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-04-16 10:51:05.882 +07:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-04-16 10:51:05.906 +07:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-04-16 10:51:06.012 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:51:06.013 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:51:06.020 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 10:51:06.021 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 10:51:06.023 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-04-16 10:51:06.028 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='c0fcfb2f-fb73-41ae-ed68-08dc5dc8715d', @p1='0', @p2=NULL (Size = 4000), @p3=NULL (Size = 4000), @p4='6617c36d-ee7d-4410-9570-2047875a99b7' (Size = 4000), @p5='0001-01-01T00:00:00.0000000', @p6='hieudev623@gmail.com' (Size = 4000), @p7='False', @p8=NULL (Size = 4000), @p9='string' (Size = 4000), @p10='string' (Size = 4000), @p11='True', @p12=NULL (DbType = DateTimeOffset), @p13='HIEUDEV623@GMAIL.COM' (Size = 4000), @p14='HIEUDEV623@GMAIL.COM' (Size = 4000), @p15='AQAAAAIAAYagAAAAEIEQTC39LpzQMsXNap+U5NJlS3b7o815HFXwPKcdhLVlrJ94o5Pja2GWgoF8OSSQsA==' (Size = 4000), @p16='string' (Size = 4000), @p17='False', @p18='WWCZBTGMMCF6VA5ECS6X4L3W4YZQ4JLO' (Size = 4000), @p19='False', @p20='0001-01-01T00:00:00.0000000', @p21='hieudev623@gmail.com' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AppUser] ([Id], [AccessFailedCount], [Address], [Avatar], [ConcurrencyStamp], [CreatedDate], [Email], [EmailConfirmed], [Facebook], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UpdateDate], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21);
2024-04-16 10:51:06.060 +07:00 [INF] Executed DbCommand (35ms) [Parameters=[@p0='c0fcfb2f-fb73-41ae-ed68-08dc5dc8715d', @p1='0', @p2=NULL (Size = 4000), @p3=NULL (Size = 4000), @p4='6617c36d-ee7d-4410-9570-2047875a99b7' (Size = 4000), @p5='0001-01-01T00:00:00.0000000', @p6='hieudev623@gmail.com' (Size = 4000), @p7='False', @p8=NULL (Size = 4000), @p9='string' (Size = 4000), @p10='string' (Size = 4000), @p11='True', @p12=NULL (DbType = DateTimeOffset), @p13='HIEUDEV623@GMAIL.COM' (Size = 4000), @p14='HIEUDEV623@GMAIL.COM' (Size = 4000), @p15='AQAAAAIAAYagAAAAEIEQTC39LpzQMsXNap+U5NJlS3b7o815HFXwPKcdhLVlrJ94o5Pja2GWgoF8OSSQsA==' (Size = 4000), @p16='string' (Size = 4000), @p17='False', @p18='WWCZBTGMMCF6VA5ECS6X4L3W4YZQ4JLO' (Size = 4000), @p19='False', @p20='0001-01-01T00:00:00.0000000', @p21='hieudev623@gmail.com' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AppUser] ([Id], [AccessFailedCount], [Address], [Avatar], [ConcurrencyStamp], [CreatedDate], [Email], [EmailConfirmed], [Facebook], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UpdateDate], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21);
2024-04-16 10:51:06.069 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 10:51:06.070 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 8ms reading results.
2024-04-16 10:51:06.075 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:51:06.076 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 10:51:06.095 +07:00 [DBG] The 'AppUser' entity with key '{Id: c0fcfb2f-fb73-41ae-ed68-08dc5dc8715d}' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'.
2024-04-16 10:51:06.099 +07:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-04-16 10:51:06.114 +07:00 [DBG] Compiling query expression: 
'DbSet<AppRole>()
    .SingleOrDefault(r => r.NormalizedName == __normalizedRoleName_0)'
2024-04-16 10:51:06.217 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppRole>(
    asyncEnumerable: new SplitQueryingEnumerable<AppRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AppRole.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: AppRole.ConcurrencyStamp (string), 1], [Property: AppRole.CreateBy (string), 2], [Property: AppRole.CreateDate (DateTime?), 3], [Property: AppRole.Description (string) Required MaxLength(250), 4], [Property: AppRole.Name (string), 5], [Property: AppRole.NormalizedName (string), 6], [Property: AppRole.RoleCode (string) Required MaxLength(50), 7], [Property: AppRole.UpdateBy (string), 8], [Property: AppRole.UpdateDate (DateTime?), 9] }
            SELECT TOP(2) a.Id, a.ConcurrencyStamp, a.CreateBy, a.CreateDate, a.Description, a.Name, a.NormalizedName, a.RoleCode, a.UpdateBy, a.UpdateDate
            FROM AppRole AS a
            WHERE a.NormalizedName == @__normalizedRoleName_0), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<DateTime>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<DateTime> }, 
        Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, AppRole>, 
        null, 
        null, 
        FoodShop.Persistence.ApplicationDbContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-04-16 10:51:06.220 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:51:06.221 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:51:06.222 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 10:51:06.222 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 10:51:06.222 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 10:51:06.223 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 10:51:06.227 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 10:51:06.269 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'AppRole' entity with key '{Id: 1ddacd3b-495b-4144-b828-3c9740ba1651}'.
2024-04-16 10:51:06.318 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 10:51:06.319 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 82ms reading results.
2024-04-16 10:51:06.319 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:51:06.320 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 10:51:06.349 +07:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<Guid>>()
    .FirstOrDefault(e => object.Equals(
        objA: EF.Property<object>(e, "RoleId"), 
        objB: __get_Item_0) && object.Equals(
        objA: EF.Property<object>(e, "UserId"), 
        objB: __get_Item_1))'
2024-04-16 10:51:06.476 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityUserRole<Guid>>(
    asyncEnumerable: new SplitQueryingEnumerable<IdentityUserRole<Guid>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUserRole<Guid>.RoleId (Guid) Required PK FK AfterSave:Throw, 0], [Property: IdentityUserRole<Guid>.UserId (Guid) Required PK FK Index AfterSave:Throw, 1] }
            SELECT TOP(1) a.RoleId, a.UserId
            FROM AppUserRole AS a
            WHERE (a.RoleId == @__get_Item_0) && (a.UserId == @__get_Item_1)), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<Guid> }, 
        Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, IdentityUserRole<Guid>>, 
        null, 
        null, 
        FoodShop.Persistence.ApplicationDbContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-04-16 10:51:06.484 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:51:06.485 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:51:06.486 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 10:51:06.486 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 10:51:06.487 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-04-16 10:51:06.487 +07:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='c0fcfb2f-fb73-41ae-ed68-08dc5dc8715d' (Nullable = true), @__get_Item_1='1ddacd3b-495b-4144-b828-3c9740ba1651' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[RoleId], [a].[UserId]
FROM [AppUserRole] AS [a]
WHERE [a].[RoleId] = @__get_Item_0 AND [a].[UserId] = @__get_Item_1
2024-04-16 10:51:06.493 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__get_Item_0='c0fcfb2f-fb73-41ae-ed68-08dc5dc8715d' (Nullable = true), @__get_Item_1='1ddacd3b-495b-4144-b828-3c9740ba1651' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[RoleId], [a].[UserId]
FROM [AppUserRole] AS [a]
WHERE [a].[RoleId] = @__get_Item_0 AND [a].[UserId] = @__get_Item_1
2024-04-16 10:51:06.495 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 10:51:06.496 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 1ms reading results.
2024-04-16 10:51:06.497 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:51:06.497 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 10:51:06.511 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:51:06.512 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:51:06.513 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 10:51:06.513 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 10:51:06.514 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-04-16 10:51:06.515 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 10:51:06.519 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 10:51:06.522 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 10:51:06.522 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 1ms reading results.
2024-04-16 10:51:06.523 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:51:06.524 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 10:51:06.583 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityUserRole' entity with key '{RoleId: 1ddacd3b-495b-4144-b828-3c9740ba1651, UserId: c0fcfb2f-fb73-41ae-ed68-08dc5dc8715d}'.
2024-04-16 10:51:06.586 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:51:06.587 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:51:06.587 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 10:51:06.588 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 10:51:06.588 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 10:51:06.589 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='HIEUDEV623@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 10:51:06.592 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='HIEUDEV623@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 10:51:06.596 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 10:51:06.597 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 0ms reading results.
2024-04-16 10:51:06.597 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:51:06.597 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 10:51:06.605 +07:00 [DBG] The 'AppUser' entity with key '{Id: c0fcfb2f-fb73-41ae-ed68-08dc5dc8715d}' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'.
2024-04-16 10:51:06.606 +07:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-04-16 10:51:06.606 +07:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-04-16 10:51:06.625 +07:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-04-16 10:51:06.647 +07:00 [DBG] Executing 2 update commands as a batch.
2024-04-16 10:51:06.651 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:51:06.652 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:51:06.654 +07:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-04-16 10:51:06.661 +07:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-04-16 10:51:06.662 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 10:51:06.663 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 10:51:06.664 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-04-16 10:51:06.665 +07:00 [DBG] Executing DbCommand [Parameters=[@p21='c0fcfb2f-fb73-41ae-ed68-08dc5dc8715d', @p0='0', @p1=NULL (Size = 4000), @p2=NULL (Size = 4000), @p3='5426b0a0-0c6f-47a6-a1ad-bbb0659e5d7c' (Size = 4000), @p4='0001-01-01T00:00:00.0000000', @p5='hieudev623@gmail.com' (Size = 4000), @p6='False', @p7=NULL (Size = 4000), @p8='string' (Size = 4000), @p9='string' (Size = 4000), @p10='True', @p11=NULL (DbType = DateTimeOffset), @p12='HIEUDEV623@GMAIL.COM' (Size = 4000), @p13='HIEUDEV623@GMAIL.COM' (Size = 4000), @p14='AQAAAAIAAYagAAAAEIEQTC39LpzQMsXNap+U5NJlS3b7o815HFXwPKcdhLVlrJ94o5Pja2GWgoF8OSSQsA==' (Size = 4000), @p15='string' (Size = 4000), @p16='False', @p17='WWCZBTGMMCF6VA5ECS6X4L3W4YZQ4JLO' (Size = 4000), @p18='False', @p19='0001-01-01T00:00:00.0000000', @p20='hieudev623@gmail.com' (Size = 4000), @p22='1ddacd3b-495b-4144-b828-3c9740ba1651', @p23='c0fcfb2f-fb73-41ae-ed68-08dc5dc8715d'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AppUser] SET [AccessFailedCount] = @p0, [Address] = @p1, [Avatar] = @p2, [ConcurrencyStamp] = @p3, [CreatedDate] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [Facebook] = @p7, [FirstName] = @p8, [LastName] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [SecurityStamp] = @p17, [TwoFactorEnabled] = @p18, [UpdateDate] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21;
INSERT INTO [AppUserRole] ([RoleId], [UserId])
VALUES (@p22, @p23);
2024-04-16 10:51:06.670 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@p21='c0fcfb2f-fb73-41ae-ed68-08dc5dc8715d', @p0='0', @p1=NULL (Size = 4000), @p2=NULL (Size = 4000), @p3='5426b0a0-0c6f-47a6-a1ad-bbb0659e5d7c' (Size = 4000), @p4='0001-01-01T00:00:00.0000000', @p5='hieudev623@gmail.com' (Size = 4000), @p6='False', @p7=NULL (Size = 4000), @p8='string' (Size = 4000), @p9='string' (Size = 4000), @p10='True', @p11=NULL (DbType = DateTimeOffset), @p12='HIEUDEV623@GMAIL.COM' (Size = 4000), @p13='HIEUDEV623@GMAIL.COM' (Size = 4000), @p14='AQAAAAIAAYagAAAAEIEQTC39LpzQMsXNap+U5NJlS3b7o815HFXwPKcdhLVlrJ94o5Pja2GWgoF8OSSQsA==' (Size = 4000), @p15='string' (Size = 4000), @p16='False', @p17='WWCZBTGMMCF6VA5ECS6X4L3W4YZQ4JLO' (Size = 4000), @p18='False', @p19='0001-01-01T00:00:00.0000000', @p20='hieudev623@gmail.com' (Size = 4000), @p22='1ddacd3b-495b-4144-b828-3c9740ba1651', @p23='c0fcfb2f-fb73-41ae-ed68-08dc5dc8715d'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AppUser] SET [AccessFailedCount] = @p0, [Address] = @p1, [Avatar] = @p2, [ConcurrencyStamp] = @p3, [CreatedDate] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [Facebook] = @p7, [FirstName] = @p8, [LastName] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [SecurityStamp] = @p17, [TwoFactorEnabled] = @p18, [UpdateDate] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21;
INSERT INTO [AppUserRole] ([RoleId], [UserId])
VALUES (@p22, @p23);
2024-04-16 10:51:06.673 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 10:51:06.673 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 2ms reading results.
2024-04-16 10:51:06.675 +07:00 [DBG] Committing transaction.
2024-04-16 10:51:06.690 +07:00 [DBG] Committed transaction.
2024-04-16 10:51:06.693 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:51:06.694 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 10:51:06.695 +07:00 [DBG] Disposing transaction.
2024-04-16 10:51:06.696 +07:00 [DBG] The 'IdentityUserRole' entity with key '{RoleId: 1ddacd3b-495b-4144-b828-3c9740ba1651, UserId: c0fcfb2f-fb73-41ae-ed68-08dc5dc8715d}' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'.
2024-04-16 10:51:06.696 +07:00 [DBG] The 'AppUser' entity with key '{Id: c0fcfb2f-fb73-41ae-ed68-08dc5dc8715d}' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'.
2024-04-16 10:51:06.697 +07:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 2 entities written to the database.
2024-04-16 10:51:16.955 +07:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2024-04-16 10:51:16.968 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppUser>(
    asyncEnumerable: new SplitQueryingEnumerable<AppUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AppUser.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: AppUser.AccessFailedCount (int) Required, 1], [Property: AppUser.Address (string), 2], [Property: AppUser.Avatar (string), 3], [Property: AppUser.ConcurrencyStamp (string), 4], [Property: AppUser.CreatedDate (DateTime) Required, 5], [Property: AppUser.Email (string), 6], [Property: AppUser.EmailConfirmed (bool) Required, 7], [Property: AppUser.Facebook (string), 8], [Property: AppUser.FirstName (string), 9], [Property: AppUser.LastName (string), 10], [Property: AppUser.LockoutEnabled (bool) Required, 11], [Property: AppUser.LockoutEnd (DateTimeOffset?), 12], [Property: AppUser.NormalizedEmail (string), 13], [Property: AppUser.NormalizedUserName (string), 14], [Property: AppUser.PasswordHash (string), 15], [Property: AppUser.PhoneNumber (string), 16], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 17], [Property: AppUser.SecurityStamp (string), 18], [Property: AppUser.TwoFactorEnabled (bool) Required, 19], [Property: AppUser.UpdateDate (DateTime) Required, 20], [Property: AppUser.UserName (string), 21] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.Address, a.Avatar, a.ConcurrencyStamp, a.CreatedDate, a.Email, a.EmailConfirmed, a.Facebook, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UpdateDate, a.UserName
            FROM AppUser AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<int>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<DateTime>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<DateTimeOffset>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<DateTime>, ReaderColumn<object> }, 
        Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, AppUser>, 
        null, 
        null, 
        FoodShop.Persistence.ApplicationDbContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-04-16 10:51:16.970 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:51:16.970 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:51:16.971 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 10:51:16.971 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 10:51:16.971 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 10:51:16.972 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='HIEUDEV623@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-04-16 10:51:16.977 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='HIEUDEV623@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-04-16 10:51:17.002 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 10:51:17.002 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 0ms reading results.
2024-04-16 10:51:17.002 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:51:17.003 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 10:51:25.620 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-04-16 10:51:25.688 +07:00 [DBG] No information found on request to perform content negotiation.
2024-04-16 10:51:25.704 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-04-16 10:51:25.738 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-04-16 10:51:25.740 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-04-16 10:51:25.741 +07:00 [INF] Executing OkObjectResult, writing value of type 'FoodShop.Contract.Abstraction.Shared.Result`1[[FoodShop.Contract.DataTransferObjects.Respone.V1.UserAuthResponse, FoodShop.Contract, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-04-16 10:51:33.242 +07:00 [INF] Executed action FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation) in 31429.0253ms
2024-04-16 10:51:33.243 +07:00 [INF] Executed endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)'
2024-04-16 10:51:34.562 +07:00 [DBG] 'ApplicationDbContext' disposed.
2024-04-16 10:51:34.568 +07:00 [DBG] Disposing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:51:34.569 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-04-16 10:51:34.569 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7286/api/v1/Authentication/register - 200 null application/json; charset=utf-8; ver=1 32876.4596ms
2024-04-16 10:53:01.962 +07:00 [DBG] HttpMessageHandler expired after 120000ms for client ''
2024-04-16 10:53:06.721 +07:00 [DBG] HttpMessageHandler expired after 120000ms for client 'MailTrapApiClient'
2024-04-16 10:53:11.967 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 10:53:11.972 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0948ms - processed: 0 items - remaining: 2 items
2024-04-16 10:53:21.978 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 10:53:21.979 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0058ms - processed: 0 items - remaining: 2 items
2024-04-16 10:53:31.992 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 10:53:31.994 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0093ms - processed: 0 items - remaining: 2 items
2024-04-16 10:53:41.996 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 10:53:41.997 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0052ms - processed: 0 items - remaining: 2 items
2024-04-16 10:53:52.009 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 10:53:52.009 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0055ms - processed: 0 items - remaining: 2 items
2024-04-16 10:54:02.015 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 10:54:02.015 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0064ms - processed: 0 items - remaining: 2 items
2024-04-16 10:54:12.019 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 10:54:12.020 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0078ms - processed: 0 items - remaining: 2 items
2024-04-16 10:54:22.035 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 10:54:22.035 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.008ms - processed: 0 items - remaining: 2 items
2024-04-16 10:54:32.042 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 10:54:32.042 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.116ms - processed: 0 items - remaining: 2 items
2024-04-16 10:54:42.048 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 10:54:42.049 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0061ms - processed: 0 items - remaining: 2 items
2024-04-16 10:54:52.056 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 10:54:52.057 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0055ms - processed: 0 items - remaining: 2 items
2024-04-16 10:55:02.062 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 10:55:02.063 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0728ms - processed: 0 items - remaining: 2 items
2024-04-16 10:55:04.689 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7286/api/v1/Authentication/register - application/json; ver=1.0 164
2024-04-16 10:55:04.707 +07:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Authentication/register'
2024-04-16 10:55:04.710 +07:00 [DBG] Endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)' with route pattern 'api/v{version:apiVersion}/Authentication/register' is valid for the request path '/api/v1/Authentication/register'
2024-04-16 10:55:04.712 +07:00 [DBG] Request matched endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)'
2024-04-16 10:55:04.713 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-16 10:55:04.714 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-04-16 10:55:08.308 +07:00 [INF] Start request......!
2024-04-16 10:55:08.311 +07:00 [INF] Executing endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)'
2024-04-16 10:55:08.311 +07:00 [INF] Route matched with {action = "Register", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest) on controller FoodShop.Presentation.Controllers.V1.AuthenticationController (FoodShop.Presentation).
2024-04-16 10:55:08.312 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-04-16 10:55:08.312 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-04-16 10:55:08.313 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)","Asp.Versioning.ApplyContentTypeVersionActionFilter"]
2024-04-16 10:55:08.313 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-04-16 10:55:08.313 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-04-16 10:55:08.314 +07:00 [DBG] Executing controller factory for controller FoodShop.Presentation.Controllers.V1.AuthenticationController (FoodShop.Presentation)
2024-04-16 10:55:08.320 +07:00 [DBG] Executed controller factory for controller FoodShop.Presentation.Controllers.V1.AuthenticationController (FoodShop.Presentation)
2024-04-16 10:55:08.321 +07:00 [DBG] Attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest' ...
2024-04-16 10:55:08.322 +07:00 [DBG] Attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest' using the name '' in request data ...
2024-04-16 10:55:08.324 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json; ver=1.0'.
2024-04-16 10:55:08.324 +07:00 [DBG] Connection id "0HN2TP1H3L4RN", Request id "0HN2TP1H3L4RN:0000000B": started reading request body.
2024-04-16 10:55:08.325 +07:00 [DBG] Connection id "0HN2TP1H3L4RN", Request id "0HN2TP1H3L4RN:0000000B": done reading request body.
2024-04-16 10:55:08.326 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'
2024-04-16 10:55:08.326 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'.
2024-04-16 10:55:08.327 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'.
2024-04-16 10:55:08.327 +07:00 [DBG] Attempting to validate the bound parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest' ...
2024-04-16 10:55:08.328 +07:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'.
2024-04-16 10:55:08.685 +07:00 [DBG] Entity Framework Core 8.0.4 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.3' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using lazy loading proxies QuerySplittingBehavior=SplitQuery MigrationsAssembly=FoodShop.Persistence 
2024-04-16 10:55:08.687 +07:00 [DBG] Creating DbConnection.
2024-04-16 10:55:08.687 +07:00 [DBG] Created DbConnection. (0ms).
2024-04-16 10:55:08.687 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:55:08.688 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:55:08.688 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 10:55:08.688 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 10:55:08.688 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 10:55:08.689 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 10:55:08.695 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 10:55:08.702 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 10:55:08.702 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 0ms reading results.
2024-04-16 10:55:08.702 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:55:08.703 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 10:55:08.705 +07:00 [DBG] 'ApplicationDbContext' generated value '"b5f5ae70-3faf-45d3-ed69-08dc5dc8715d"' for the property 'AppUser.Id'.
2024-04-16 10:55:08.706 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'AppUser' entity with key '{Id: b5f5ae70-3faf-45d3-ed69-08dc5dc8715d}'.
2024-04-16 10:55:08.706 +07:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-04-16 10:55:08.706 +07:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-04-16 10:55:08.707 +07:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-04-16 10:55:08.708 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:55:08.709 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:55:08.709 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 10:55:08.709 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 10:55:08.709 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 10:55:08.710 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='b5f5ae70-3faf-45d3-ed69-08dc5dc8715d', @p1='0', @p2=NULL (Size = 4000), @p3=NULL (Size = 4000), @p4='63fd1909-546e-4cef-9bcb-9ee013b3a41e' (Size = 4000), @p5='0001-01-01T00:00:00.0000000', @p6='anhhieuqtqtqt@gmail.com' (Size = 4000), @p7='False', @p8=NULL (Size = 4000), @p9='string' (Size = 4000), @p10='string' (Size = 4000), @p11='True', @p12=NULL (DbType = DateTimeOffset), @p13='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000), @p14='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000), @p15='AQAAAAIAAYagAAAAENueGq71P3InrRw2quJvBoly3lHhNbs7e6uZ58yaIeuVDUoE0CkTF4FjP7R1Q6sk+g==' (Size = 4000), @p16='string' (Size = 4000), @p17='False', @p18='P3TLCLLNSGGUWDG2NEBUDXR5GEEL57DH' (Size = 4000), @p19='False', @p20='0001-01-01T00:00:00.0000000', @p21='anhhieuqtqtqt@gmail.com' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AppUser] ([Id], [AccessFailedCount], [Address], [Avatar], [ConcurrencyStamp], [CreatedDate], [Email], [EmailConfirmed], [Facebook], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UpdateDate], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21);
2024-04-16 10:55:08.726 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[@p0='b5f5ae70-3faf-45d3-ed69-08dc5dc8715d', @p1='0', @p2=NULL (Size = 4000), @p3=NULL (Size = 4000), @p4='63fd1909-546e-4cef-9bcb-9ee013b3a41e' (Size = 4000), @p5='0001-01-01T00:00:00.0000000', @p6='anhhieuqtqtqt@gmail.com' (Size = 4000), @p7='False', @p8=NULL (Size = 4000), @p9='string' (Size = 4000), @p10='string' (Size = 4000), @p11='True', @p12=NULL (DbType = DateTimeOffset), @p13='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000), @p14='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000), @p15='AQAAAAIAAYagAAAAENueGq71P3InrRw2quJvBoly3lHhNbs7e6uZ58yaIeuVDUoE0CkTF4FjP7R1Q6sk+g==' (Size = 4000), @p16='string' (Size = 4000), @p17='False', @p18='P3TLCLLNSGGUWDG2NEBUDXR5GEEL57DH' (Size = 4000), @p19='False', @p20='0001-01-01T00:00:00.0000000', @p21='anhhieuqtqtqt@gmail.com' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AppUser] ([Id], [AccessFailedCount], [Address], [Avatar], [ConcurrencyStamp], [CreatedDate], [Email], [EmailConfirmed], [Facebook], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UpdateDate], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21);
2024-04-16 10:55:08.727 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 10:55:08.727 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 0ms reading results.
2024-04-16 10:55:08.727 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:55:08.727 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 10:55:08.728 +07:00 [DBG] The 'AppUser' entity with key '{Id: b5f5ae70-3faf-45d3-ed69-08dc5dc8715d}' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'.
2024-04-16 10:55:08.729 +07:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-04-16 10:55:08.730 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:55:08.730 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:55:08.731 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 10:55:08.731 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 10:55:08.733 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-04-16 10:55:08.733 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 10:55:08.737 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 10:55:08.738 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'AppRole' entity with key '{Id: 1ddacd3b-495b-4144-b828-3c9740ba1651}'.
2024-04-16 10:55:08.739 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 10:55:08.740 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 2ms reading results.
2024-04-16 10:55:08.741 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:55:08.741 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 10:55:08.743 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:55:08.743 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:55:08.744 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 10:55:08.744 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 10:55:08.744 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 10:55:08.744 +07:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='b5f5ae70-3faf-45d3-ed69-08dc5dc8715d' (Nullable = true), @__get_Item_1='1ddacd3b-495b-4144-b828-3c9740ba1651' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[RoleId], [a].[UserId]
FROM [AppUserRole] AS [a]
WHERE [a].[RoleId] = @__get_Item_0 AND [a].[UserId] = @__get_Item_1
2024-04-16 10:55:08.748 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='b5f5ae70-3faf-45d3-ed69-08dc5dc8715d' (Nullable = true), @__get_Item_1='1ddacd3b-495b-4144-b828-3c9740ba1651' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[RoleId], [a].[UserId]
FROM [AppUserRole] AS [a]
WHERE [a].[RoleId] = @__get_Item_0 AND [a].[UserId] = @__get_Item_1
2024-04-16 10:55:08.749 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 10:55:08.749 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 0ms reading results.
2024-04-16 10:55:08.750 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:55:08.750 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 10:55:08.750 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:55:08.751 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:55:08.751 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 10:55:08.751 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 10:55:08.751 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 10:55:08.751 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 10:55:08.754 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 10:55:08.755 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 10:55:08.755 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 0ms reading results.
2024-04-16 10:55:08.755 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:55:08.756 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 10:55:08.756 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityUserRole' entity with key '{RoleId: 1ddacd3b-495b-4144-b828-3c9740ba1651, UserId: b5f5ae70-3faf-45d3-ed69-08dc5dc8715d}'.
2024-04-16 10:55:08.757 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:55:08.757 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:55:08.758 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 10:55:08.758 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 10:55:08.758 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 10:55:08.758 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 10:55:08.760 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 10:55:08.761 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 10:55:08.762 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 0ms reading results.
2024-04-16 10:55:08.762 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:55:08.762 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 10:55:08.763 +07:00 [DBG] The 'AppUser' entity with key '{Id: b5f5ae70-3faf-45d3-ed69-08dc5dc8715d}' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'.
2024-04-16 10:55:08.763 +07:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-04-16 10:55:08.763 +07:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-04-16 10:55:08.764 +07:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-04-16 10:55:08.764 +07:00 [DBG] Executing 2 update commands as a batch.
2024-04-16 10:55:08.765 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:55:08.765 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:55:08.765 +07:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-04-16 10:55:08.766 +07:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-04-16 10:55:08.766 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 10:55:08.766 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 10:55:08.767 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 10:55:08.767 +07:00 [DBG] Executing DbCommand [Parameters=[@p21='b5f5ae70-3faf-45d3-ed69-08dc5dc8715d', @p0='0', @p1=NULL (Size = 4000), @p2=NULL (Size = 4000), @p3='7bfc454b-8290-426b-9ba2-1046bb315aa7' (Size = 4000), @p4='0001-01-01T00:00:00.0000000', @p5='anhhieuqtqtqt@gmail.com' (Size = 4000), @p6='False', @p7=NULL (Size = 4000), @p8='string' (Size = 4000), @p9='string' (Size = 4000), @p10='True', @p11=NULL (DbType = DateTimeOffset), @p12='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000), @p13='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000), @p14='AQAAAAIAAYagAAAAENueGq71P3InrRw2quJvBoly3lHhNbs7e6uZ58yaIeuVDUoE0CkTF4FjP7R1Q6sk+g==' (Size = 4000), @p15='string' (Size = 4000), @p16='False', @p17='P3TLCLLNSGGUWDG2NEBUDXR5GEEL57DH' (Size = 4000), @p18='False', @p19='0001-01-01T00:00:00.0000000', @p20='anhhieuqtqtqt@gmail.com' (Size = 4000), @p22='1ddacd3b-495b-4144-b828-3c9740ba1651', @p23='b5f5ae70-3faf-45d3-ed69-08dc5dc8715d'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AppUser] SET [AccessFailedCount] = @p0, [Address] = @p1, [Avatar] = @p2, [ConcurrencyStamp] = @p3, [CreatedDate] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [Facebook] = @p7, [FirstName] = @p8, [LastName] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [SecurityStamp] = @p17, [TwoFactorEnabled] = @p18, [UpdateDate] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21;
INSERT INTO [AppUserRole] ([RoleId], [UserId])
VALUES (@p22, @p23);
2024-04-16 10:55:08.773 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@p21='b5f5ae70-3faf-45d3-ed69-08dc5dc8715d', @p0='0', @p1=NULL (Size = 4000), @p2=NULL (Size = 4000), @p3='7bfc454b-8290-426b-9ba2-1046bb315aa7' (Size = 4000), @p4='0001-01-01T00:00:00.0000000', @p5='anhhieuqtqtqt@gmail.com' (Size = 4000), @p6='False', @p7=NULL (Size = 4000), @p8='string' (Size = 4000), @p9='string' (Size = 4000), @p10='True', @p11=NULL (DbType = DateTimeOffset), @p12='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000), @p13='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000), @p14='AQAAAAIAAYagAAAAENueGq71P3InrRw2quJvBoly3lHhNbs7e6uZ58yaIeuVDUoE0CkTF4FjP7R1Q6sk+g==' (Size = 4000), @p15='string' (Size = 4000), @p16='False', @p17='P3TLCLLNSGGUWDG2NEBUDXR5GEEL57DH' (Size = 4000), @p18='False', @p19='0001-01-01T00:00:00.0000000', @p20='anhhieuqtqtqt@gmail.com' (Size = 4000), @p22='1ddacd3b-495b-4144-b828-3c9740ba1651', @p23='b5f5ae70-3faf-45d3-ed69-08dc5dc8715d'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AppUser] SET [AccessFailedCount] = @p0, [Address] = @p1, [Avatar] = @p2, [ConcurrencyStamp] = @p3, [CreatedDate] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [Facebook] = @p7, [FirstName] = @p8, [LastName] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [SecurityStamp] = @p17, [TwoFactorEnabled] = @p18, [UpdateDate] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21;
INSERT INTO [AppUserRole] ([RoleId], [UserId])
VALUES (@p22, @p23);
2024-04-16 10:55:08.775 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 10:55:08.775 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 0ms reading results.
2024-04-16 10:55:08.776 +07:00 [DBG] Committing transaction.
2024-04-16 10:55:08.776 +07:00 [DBG] Committed transaction.
2024-04-16 10:55:08.777 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:55:08.777 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 10:55:08.777 +07:00 [DBG] Disposing transaction.
2024-04-16 10:55:08.778 +07:00 [DBG] The 'IdentityUserRole' entity with key '{RoleId: 1ddacd3b-495b-4144-b828-3c9740ba1651, UserId: b5f5ae70-3faf-45d3-ed69-08dc5dc8715d}' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'.
2024-04-16 10:55:08.778 +07:00 [DBG] The 'AppUser' entity with key '{Id: b5f5ae70-3faf-45d3-ed69-08dc5dc8715d}' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'.
2024-04-16 10:55:08.778 +07:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 2 entities written to the database.
2024-04-16 10:55:10.655 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:55:10.656 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:55:10.657 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 10:55:10.658 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 10:55:10.658 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-04-16 10:55:10.659 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-04-16 10:55:10.668 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedEmail_0='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-04-16 10:55:10.669 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 10:55:10.670 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 0ms reading results.
2024-04-16 10:55:10.671 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:55:10.671 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 10:55:10.756 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-04-16 10:55:10.770 +07:00 [DBG] No information found on request to perform content negotiation.
2024-04-16 10:55:10.770 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-04-16 10:55:10.770 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-04-16 10:55:10.771 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-04-16 10:55:10.772 +07:00 [INF] Executing OkObjectResult, writing value of type 'FoodShop.Contract.Abstraction.Shared.Result`1[[FoodShop.Contract.DataTransferObjects.Respone.V1.UserAuthResponse, FoodShop.Contract, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-04-16 10:55:10.773 +07:00 [INF] Executed action FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation) in 2458.6084ms
2024-04-16 10:55:10.773 +07:00 [INF] Executed endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)'
2024-04-16 10:55:10.773 +07:00 [DBG] 'ApplicationDbContext' disposed.
2024-04-16 10:55:10.774 +07:00 [DBG] Disposing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:55:10.774 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-04-16 10:55:10.774 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7286/api/v1/Authentication/register - 200 null application/json; charset=utf-8; ver=1 6085.1144ms
2024-04-16 10:55:12.070 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 10:55:12.071 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.3594ms - processed: 2 items - remaining: 0 items
2024-04-16 10:56:05.496 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7286/api/v1/Authentication/register - application/json; ver=1.0 164
2024-04-16 10:56:05.501 +07:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Authentication/register'
2024-04-16 10:56:05.501 +07:00 [DBG] Endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)' with route pattern 'api/v{version:apiVersion}/Authentication/register' is valid for the request path '/api/v1/Authentication/register'
2024-04-16 10:56:05.503 +07:00 [DBG] Request matched endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)'
2024-04-16 10:56:05.509 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-16 10:56:05.510 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-04-16 10:56:05.511 +07:00 [INF] Start request......!
2024-04-16 10:56:05.511 +07:00 [INF] Executing endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)'
2024-04-16 10:56:05.516 +07:00 [INF] Route matched with {action = "Register", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest) on controller FoodShop.Presentation.Controllers.V1.AuthenticationController (FoodShop.Presentation).
2024-04-16 10:56:05.517 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-04-16 10:56:05.518 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-04-16 10:56:05.518 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)","Asp.Versioning.ApplyContentTypeVersionActionFilter"]
2024-04-16 10:56:05.519 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-04-16 10:56:05.519 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-04-16 10:56:05.519 +07:00 [DBG] Executing controller factory for controller FoodShop.Presentation.Controllers.V1.AuthenticationController (FoodShop.Presentation)
2024-04-16 10:56:05.538 +07:00 [DBG] Executed controller factory for controller FoodShop.Presentation.Controllers.V1.AuthenticationController (FoodShop.Presentation)
2024-04-16 10:56:05.539 +07:00 [DBG] Attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest' ...
2024-04-16 10:56:05.539 +07:00 [DBG] Attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest' using the name '' in request data ...
2024-04-16 10:56:05.540 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json; ver=1.0'.
2024-04-16 10:56:05.541 +07:00 [DBG] Connection id "0HN2TP1H3L4RN", Request id "0HN2TP1H3L4RN:0000000D": started reading request body.
2024-04-16 10:56:05.542 +07:00 [DBG] Connection id "0HN2TP1H3L4RN", Request id "0HN2TP1H3L4RN:0000000D": done reading request body.
2024-04-16 10:56:05.544 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'
2024-04-16 10:56:05.544 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'.
2024-04-16 10:56:05.545 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'.
2024-04-16 10:56:05.545 +07:00 [DBG] Attempting to validate the bound parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest' ...
2024-04-16 10:56:05.547 +07:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'.
2024-04-16 10:56:07.823 +07:00 [DBG] Entity Framework Core 8.0.4 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.3' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using lazy loading proxies QuerySplittingBehavior=SplitQuery MigrationsAssembly=FoodShop.Persistence 
2024-04-16 10:56:07.824 +07:00 [DBG] Creating DbConnection.
2024-04-16 10:56:07.825 +07:00 [DBG] Created DbConnection. (0ms).
2024-04-16 10:56:07.825 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:56:07.825 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:56:07.825 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 10:56:07.826 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 10:56:07.826 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 10:56:07.826 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 10:56:07.830 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 10:56:07.831 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 10:56:07.832 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 1ms reading results.
2024-04-16 10:56:07.833 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:56:07.833 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 10:56:07.833 +07:00 [DBG] 'ApplicationDbContext' generated value '"c3591058-0a9e-4ebc-ed6a-08dc5dc8715d"' for the property 'AppUser.Id'.
2024-04-16 10:56:07.855 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'AppUser' entity with key '{Id: c3591058-0a9e-4ebc-ed6a-08dc5dc8715d}'.
2024-04-16 10:56:07.857 +07:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-04-16 10:56:07.857 +07:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-04-16 10:56:07.857 +07:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-04-16 10:56:07.859 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:56:07.859 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:56:07.859 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 10:56:07.860 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 10:56:07.860 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 10:56:07.860 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='c3591058-0a9e-4ebc-ed6a-08dc5dc8715d', @p1='0', @p2=NULL (Size = 4000), @p3=NULL (Size = 4000), @p4='b96af6de-aaf6-42bb-aec5-2abf39d99eb9' (Size = 4000), @p5='0001-01-01T00:00:00.0000000', @p6='anhhieuqtqtqt@gmail.com' (Size = 4000), @p7='False', @p8=NULL (Size = 4000), @p9='string' (Size = 4000), @p10='string' (Size = 4000), @p11='True', @p12=NULL (DbType = DateTimeOffset), @p13='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000), @p14='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000), @p15='AQAAAAIAAYagAAAAEF8QBA3ofk5yCYACTofycbaKjhVebjdp1fSDxrUUtlVpUdlGnj5p8Q9VQqeOBvVqKg==' (Size = 4000), @p16='string' (Size = 4000), @p17='False', @p18='RDDTGZUZT3GP2CODJN3PSCRHGVZGCW2X' (Size = 4000), @p19='False', @p20='0001-01-01T00:00:00.0000000', @p21='anhhieuqtqtqt@gmail.com' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AppUser] ([Id], [AccessFailedCount], [Address], [Avatar], [ConcurrencyStamp], [CreatedDate], [Email], [EmailConfirmed], [Facebook], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UpdateDate], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21);
2024-04-16 10:56:07.864 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='c3591058-0a9e-4ebc-ed6a-08dc5dc8715d', @p1='0', @p2=NULL (Size = 4000), @p3=NULL (Size = 4000), @p4='b96af6de-aaf6-42bb-aec5-2abf39d99eb9' (Size = 4000), @p5='0001-01-01T00:00:00.0000000', @p6='anhhieuqtqtqt@gmail.com' (Size = 4000), @p7='False', @p8=NULL (Size = 4000), @p9='string' (Size = 4000), @p10='string' (Size = 4000), @p11='True', @p12=NULL (DbType = DateTimeOffset), @p13='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000), @p14='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000), @p15='AQAAAAIAAYagAAAAEF8QBA3ofk5yCYACTofycbaKjhVebjdp1fSDxrUUtlVpUdlGnj5p8Q9VQqeOBvVqKg==' (Size = 4000), @p16='string' (Size = 4000), @p17='False', @p18='RDDTGZUZT3GP2CODJN3PSCRHGVZGCW2X' (Size = 4000), @p19='False', @p20='0001-01-01T00:00:00.0000000', @p21='anhhieuqtqtqt@gmail.com' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AppUser] ([Id], [AccessFailedCount], [Address], [Avatar], [ConcurrencyStamp], [CreatedDate], [Email], [EmailConfirmed], [Facebook], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UpdateDate], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21);
2024-04-16 10:56:07.865 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 10:56:07.866 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 0ms reading results.
2024-04-16 10:56:07.866 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:56:07.866 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 10:56:07.867 +07:00 [DBG] The 'AppUser' entity with key '{Id: c3591058-0a9e-4ebc-ed6a-08dc5dc8715d}' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'.
2024-04-16 10:56:07.867 +07:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-04-16 10:56:09.372 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:56:09.372 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:56:09.372 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 10:56:09.373 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 10:56:09.373 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 10:56:09.373 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 10:56:09.402 +07:00 [INF] Executed DbCommand (29ms) [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 10:56:09.403 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'AppRole' entity with key '{Id: 1ddacd3b-495b-4144-b828-3c9740ba1651}'.
2024-04-16 10:56:09.403 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 10:56:09.403 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 0ms reading results.
2024-04-16 10:56:09.403 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:56:09.404 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 10:56:09.405 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:56:09.406 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:56:09.406 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 10:56:09.406 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 10:56:09.407 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 10:56:09.407 +07:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='c3591058-0a9e-4ebc-ed6a-08dc5dc8715d' (Nullable = true), @__get_Item_1='1ddacd3b-495b-4144-b828-3c9740ba1651' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[RoleId], [a].[UserId]
FROM [AppUserRole] AS [a]
WHERE [a].[RoleId] = @__get_Item_0 AND [a].[UserId] = @__get_Item_1
2024-04-16 10:56:09.411 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='c3591058-0a9e-4ebc-ed6a-08dc5dc8715d' (Nullable = true), @__get_Item_1='1ddacd3b-495b-4144-b828-3c9740ba1651' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[RoleId], [a].[UserId]
FROM [AppUserRole] AS [a]
WHERE [a].[RoleId] = @__get_Item_0 AND [a].[UserId] = @__get_Item_1
2024-04-16 10:56:09.413 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 10:56:09.413 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 0ms reading results.
2024-04-16 10:56:09.413 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:56:09.413 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 10:56:09.414 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:56:09.414 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:56:09.414 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 10:56:09.414 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 10:56:09.414 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 10:56:09.415 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 10:56:09.416 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 10:56:09.417 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 10:56:09.417 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 0ms reading results.
2024-04-16 10:56:09.417 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:56:09.417 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 10:56:09.418 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityUserRole' entity with key '{RoleId: 1ddacd3b-495b-4144-b828-3c9740ba1651, UserId: c3591058-0a9e-4ebc-ed6a-08dc5dc8715d}'.
2024-04-16 10:56:09.419 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:56:09.419 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:56:09.420 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 10:56:09.420 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 10:56:09.420 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 10:56:09.420 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 10:56:09.422 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 10:56:09.422 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 10:56:09.423 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 0ms reading results.
2024-04-16 10:56:09.423 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:56:09.423 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 10:56:09.424 +07:00 [DBG] The 'AppUser' entity with key '{Id: c3591058-0a9e-4ebc-ed6a-08dc5dc8715d}' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'.
2024-04-16 10:56:09.424 +07:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-04-16 10:56:09.424 +07:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-04-16 10:56:09.424 +07:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-04-16 10:56:09.427 +07:00 [DBG] Executing 2 update commands as a batch.
2024-04-16 10:56:09.429 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:56:09.430 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:56:09.431 +07:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-04-16 10:56:09.432 +07:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-04-16 10:56:09.432 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 10:56:09.435 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-04-16 10:56:09.435 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-04-16 10:56:09.435 +07:00 [DBG] Executing DbCommand [Parameters=[@p21='c3591058-0a9e-4ebc-ed6a-08dc5dc8715d', @p0='0', @p1=NULL (Size = 4000), @p2=NULL (Size = 4000), @p3='a3187a14-508a-4093-9b98-029dd3776284' (Size = 4000), @p4='0001-01-01T00:00:00.0000000', @p5='anhhieuqtqtqt@gmail.com' (Size = 4000), @p6='False', @p7=NULL (Size = 4000), @p8='string' (Size = 4000), @p9='string' (Size = 4000), @p10='True', @p11=NULL (DbType = DateTimeOffset), @p12='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000), @p13='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000), @p14='AQAAAAIAAYagAAAAEF8QBA3ofk5yCYACTofycbaKjhVebjdp1fSDxrUUtlVpUdlGnj5p8Q9VQqeOBvVqKg==' (Size = 4000), @p15='string' (Size = 4000), @p16='False', @p17='RDDTGZUZT3GP2CODJN3PSCRHGVZGCW2X' (Size = 4000), @p18='False', @p19='0001-01-01T00:00:00.0000000', @p20='anhhieuqtqtqt@gmail.com' (Size = 4000), @p22='1ddacd3b-495b-4144-b828-3c9740ba1651', @p23='c3591058-0a9e-4ebc-ed6a-08dc5dc8715d'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AppUser] SET [AccessFailedCount] = @p0, [Address] = @p1, [Avatar] = @p2, [ConcurrencyStamp] = @p3, [CreatedDate] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [Facebook] = @p7, [FirstName] = @p8, [LastName] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [SecurityStamp] = @p17, [TwoFactorEnabled] = @p18, [UpdateDate] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21;
INSERT INTO [AppUserRole] ([RoleId], [UserId])
VALUES (@p22, @p23);
2024-04-16 10:56:09.445 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@p21='c3591058-0a9e-4ebc-ed6a-08dc5dc8715d', @p0='0', @p1=NULL (Size = 4000), @p2=NULL (Size = 4000), @p3='a3187a14-508a-4093-9b98-029dd3776284' (Size = 4000), @p4='0001-01-01T00:00:00.0000000', @p5='anhhieuqtqtqt@gmail.com' (Size = 4000), @p6='False', @p7=NULL (Size = 4000), @p8='string' (Size = 4000), @p9='string' (Size = 4000), @p10='True', @p11=NULL (DbType = DateTimeOffset), @p12='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000), @p13='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000), @p14='AQAAAAIAAYagAAAAEF8QBA3ofk5yCYACTofycbaKjhVebjdp1fSDxrUUtlVpUdlGnj5p8Q9VQqeOBvVqKg==' (Size = 4000), @p15='string' (Size = 4000), @p16='False', @p17='RDDTGZUZT3GP2CODJN3PSCRHGVZGCW2X' (Size = 4000), @p18='False', @p19='0001-01-01T00:00:00.0000000', @p20='anhhieuqtqtqt@gmail.com' (Size = 4000), @p22='1ddacd3b-495b-4144-b828-3c9740ba1651', @p23='c3591058-0a9e-4ebc-ed6a-08dc5dc8715d'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AppUser] SET [AccessFailedCount] = @p0, [Address] = @p1, [Avatar] = @p2, [ConcurrencyStamp] = @p3, [CreatedDate] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [Facebook] = @p7, [FirstName] = @p8, [LastName] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [SecurityStamp] = @p17, [TwoFactorEnabled] = @p18, [UpdateDate] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21;
INSERT INTO [AppUserRole] ([RoleId], [UserId])
VALUES (@p22, @p23);
2024-04-16 10:56:09.448 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 10:56:09.449 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 0ms reading results.
2024-04-16 10:56:09.449 +07:00 [DBG] Committing transaction.
2024-04-16 10:56:09.449 +07:00 [DBG] Committed transaction.
2024-04-16 10:56:09.450 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:56:09.450 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 10:56:09.450 +07:00 [DBG] Disposing transaction.
2024-04-16 10:56:09.450 +07:00 [DBG] The 'IdentityUserRole' entity with key '{RoleId: 1ddacd3b-495b-4144-b828-3c9740ba1651, UserId: c3591058-0a9e-4ebc-ed6a-08dc5dc8715d}' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'.
2024-04-16 10:56:09.451 +07:00 [DBG] The 'AppUser' entity with key '{Id: c3591058-0a9e-4ebc-ed6a-08dc5dc8715d}' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'.
2024-04-16 10:56:09.451 +07:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 2 entities written to the database.
2024-04-16 10:56:48.351 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:56:48.352 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:56:48.352 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 10:56:48.352 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 10:56:48.352 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 10:56:48.352 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-04-16 10:56:48.356 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-04-16 10:56:48.360 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 10:56:48.361 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 1ms reading results.
2024-04-16 10:56:48.456 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:56:48.457 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 10:57:05.201 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-04-16 10:57:05.202 +07:00 [DBG] No information found on request to perform content negotiation.
2024-04-16 10:57:05.202 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-04-16 10:57:05.202 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-04-16 10:57:05.202 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-04-16 10:57:05.202 +07:00 [INF] Executing OkObjectResult, writing value of type 'FoodShop.Contract.Abstraction.Shared.Result`1[[FoodShop.Contract.DataTransferObjects.Respone.V1.UserAuthResponse, FoodShop.Contract, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-04-16 10:57:08.415 +07:00 [DBG] HttpMessageHandler expired after 120000ms for client ''
2024-04-16 10:57:08.888 +07:00 [DBG] HttpMessageHandler expired after 120000ms for client 'MailTrapApiClient'
2024-04-16 10:57:15.611 +07:00 [INF] Executed action FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation) in 70092.2468ms
2024-04-16 10:57:15.612 +07:00 [INF] Executed endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)'
2024-04-16 10:57:18.231 +07:00 [DBG] 'ApplicationDbContext' disposed.
2024-04-16 10:57:18.232 +07:00 [DBG] Disposing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:57:18.232 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-04-16 10:57:18.233 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7286/api/v1/Authentication/register - 200 null application/json; charset=utf-8; ver=1 72742.06ms
2024-04-16 10:57:18.430 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 10:57:18.434 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0136ms - processed: 0 items - remaining: 2 items
2024-04-16 10:57:28.442 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 10:57:28.443 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0053ms - processed: 0 items - remaining: 2 items
2024-04-16 10:57:38.445 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 10:57:38.446 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0745ms - processed: 0 items - remaining: 2 items
2024-04-16 10:57:48.455 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 10:57:48.456 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0249ms - processed: 0 items - remaining: 2 items
2024-04-16 10:57:58.463 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 10:57:58.463 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0036ms - processed: 0 items - remaining: 2 items
2024-04-16 10:58:08.466 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 10:58:08.466 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0092ms - processed: 0 items - remaining: 2 items
2024-04-16 10:58:13.095 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7286/api/v1/Authentication/register - application/json; ver=1.0 161
2024-04-16 10:58:13.109 +07:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Authentication/register'
2024-04-16 10:58:13.110 +07:00 [DBG] Endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)' with route pattern 'api/v{version:apiVersion}/Authentication/register' is valid for the request path '/api/v1/Authentication/register'
2024-04-16 10:58:13.113 +07:00 [DBG] Request matched endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)'
2024-04-16 10:58:13.120 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-16 10:58:13.123 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-04-16 10:58:17.366 +07:00 [INF] Start request......!
2024-04-16 10:58:17.562 +07:00 [INF] Executing endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)'
2024-04-16 10:58:17.576 +07:00 [INF] Route matched with {action = "Register", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest) on controller FoodShop.Presentation.Controllers.V1.AuthenticationController (FoodShop.Presentation).
2024-04-16 10:58:17.577 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-04-16 10:58:17.578 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-04-16 10:58:17.579 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)","Asp.Versioning.ApplyContentTypeVersionActionFilter"]
2024-04-16 10:58:17.580 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-04-16 10:58:17.580 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-04-16 10:58:17.581 +07:00 [DBG] Executing controller factory for controller FoodShop.Presentation.Controllers.V1.AuthenticationController (FoodShop.Presentation)
2024-04-16 10:58:17.582 +07:00 [DBG] Executed controller factory for controller FoodShop.Presentation.Controllers.V1.AuthenticationController (FoodShop.Presentation)
2024-04-16 10:58:17.583 +07:00 [DBG] Attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest' ...
2024-04-16 10:58:17.583 +07:00 [DBG] Attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest' using the name '' in request data ...
2024-04-16 10:58:17.584 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json; ver=1.0'.
2024-04-16 10:58:17.585 +07:00 [DBG] Connection id "0HN2TP1H3L4RN", Request id "0HN2TP1H3L4RN:0000000F": started reading request body.
2024-04-16 10:58:17.586 +07:00 [DBG] Connection id "0HN2TP1H3L4RN", Request id "0HN2TP1H3L4RN:0000000F": done reading request body.
2024-04-16 10:58:17.588 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'
2024-04-16 10:58:17.589 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'.
2024-04-16 10:58:17.589 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'.
2024-04-16 10:58:17.589 +07:00 [DBG] Attempting to validate the bound parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest' ...
2024-04-16 10:58:17.592 +07:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'.
2024-04-16 10:58:18.370 +07:00 [DBG] Entity Framework Core 8.0.4 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.3' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using lazy loading proxies QuerySplittingBehavior=SplitQuery MigrationsAssembly=FoodShop.Persistence 
2024-04-16 10:58:18.371 +07:00 [DBG] Creating DbConnection.
2024-04-16 10:58:18.371 +07:00 [DBG] Created DbConnection. (0ms).
2024-04-16 10:58:18.371 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:58:18.371 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:58:18.372 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 10:58:18.372 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 10:58:18.372 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 10:58:18.372 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='HIEUDEV623@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 10:58:18.379 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedUserName_0='HIEUDEV623@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 10:58:18.402 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 10:58:18.403 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 1ms reading results.
2024-04-16 10:58:18.404 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:58:18.405 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 10:58:18.406 +07:00 [DBG] 'ApplicationDbContext' generated value '"39560983-2cd5-4a4c-ed6b-08dc5dc8715d"' for the property 'AppUser.Id'.
2024-04-16 10:58:18.406 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'AppUser' entity with key '{Id: 39560983-2cd5-4a4c-ed6b-08dc5dc8715d}'.
2024-04-16 10:58:18.407 +07:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-04-16 10:58:18.407 +07:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-04-16 10:58:18.408 +07:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-04-16 10:58:18.409 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:58:18.409 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:58:18.409 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 10:58:18.410 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 10:58:18.411 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-04-16 10:58:18.411 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='39560983-2cd5-4a4c-ed6b-08dc5dc8715d', @p1='0', @p2=NULL (Size = 4000), @p3=NULL (Size = 4000), @p4='6928d7ad-2387-4652-839b-0b0e0d859b12' (Size = 4000), @p5='0001-01-01T00:00:00.0000000', @p6='hieudev623@gmail.com' (Size = 4000), @p7='False', @p8=NULL (Size = 4000), @p9='string' (Size = 4000), @p10='string' (Size = 4000), @p11='True', @p12=NULL (DbType = DateTimeOffset), @p13='HIEUDEV623@GMAIL.COM' (Size = 4000), @p14='HIEUDEV623@GMAIL.COM' (Size = 4000), @p15='AQAAAAIAAYagAAAAEE1WeinHpba4yl465ko6cESNQ3jnnBys4qD/f5/q3a51QCZl6ymctrK+KPPDy+MHGA==' (Size = 4000), @p16='string' (Size = 4000), @p17='False', @p18='5R6ZQUCCRHO3U57TULWTWXTVVQ7C2BON' (Size = 4000), @p19='False', @p20='0001-01-01T00:00:00.0000000', @p21='hieudev623@gmail.com' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AppUser] ([Id], [AccessFailedCount], [Address], [Avatar], [ConcurrencyStamp], [CreatedDate], [Email], [EmailConfirmed], [Facebook], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UpdateDate], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21);
2024-04-16 10:58:18.417 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='39560983-2cd5-4a4c-ed6b-08dc5dc8715d', @p1='0', @p2=NULL (Size = 4000), @p3=NULL (Size = 4000), @p4='6928d7ad-2387-4652-839b-0b0e0d859b12' (Size = 4000), @p5='0001-01-01T00:00:00.0000000', @p6='hieudev623@gmail.com' (Size = 4000), @p7='False', @p8=NULL (Size = 4000), @p9='string' (Size = 4000), @p10='string' (Size = 4000), @p11='True', @p12=NULL (DbType = DateTimeOffset), @p13='HIEUDEV623@GMAIL.COM' (Size = 4000), @p14='HIEUDEV623@GMAIL.COM' (Size = 4000), @p15='AQAAAAIAAYagAAAAEE1WeinHpba4yl465ko6cESNQ3jnnBys4qD/f5/q3a51QCZl6ymctrK+KPPDy+MHGA==' (Size = 4000), @p16='string' (Size = 4000), @p17='False', @p18='5R6ZQUCCRHO3U57TULWTWXTVVQ7C2BON' (Size = 4000), @p19='False', @p20='0001-01-01T00:00:00.0000000', @p21='hieudev623@gmail.com' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AppUser] ([Id], [AccessFailedCount], [Address], [Avatar], [ConcurrencyStamp], [CreatedDate], [Email], [EmailConfirmed], [Facebook], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UpdateDate], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21);
2024-04-16 10:58:18.418 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 10:58:18.419 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 0ms reading results.
2024-04-16 10:58:18.419 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:58:18.420 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 10:58:18.420 +07:00 [DBG] The 'AppUser' entity with key '{Id: 39560983-2cd5-4a4c-ed6b-08dc5dc8715d}' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'.
2024-04-16 10:58:18.421 +07:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-04-16 10:58:18.850 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 10:58:18.851 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0065ms - processed: 0 items - remaining: 2 items
2024-04-16 10:58:19.770 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:58:19.771 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:58:19.772 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 10:58:19.772 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 10:58:19.772 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 10:58:19.773 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 10:58:19.785 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 10:58:19.832 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'AppRole' entity with key '{Id: 1ddacd3b-495b-4144-b828-3c9740ba1651}'.
2024-04-16 10:58:19.833 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 10:58:19.834 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 47ms reading results.
2024-04-16 10:58:19.835 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:58:19.835 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 10:58:19.837 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:58:19.837 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:58:19.838 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 10:58:19.838 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 10:58:19.839 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 10:58:19.839 +07:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='39560983-2cd5-4a4c-ed6b-08dc5dc8715d' (Nullable = true), @__get_Item_1='1ddacd3b-495b-4144-b828-3c9740ba1651' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[RoleId], [a].[UserId]
FROM [AppUserRole] AS [a]
WHERE [a].[RoleId] = @__get_Item_0 AND [a].[UserId] = @__get_Item_1
2024-04-16 10:58:19.845 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__get_Item_0='39560983-2cd5-4a4c-ed6b-08dc5dc8715d' (Nullable = true), @__get_Item_1='1ddacd3b-495b-4144-b828-3c9740ba1651' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[RoleId], [a].[UserId]
FROM [AppUserRole] AS [a]
WHERE [a].[RoleId] = @__get_Item_0 AND [a].[UserId] = @__get_Item_1
2024-04-16 10:58:19.856 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 10:58:19.857 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 1ms reading results.
2024-04-16 10:58:19.857 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:58:19.857 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 10:58:19.858 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:58:19.858 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:58:19.859 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 10:58:19.859 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 10:58:19.859 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 10:58:19.860 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 10:58:19.862 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 10:58:19.863 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 10:58:19.864 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 0ms reading results.
2024-04-16 10:58:19.864 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:58:19.864 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 10:58:19.865 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityUserRole' entity with key '{RoleId: 1ddacd3b-495b-4144-b828-3c9740ba1651, UserId: 39560983-2cd5-4a4c-ed6b-08dc5dc8715d}'.
2024-04-16 10:58:19.866 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:58:19.866 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:58:19.866 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 10:58:19.867 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 10:58:19.869 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-04-16 10:58:19.869 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='HIEUDEV623@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 10:58:19.872 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='HIEUDEV623@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 10:58:19.874 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 10:58:19.875 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 0ms reading results.
2024-04-16 10:58:19.875 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:58:19.875 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 10:58:19.876 +07:00 [DBG] The 'AppUser' entity with key '{Id: 39560983-2cd5-4a4c-ed6b-08dc5dc8715d}' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'.
2024-04-16 10:58:19.876 +07:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-04-16 10:58:19.876 +07:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-04-16 10:58:19.877 +07:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-04-16 10:58:19.878 +07:00 [DBG] Executing 2 update commands as a batch.
2024-04-16 10:58:19.878 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:58:19.878 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:58:19.879 +07:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-04-16 10:58:19.880 +07:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-04-16 10:58:19.880 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 10:58:19.880 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 10:58:19.881 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 10:58:19.881 +07:00 [DBG] Executing DbCommand [Parameters=[@p21='39560983-2cd5-4a4c-ed6b-08dc5dc8715d', @p0='0', @p1=NULL (Size = 4000), @p2=NULL (Size = 4000), @p3='b3f64279-920f-43ae-ba44-725d77d34365' (Size = 4000), @p4='0001-01-01T00:00:00.0000000', @p5='hieudev623@gmail.com' (Size = 4000), @p6='False', @p7=NULL (Size = 4000), @p8='string' (Size = 4000), @p9='string' (Size = 4000), @p10='True', @p11=NULL (DbType = DateTimeOffset), @p12='HIEUDEV623@GMAIL.COM' (Size = 4000), @p13='HIEUDEV623@GMAIL.COM' (Size = 4000), @p14='AQAAAAIAAYagAAAAEE1WeinHpba4yl465ko6cESNQ3jnnBys4qD/f5/q3a51QCZl6ymctrK+KPPDy+MHGA==' (Size = 4000), @p15='string' (Size = 4000), @p16='False', @p17='5R6ZQUCCRHO3U57TULWTWXTVVQ7C2BON' (Size = 4000), @p18='False', @p19='0001-01-01T00:00:00.0000000', @p20='hieudev623@gmail.com' (Size = 4000), @p22='1ddacd3b-495b-4144-b828-3c9740ba1651', @p23='39560983-2cd5-4a4c-ed6b-08dc5dc8715d'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AppUser] SET [AccessFailedCount] = @p0, [Address] = @p1, [Avatar] = @p2, [ConcurrencyStamp] = @p3, [CreatedDate] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [Facebook] = @p7, [FirstName] = @p8, [LastName] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [SecurityStamp] = @p17, [TwoFactorEnabled] = @p18, [UpdateDate] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21;
INSERT INTO [AppUserRole] ([RoleId], [UserId])
VALUES (@p22, @p23);
2024-04-16 10:58:19.890 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@p21='39560983-2cd5-4a4c-ed6b-08dc5dc8715d', @p0='0', @p1=NULL (Size = 4000), @p2=NULL (Size = 4000), @p3='b3f64279-920f-43ae-ba44-725d77d34365' (Size = 4000), @p4='0001-01-01T00:00:00.0000000', @p5='hieudev623@gmail.com' (Size = 4000), @p6='False', @p7=NULL (Size = 4000), @p8='string' (Size = 4000), @p9='string' (Size = 4000), @p10='True', @p11=NULL (DbType = DateTimeOffset), @p12='HIEUDEV623@GMAIL.COM' (Size = 4000), @p13='HIEUDEV623@GMAIL.COM' (Size = 4000), @p14='AQAAAAIAAYagAAAAEE1WeinHpba4yl465ko6cESNQ3jnnBys4qD/f5/q3a51QCZl6ymctrK+KPPDy+MHGA==' (Size = 4000), @p15='string' (Size = 4000), @p16='False', @p17='5R6ZQUCCRHO3U57TULWTWXTVVQ7C2BON' (Size = 4000), @p18='False', @p19='0001-01-01T00:00:00.0000000', @p20='hieudev623@gmail.com' (Size = 4000), @p22='1ddacd3b-495b-4144-b828-3c9740ba1651', @p23='39560983-2cd5-4a4c-ed6b-08dc5dc8715d'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AppUser] SET [AccessFailedCount] = @p0, [Address] = @p1, [Avatar] = @p2, [ConcurrencyStamp] = @p3, [CreatedDate] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [Facebook] = @p7, [FirstName] = @p8, [LastName] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [SecurityStamp] = @p17, [TwoFactorEnabled] = @p18, [UpdateDate] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21;
INSERT INTO [AppUserRole] ([RoleId], [UserId])
VALUES (@p22, @p23);
2024-04-16 10:58:19.891 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 10:58:19.891 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 0ms reading results.
2024-04-16 10:58:19.892 +07:00 [DBG] Committing transaction.
2024-04-16 10:58:19.903 +07:00 [DBG] Committed transaction.
2024-04-16 10:58:19.903 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:58:19.904 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 10:58:19.904 +07:00 [DBG] Disposing transaction.
2024-04-16 10:58:19.905 +07:00 [DBG] The 'IdentityUserRole' entity with key '{RoleId: 1ddacd3b-495b-4144-b828-3c9740ba1651, UserId: 39560983-2cd5-4a4c-ed6b-08dc5dc8715d}' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'.
2024-04-16 10:58:19.905 +07:00 [DBG] The 'AppUser' entity with key '{Id: 39560983-2cd5-4a4c-ed6b-08dc5dc8715d}' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'.
2024-04-16 10:58:19.906 +07:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 2 entities written to the database.
2024-04-16 10:58:29.148 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 10:58:29.151 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0077ms - processed: 0 items - remaining: 2 items
2024-04-16 10:58:39.677 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 10:58:39.677 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0056ms - processed: 0 items - remaining: 2 items
2024-04-16 10:58:39.679 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:58:39.679 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:58:39.681 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 10:58:39.681 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 10:58:39.681 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 10:58:39.682 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='HIEUDEV623@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-04-16 10:58:39.729 +07:00 [INF] Executed DbCommand (47ms) [Parameters=[@__normalizedEmail_0='HIEUDEV623@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-04-16 10:58:39.730 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 10:58:39.730 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 0ms reading results.
2024-04-16 10:58:39.730 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:58:39.731 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 10:58:52.899 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 10:58:52.900 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0089ms - processed: 0 items - remaining: 2 items
2024-04-16 10:59:05.863 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 10:59:05.864 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0044ms - processed: 0 items - remaining: 2 items
2024-04-16 10:59:11.810 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-04-16 10:59:11.811 +07:00 [DBG] No information found on request to perform content negotiation.
2024-04-16 10:59:11.811 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-04-16 10:59:11.811 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-04-16 10:59:11.811 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-04-16 10:59:11.812 +07:00 [INF] Executing OkObjectResult, writing value of type 'FoodShop.Contract.Abstraction.Shared.Result`1[[FoodShop.Contract.DataTransferObjects.Respone.V1.UserAuthResponse, FoodShop.Contract, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-04-16 10:59:11.851 +07:00 [INF] Executed action FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation) in 54270.6005ms
2024-04-16 10:59:11.852 +07:00 [INF] Executed endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)'
2024-04-16 10:59:11.852 +07:00 [DBG] 'ApplicationDbContext' disposed.
2024-04-16 10:59:11.852 +07:00 [DBG] Disposing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 10:59:11.852 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-04-16 10:59:11.852 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7286/api/v1/Authentication/register - 200 null application/json; charset=utf-8; ver=1 58759.3218ms
2024-04-16 10:59:15.874 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 10:59:15.876 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.007ms - processed: 0 items - remaining: 2 items
2024-04-16 10:59:25.890 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 10:59:25.890 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0065ms - processed: 0 items - remaining: 2 items
2024-04-16 10:59:35.891 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 10:59:35.891 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0036ms - processed: 0 items - remaining: 2 items
2024-04-16 10:59:45.893 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 10:59:45.893 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0054ms - processed: 0 items - remaining: 2 items
2024-04-16 10:59:55.901 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 10:59:55.901 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0067ms - processed: 0 items - remaining: 2 items
2024-04-16 11:00:05.904 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 11:00:05.904 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0064ms - processed: 0 items - remaining: 2 items
2024-04-16 11:00:40.607 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-04-16 11:00:41.180 +07:00 [DBG] The index {'ProductId'} was not created on entity type 'CartProduct' as the properties are already covered by the index {'ProductId', 'CartId'}.
2024-04-16 11:00:41.182 +07:00 [DBG] The index {'OrderId'} was not created on entity type 'OrderProduct' as the properties are already covered by the index {'OrderId', 'ProductId'}.
2024-04-16 11:00:41.183 +07:00 [DBG] The index {'ProductId'} was not created on entity type 'ProductCategory' as the properties are already covered by the index {'ProductId', 'CategoryId'}.
2024-04-16 11:00:41.183 +07:00 [DBG] The index {'RoleId'} was not created on entity type 'IdentityUserRole<Guid>' as the properties are already covered by the index {'RoleId', 'UserId'}.
2024-04-16 11:00:41.277 +07:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-04-16 11:00:41.300 +07:00 [DBG] The property 'IdentityUserToken<Guid>.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-04-16 11:00:41.328 +07:00 [WRN] No store type was specified for the decimal property 'Amout' on entity type 'Cart'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 11:00:41.329 +07:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'CartProduct'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 11:00:41.329 +07:00 [WRN] No store type was specified for the decimal property 'Amout' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 11:00:41.330 +07:00 [WRN] No store type was specified for the decimal property 'AmoutTotal' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 11:00:41.330 +07:00 [WRN] No store type was specified for the decimal property 'Discount' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 11:00:41.331 +07:00 [WRN] No store type was specified for the decimal property 'Shipping' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 11:00:41.331 +07:00 [WRN] No store type was specified for the decimal property 'Tax' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 11:00:41.332 +07:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'OrderProduct'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 11:00:41.332 +07:00 [WRN] No store type was specified for the decimal property 'Discount' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 11:00:41.332 +07:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 11:00:41.478 +07:00 [DBG] Entity Framework Core 8.0.4 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.3' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using lazy loading proxies QuerySplittingBehavior=SplitQuery MigrationsAssembly=FoodShop.Persistence 
2024-04-16 11:00:41.484 +07:00 [DBG] Creating DbConnection.
2024-04-16 11:00:41.534 +07:00 [DBG] Created DbConnection. (45ms).
2024-04-16 11:00:41.537 +07:00 [DBG] Migrating using database 'FoodShop' on server 'localhost'.
2024-04-16 11:00:41.542 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:00:41.848 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:00:41.857 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-04-16 11:00:41.865 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (7ms).
2024-04-16 11:00:41.867 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (12ms).
2024-04-16 11:00:41.874 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 11:00:41.904 +07:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 11:00:41.906 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:00:41.917 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (6ms).
2024-04-16 11:00:41.922 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-04-16 11:00:41.922 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 11:00:41.923 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2024-04-16 11:00:41.923 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:00:41.924 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:00:41.925 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 11:00:41.949 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 11:00:41.953 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:00:41.955 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (1ms).
2024-04-16 11:00:41.960 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:00:41.961 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:00:41.961 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-04-16 11:00:41.962 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-04-16 11:00:41.962 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-04-16 11:00:41.962 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 11:00:41.967 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 11:00:41.967 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:00:41.967 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 11:00:41.968 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-04-16 11:00:41.968 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 11:00:41.968 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 11:00:41.969 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:00:41.969 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:00:41.969 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 11:00:41.972 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 11:00:41.973 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:00:41.973 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 11:00:41.989 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:00:41.990 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:00:41.990 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 11:00:41.991 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 11:00:41.992 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-04-16 11:00:41.993 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-16 11:00:42.006 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-16 11:00:42.010 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 11:00:42.013 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 3ms reading results.
2024-04-16 11:00:42.014 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:00:42.015 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 11:00:42.026 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-04-16 11:00:42.079 +07:00 [DBG] Compiling query expression: 
'DbSet<AppRole>()
    .Any()'
2024-04-16 11:00:42.217 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SplitQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AppRole AS a)), 
    ReaderColumn[] { ReaderColumn<bool> }, 
    Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, bool>, 
    null, 
    null, 
    FoodShop.Persistence.ApplicationDbContext, 
    False, 
    True, 
    True
)
    .Single()'
2024-04-16 11:00:42.244 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:00:42.244 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:00:42.244 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 11:00:42.245 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 11:00:42.245 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 11:00:42.245 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AppRole] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-04-16 11:00:42.258 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AppRole] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-04-16 11:00:42.276 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 11:00:42.277 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 3ms reading results.
2024-04-16 11:00:42.278 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:00:42.279 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 11:00:42.281 +07:00 [DBG] 'ApplicationDbContext' disposed.
2024-04-16 11:00:42.285 +07:00 [DBG] Disposing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:00:42.287 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-04-16 11:00:42.376 +07:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-04-16 11:00:42.465 +07:00 [DBG] Hosting starting
2024-04-16 11:00:42.492 +07:00 [INF] User profile is available. Using 'C:\Users\hieud\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-04-16 11:00:42.500 +07:00 [DBG] Reading data from file 'C:\Users\hieud\AppData\Local\ASP.NET\DataProtection-Keys\key-5b2baa0a-904f-4101-af08-7ac673b8db2c.xml'.
2024-04-16 11:00:42.511 +07:00 [DBG] Found key {5b2baa0a-904f-4101-af08-7ac673b8db2c}.
2024-04-16 11:00:42.524 +07:00 [DBG] Considering key {5b2baa0a-904f-4101-af08-7ac673b8db2c} with expiration date 2024-05-20 17:09:10Z as default key.
2024-04-16 11:00:42.528 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-04-16 11:00:42.530 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-04-16 11:00:42.533 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-04-16 11:00:42.536 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-04-16 11:00:42.543 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-04-16 11:00:42.550 +07:00 [DBG] Using key {5b2baa0a-904f-4101-af08-7ac673b8db2c} as the default key.
2024-04-16 11:00:42.552 +07:00 [DBG] Key ring with default key {5b2baa0a-904f-4101-af08-7ac673b8db2c} was loaded during application startup.
2024-04-16 11:00:42.879 +07:00 [INF] Now listening on: https://localhost:7286
2024-04-16 11:00:42.879 +07:00 [INF] Now listening on: http://localhost:5010
2024-04-16 11:00:42.880 +07:00 [DBG] Loaded hosting startup assembly FoodShop.API
2024-04-16 11:00:42.880 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-04-16 11:00:42.880 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-04-16 11:00:42.880 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-04-16 11:00:42.942 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-04-16 11:00:42.943 +07:00 [INF] Hosting environment: Development
2024-04-16 11:00:42.943 +07:00 [INF] Content root path: C:\Users\hieud\Code\C#\FoodShop\FoodShop\src\FoodShop.API
2024-04-16 11:00:42.943 +07:00 [DBG] Hosting started
2024-04-16 11:00:43.149 +07:00 [DBG] Connection id "0HN2TP74P7MKH" accepted.
2024-04-16 11:00:43.150 +07:00 [DBG] Connection id "0HN2TP74P7MKH" started.
2024-04-16 11:00:43.155 +07:00 [DBG] Connection id "0HN2TP74P7MKI" accepted.
2024-04-16 11:00:43.156 +07:00 [DBG] Connection id "0HN2TP74P7MKI" started.
2024-04-16 11:00:43.186 +07:00 [DBG] Connection id "0HN2TP74P7MKI" received FIN.
2024-04-16 11:00:43.187 +07:00 [DBG] Connection id "0HN2TP74P7MKH" received FIN.
2024-04-16 11:00:43.201 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-04-16 11:00:43.201 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-04-16 11:00:43.215 +07:00 [DBG] Connection id "0HN2TP74P7MKI" stopped.
2024-04-16 11:00:43.215 +07:00 [DBG] Connection id "0HN2TP74P7MKH" stopped.
2024-04-16 11:00:43.219 +07:00 [DBG] Connection id "0HN2TP74P7MKH" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-04-16 11:00:43.219 +07:00 [DBG] Connection id "0HN2TP74P7MKI" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-04-16 11:00:43.467 +07:00 [DBG] Connection id "0HN2TP74P7MKJ" accepted.
2024-04-16 11:00:43.468 +07:00 [DBG] Connection id "0HN2TP74P7MKJ" started.
2024-04-16 11:00:43.499 +07:00 [DBG] Connection 0HN2TP74P7MKJ established using the following protocol: "Tls13"
2024-04-16 11:00:43.558 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/swagger/index.html - null null
2024-04-16 11:00:43.665 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-04-16 11:00:43.707 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-04-16 11:00:43.708 +07:00 [DBG] Request did not match any endpoints
2024-04-16 11:00:43.774 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-16 11:00:43.843 +07:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-04-16 11:00:43.845 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-04-16 11:00:43.882 +07:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-04-16 11:00:43.888 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-04-16 11:00:43.902 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/swagger/index.html - 200 null text/html;charset=utf-8 344.0986ms
2024-04-16 11:00:43.924 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/_vs/browserLink - null null
2024-04-16 11:00:43.924 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/_framework/aspnetcore-browser-refresh.js - null null
2024-04-16 11:00:43.941 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 14.6337ms
2024-04-16 11:00:44.003 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/_vs/browserLink - 200 null text/javascript; charset=UTF-8 79.1069ms
2024-04-16 11:00:44.359 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/swagger/v1/swagger.json - null null
2024-04-16 11:00:44.359 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-04-16 11:00:44.359 +07:00 [DBG] Request did not match any endpoints
2024-04-16 11:00:44.361 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-16 11:00:44.498 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 139.8595ms
2024-04-16 11:00:53.820 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7286/api/v1/Authentication/register - application/json; ver=1.0 154
2024-04-16 11:00:53.844 +07:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Authentication/register'
2024-04-16 11:00:53.846 +07:00 [DBG] Endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)' with route pattern 'api/v{version:apiVersion}/Authentication/register' is valid for the request path '/api/v1/Authentication/register'
2024-04-16 11:00:53.851 +07:00 [DBG] Request matched endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)'
2024-04-16 11:00:53.854 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-16 11:00:53.856 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-04-16 11:00:53.858 +07:00 [INF] Start request......!
2024-04-16 11:00:53.860 +07:00 [INF] Executing endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)'
2024-04-16 11:00:53.891 +07:00 [INF] Route matched with {action = "Register", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest) on controller FoodShop.Presentation.Controllers.V1.AuthenticationController (FoodShop.Presentation).
2024-04-16 11:00:53.893 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-04-16 11:00:53.894 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-04-16 11:00:53.894 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)","Asp.Versioning.ApplyContentTypeVersionActionFilter"]
2024-04-16 11:00:53.896 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-04-16 11:00:53.896 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-04-16 11:00:53.898 +07:00 [DBG] Executing controller factory for controller FoodShop.Presentation.Controllers.V1.AuthenticationController (FoodShop.Presentation)
2024-04-16 11:00:54.011 +07:00 [DBG] Executed controller factory for controller FoodShop.Presentation.Controllers.V1.AuthenticationController (FoodShop.Presentation)
2024-04-16 11:00:54.017 +07:00 [DBG] Attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest' ...
2024-04-16 11:00:54.021 +07:00 [DBG] Attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest' using the name '' in request data ...
2024-04-16 11:00:54.023 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json; ver=1.0'.
2024-04-16 11:00:54.030 +07:00 [DBG] Connection id "0HN2TP74P7MKJ", Request id "0HN2TP74P7MKJ:00000009": started reading request body.
2024-04-16 11:00:54.031 +07:00 [DBG] Connection id "0HN2TP74P7MKJ", Request id "0HN2TP74P7MKJ:00000009": done reading request body.
2024-04-16 11:00:54.038 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'
2024-04-16 11:00:54.039 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'.
2024-04-16 11:00:54.040 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'.
2024-04-16 11:00:54.041 +07:00 [DBG] Attempting to validate the bound parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest' ...
2024-04-16 11:00:54.057 +07:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'.
2024-04-16 11:00:56.810 +07:00 [DBG] Entity Framework Core 8.0.4 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.3' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using lazy loading proxies QuerySplittingBehavior=SplitQuery MigrationsAssembly=FoodShop.Persistence 
2024-04-16 11:00:56.825 +07:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2024-04-16 11:00:57.365 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppUser>(
    asyncEnumerable: new SplitQueryingEnumerable<AppUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AppUser.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: AppUser.AccessFailedCount (int) Required, 1], [Property: AppUser.Address (string), 2], [Property: AppUser.Avatar (string), 3], [Property: AppUser.ConcurrencyStamp (string), 4], [Property: AppUser.CreatedDate (DateTime) Required, 5], [Property: AppUser.Email (string), 6], [Property: AppUser.EmailConfirmed (bool) Required, 7], [Property: AppUser.Facebook (string), 8], [Property: AppUser.FirstName (string), 9], [Property: AppUser.LastName (string), 10], [Property: AppUser.LockoutEnabled (bool) Required, 11], [Property: AppUser.LockoutEnd (DateTimeOffset?), 12], [Property: AppUser.NormalizedEmail (string), 13], [Property: AppUser.NormalizedUserName (string), 14], [Property: AppUser.PasswordHash (string), 15], [Property: AppUser.PhoneNumber (string), 16], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 17], [Property: AppUser.SecurityStamp (string), 18], [Property: AppUser.TwoFactorEnabled (bool) Required, 19], [Property: AppUser.UpdateDate (DateTime) Required, 20], [Property: AppUser.UserName (string), 21] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.Address, a.Avatar, a.ConcurrencyStamp, a.CreatedDate, a.Email, a.EmailConfirmed, a.Facebook, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UpdateDate, a.UserName
            FROM AppUser AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<int>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<DateTime>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<DateTimeOffset>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<DateTime>, ReaderColumn<object> }, 
        Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, AppUser>, 
        null, 
        null, 
        FoodShop.Persistence.ApplicationDbContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-04-16 11:00:57.413 +07:00 [DBG] Creating DbConnection.
2024-04-16 11:00:57.415 +07:00 [DBG] Created DbConnection. (7ms).
2024-04-16 11:00:57.421 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:00:57.428 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:00:57.428 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 11:00:57.429 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 11:00:57.434 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-04-16 11:00:57.438 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='ANHHIEUQTQTQT' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 11:00:57.483 +07:00 [INF] Executed DbCommand (48ms) [Parameters=[@__normalizedUserName_0='ANHHIEUQTQTQT' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 11:00:57.541 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 11:00:57.542 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 12ms reading results.
2024-04-16 11:00:57.546 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:00:57.547 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (1ms).
2024-04-16 11:00:57.587 +07:00 [DBG] 'ApplicationDbContext' generated value '"a7791a97-291f-4900-7ffa-08dc5dc9d22e"' for the property 'AppUser.Id'.
2024-04-16 11:00:57.722 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'AppUser' entity with key '{Id: a7791a97-291f-4900-7ffa-08dc5dc9d22e}'.
2024-04-16 11:00:57.729 +07:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-04-16 11:00:57.735 +07:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-04-16 11:00:57.784 +07:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-04-16 11:00:57.903 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:00:57.903 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:00:57.907 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 11:00:57.908 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 11:00:57.909 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-04-16 11:00:57.910 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='a7791a97-291f-4900-7ffa-08dc5dc9d22e', @p1='0', @p2=NULL (Size = 4000), @p3=NULL (Size = 4000), @p4='2926338c-0e12-4d2b-8277-8951f45338ab' (Size = 4000), @p5='0001-01-01T00:00:00.0000000', @p6='anhhieuqtqtqt' (Size = 4000), @p7='False', @p8=NULL (Size = 4000), @p9='string' (Size = 4000), @p10='string' (Size = 4000), @p11='True', @p12=NULL (DbType = DateTimeOffset), @p13='ANHHIEUQTQTQT' (Size = 4000), @p14='ANHHIEUQTQTQT' (Size = 4000), @p15='AQAAAAIAAYagAAAAELyy6Loia+7sCXAMyznikXet7xxGRi4OFo02VVEp1EmEjDZXxceLGcQwqswJcJEC3Q==' (Size = 4000), @p16='string' (Size = 4000), @p17='False', @p18='6QXMS4TPQFEQFJC4HICKVAKBHUXK7G4D' (Size = 4000), @p19='False', @p20='0001-01-01T00:00:00.0000000', @p21='anhhieuqtqtqt' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AppUser] ([Id], [AccessFailedCount], [Address], [Avatar], [ConcurrencyStamp], [CreatedDate], [Email], [EmailConfirmed], [Facebook], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UpdateDate], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21);
2024-04-16 11:00:57.936 +07:00 [INF] Executed DbCommand (27ms) [Parameters=[@p0='a7791a97-291f-4900-7ffa-08dc5dc9d22e', @p1='0', @p2=NULL (Size = 4000), @p3=NULL (Size = 4000), @p4='2926338c-0e12-4d2b-8277-8951f45338ab' (Size = 4000), @p5='0001-01-01T00:00:00.0000000', @p6='anhhieuqtqtqt' (Size = 4000), @p7='False', @p8=NULL (Size = 4000), @p9='string' (Size = 4000), @p10='string' (Size = 4000), @p11='True', @p12=NULL (DbType = DateTimeOffset), @p13='ANHHIEUQTQTQT' (Size = 4000), @p14='ANHHIEUQTQTQT' (Size = 4000), @p15='AQAAAAIAAYagAAAAELyy6Loia+7sCXAMyznikXet7xxGRi4OFo02VVEp1EmEjDZXxceLGcQwqswJcJEC3Q==' (Size = 4000), @p16='string' (Size = 4000), @p17='False', @p18='6QXMS4TPQFEQFJC4HICKVAKBHUXK7G4D' (Size = 4000), @p19='False', @p20='0001-01-01T00:00:00.0000000', @p21='anhhieuqtqtqt' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AppUser] ([Id], [AccessFailedCount], [Address], [Avatar], [ConcurrencyStamp], [CreatedDate], [Email], [EmailConfirmed], [Facebook], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UpdateDate], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21);
2024-04-16 11:00:57.943 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 11:00:57.943 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 6ms reading results.
2024-04-16 11:00:57.945 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:00:57.946 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 11:00:57.962 +07:00 [DBG] The 'AppUser' entity with key '{Id: a7791a97-291f-4900-7ffa-08dc5dc9d22e}' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'.
2024-04-16 11:00:57.965 +07:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-04-16 11:01:01.282 +07:00 [DBG] Compiling query expression: 
'DbSet<AppRole>()
    .SingleOrDefault(r => r.NormalizedName == __normalizedRoleName_0)'
2024-04-16 11:01:01.403 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppRole>(
    asyncEnumerable: new SplitQueryingEnumerable<AppRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AppRole.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: AppRole.ConcurrencyStamp (string), 1], [Property: AppRole.CreateBy (string), 2], [Property: AppRole.CreateDate (DateTime?), 3], [Property: AppRole.Description (string) Required MaxLength(250), 4], [Property: AppRole.Name (string), 5], [Property: AppRole.NormalizedName (string), 6], [Property: AppRole.RoleCode (string) Required MaxLength(50), 7], [Property: AppRole.UpdateBy (string), 8], [Property: AppRole.UpdateDate (DateTime?), 9] }
            SELECT TOP(2) a.Id, a.ConcurrencyStamp, a.CreateBy, a.CreateDate, a.Description, a.Name, a.NormalizedName, a.RoleCode, a.UpdateBy, a.UpdateDate
            FROM AppRole AS a
            WHERE a.NormalizedName == @__normalizedRoleName_0), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<DateTime>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<DateTime> }, 
        Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, AppRole>, 
        null, 
        null, 
        FoodShop.Persistence.ApplicationDbContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-04-16 11:01:01.405 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:01:01.406 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:01:01.406 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 11:01:01.407 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 11:01:01.407 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 11:01:01.407 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 11:01:01.411 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 11:01:01.493 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'AppRole' entity with key '{Id: 1ddacd3b-495b-4144-b828-3c9740ba1651}'.
2024-04-16 11:01:01.534 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 11:01:01.534 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 80ms reading results.
2024-04-16 11:01:01.535 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:01:01.536 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 11:01:01.572 +07:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<Guid>>()
    .FirstOrDefault(e => object.Equals(
        objA: EF.Property<object>(e, "RoleId"), 
        objB: __get_Item_0) && object.Equals(
        objA: EF.Property<object>(e, "UserId"), 
        objB: __get_Item_1))'
2024-04-16 11:01:01.718 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityUserRole<Guid>>(
    asyncEnumerable: new SplitQueryingEnumerable<IdentityUserRole<Guid>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUserRole<Guid>.RoleId (Guid) Required PK FK AfterSave:Throw, 0], [Property: IdentityUserRole<Guid>.UserId (Guid) Required PK FK Index AfterSave:Throw, 1] }
            SELECT TOP(1) a.RoleId, a.UserId
            FROM AppUserRole AS a
            WHERE (a.RoleId == @__get_Item_0) && (a.UserId == @__get_Item_1)), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<Guid> }, 
        Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, IdentityUserRole<Guid>>, 
        null, 
        null, 
        FoodShop.Persistence.ApplicationDbContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-04-16 11:01:01.726 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:01:01.726 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:01:01.727 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 11:01:01.728 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 11:01:01.728 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-04-16 11:01:01.729 +07:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='a7791a97-291f-4900-7ffa-08dc5dc9d22e' (Nullable = true), @__get_Item_1='1ddacd3b-495b-4144-b828-3c9740ba1651' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[RoleId], [a].[UserId]
FROM [AppUserRole] AS [a]
WHERE [a].[RoleId] = @__get_Item_0 AND [a].[UserId] = @__get_Item_1
2024-04-16 11:01:01.744 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[@__get_Item_0='a7791a97-291f-4900-7ffa-08dc5dc9d22e' (Nullable = true), @__get_Item_1='1ddacd3b-495b-4144-b828-3c9740ba1651' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[RoleId], [a].[UserId]
FROM [AppUserRole] AS [a]
WHERE [a].[RoleId] = @__get_Item_0 AND [a].[UserId] = @__get_Item_1
2024-04-16 11:01:01.745 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 11:01:01.746 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 0ms reading results.
2024-04-16 11:01:01.747 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:01:01.747 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 11:01:01.760 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:01:01.761 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:01:01.762 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 11:01:01.763 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-04-16 11:01:01.764 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-04-16 11:01:01.764 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 11:01:01.768 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 11:01:01.772 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 11:01:01.773 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 1ms reading results.
2024-04-16 11:01:01.773 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:01:01.774 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 11:01:01.821 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityUserRole' entity with key '{RoleId: 1ddacd3b-495b-4144-b828-3c9740ba1651, UserId: a7791a97-291f-4900-7ffa-08dc5dc9d22e}'.
2024-04-16 11:01:01.827 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:01:01.827 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:01:01.828 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 11:01:01.828 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 11:01:01.829 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 11:01:01.829 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='ANHHIEUQTQTQT' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 11:01:01.833 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='ANHHIEUQTQTQT' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 11:01:01.838 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 11:01:01.839 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 1ms reading results.
2024-04-16 11:01:01.840 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:01:01.840 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 11:01:01.851 +07:00 [DBG] The 'AppUser' entity with key '{Id: a7791a97-291f-4900-7ffa-08dc5dc9d22e}' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'.
2024-04-16 11:01:01.851 +07:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-04-16 11:01:01.852 +07:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-04-16 11:01:01.875 +07:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-04-16 11:01:01.900 +07:00 [DBG] Executing 2 update commands as a batch.
2024-04-16 11:01:01.906 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:01:01.906 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:01:01.911 +07:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-04-16 11:01:01.924 +07:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-04-16 11:01:01.926 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 11:01:01.927 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 11:01:01.929 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-04-16 11:01:01.930 +07:00 [DBG] Executing DbCommand [Parameters=[@p21='a7791a97-291f-4900-7ffa-08dc5dc9d22e', @p0='0', @p1=NULL (Size = 4000), @p2=NULL (Size = 4000), @p3='6fbd6c6e-1510-4cd6-9323-b9dabb87b751' (Size = 4000), @p4='0001-01-01T00:00:00.0000000', @p5='anhhieuqtqtqt' (Size = 4000), @p6='False', @p7=NULL (Size = 4000), @p8='string' (Size = 4000), @p9='string' (Size = 4000), @p10='True', @p11=NULL (DbType = DateTimeOffset), @p12='ANHHIEUQTQTQT' (Size = 4000), @p13='ANHHIEUQTQTQT' (Size = 4000), @p14='AQAAAAIAAYagAAAAELyy6Loia+7sCXAMyznikXet7xxGRi4OFo02VVEp1EmEjDZXxceLGcQwqswJcJEC3Q==' (Size = 4000), @p15='string' (Size = 4000), @p16='False', @p17='6QXMS4TPQFEQFJC4HICKVAKBHUXK7G4D' (Size = 4000), @p18='False', @p19='0001-01-01T00:00:00.0000000', @p20='anhhieuqtqtqt' (Size = 4000), @p22='1ddacd3b-495b-4144-b828-3c9740ba1651', @p23='a7791a97-291f-4900-7ffa-08dc5dc9d22e'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AppUser] SET [AccessFailedCount] = @p0, [Address] = @p1, [Avatar] = @p2, [ConcurrencyStamp] = @p3, [CreatedDate] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [Facebook] = @p7, [FirstName] = @p8, [LastName] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [SecurityStamp] = @p17, [TwoFactorEnabled] = @p18, [UpdateDate] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21;
INSERT INTO [AppUserRole] ([RoleId], [UserId])
VALUES (@p22, @p23);
2024-04-16 11:01:01.953 +07:00 [INF] Executed DbCommand (23ms) [Parameters=[@p21='a7791a97-291f-4900-7ffa-08dc5dc9d22e', @p0='0', @p1=NULL (Size = 4000), @p2=NULL (Size = 4000), @p3='6fbd6c6e-1510-4cd6-9323-b9dabb87b751' (Size = 4000), @p4='0001-01-01T00:00:00.0000000', @p5='anhhieuqtqtqt' (Size = 4000), @p6='False', @p7=NULL (Size = 4000), @p8='string' (Size = 4000), @p9='string' (Size = 4000), @p10='True', @p11=NULL (DbType = DateTimeOffset), @p12='ANHHIEUQTQTQT' (Size = 4000), @p13='ANHHIEUQTQTQT' (Size = 4000), @p14='AQAAAAIAAYagAAAAELyy6Loia+7sCXAMyznikXet7xxGRi4OFo02VVEp1EmEjDZXxceLGcQwqswJcJEC3Q==' (Size = 4000), @p15='string' (Size = 4000), @p16='False', @p17='6QXMS4TPQFEQFJC4HICKVAKBHUXK7G4D' (Size = 4000), @p18='False', @p19='0001-01-01T00:00:00.0000000', @p20='anhhieuqtqtqt' (Size = 4000), @p22='1ddacd3b-495b-4144-b828-3c9740ba1651', @p23='a7791a97-291f-4900-7ffa-08dc5dc9d22e'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AppUser] SET [AccessFailedCount] = @p0, [Address] = @p1, [Avatar] = @p2, [ConcurrencyStamp] = @p3, [CreatedDate] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [Facebook] = @p7, [FirstName] = @p8, [LastName] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [SecurityStamp] = @p17, [TwoFactorEnabled] = @p18, [UpdateDate] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21;
INSERT INTO [AppUserRole] ([RoleId], [UserId])
VALUES (@p22, @p23);
2024-04-16 11:01:01.957 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 11:01:01.959 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 4ms reading results.
2024-04-16 11:01:01.964 +07:00 [DBG] Committing transaction.
2024-04-16 11:01:01.972 +07:00 [DBG] Committed transaction.
2024-04-16 11:01:01.976 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:01:01.976 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 11:01:01.981 +07:00 [DBG] Disposing transaction.
2024-04-16 11:01:01.982 +07:00 [DBG] The 'IdentityUserRole' entity with key '{RoleId: 1ddacd3b-495b-4144-b828-3c9740ba1651, UserId: a7791a97-291f-4900-7ffa-08dc5dc9d22e}' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'.
2024-04-16 11:01:01.982 +07:00 [DBG] The 'AppUser' entity with key '{Id: a7791a97-291f-4900-7ffa-08dc5dc9d22e}' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'.
2024-04-16 11:01:01.983 +07:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 2 entities written to the database.
2024-04-16 11:01:14.842 +07:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2024-04-16 11:01:14.853 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppUser>(
    asyncEnumerable: new SplitQueryingEnumerable<AppUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AppUser.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: AppUser.AccessFailedCount (int) Required, 1], [Property: AppUser.Address (string), 2], [Property: AppUser.Avatar (string), 3], [Property: AppUser.ConcurrencyStamp (string), 4], [Property: AppUser.CreatedDate (DateTime) Required, 5], [Property: AppUser.Email (string), 6], [Property: AppUser.EmailConfirmed (bool) Required, 7], [Property: AppUser.Facebook (string), 8], [Property: AppUser.FirstName (string), 9], [Property: AppUser.LastName (string), 10], [Property: AppUser.LockoutEnabled (bool) Required, 11], [Property: AppUser.LockoutEnd (DateTimeOffset?), 12], [Property: AppUser.NormalizedEmail (string), 13], [Property: AppUser.NormalizedUserName (string), 14], [Property: AppUser.PasswordHash (string), 15], [Property: AppUser.PhoneNumber (string), 16], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 17], [Property: AppUser.SecurityStamp (string), 18], [Property: AppUser.TwoFactorEnabled (bool) Required, 19], [Property: AppUser.UpdateDate (DateTime) Required, 20], [Property: AppUser.UserName (string), 21] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.Address, a.Avatar, a.ConcurrencyStamp, a.CreatedDate, a.Email, a.EmailConfirmed, a.Facebook, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UpdateDate, a.UserName
            FROM AppUser AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<int>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<DateTime>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<DateTimeOffset>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<DateTime>, ReaderColumn<object> }, 
        Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, AppUser>, 
        null, 
        null, 
        FoodShop.Persistence.ApplicationDbContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-04-16 11:01:14.855 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:01:14.855 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:01:14.855 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 11:01:14.855 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 11:01:14.856 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 11:01:14.856 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='ANHHIEUQTQTQT' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-04-16 11:01:14.883 +07:00 [INF] Executed DbCommand (27ms) [Parameters=[@__normalizedEmail_0='ANHHIEUQTQTQT' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-04-16 11:01:14.884 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 11:01:14.884 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 0ms reading results.
2024-04-16 11:01:14.885 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:01:14.885 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 11:03:05.162 +07:00 [DBG] HttpMessageHandler expired after 120000ms for client ''
2024-04-16 11:03:05.162 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-04-16 11:03:05.165 +07:00 [DBG] No information found on request to perform content negotiation.
2024-04-16 11:03:05.165 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-04-16 11:03:05.166 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-04-16 11:03:05.167 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-04-16 11:03:05.167 +07:00 [INF] Executing OkObjectResult, writing value of type 'FoodShop.Contract.Abstraction.Shared.Result`1[[FoodShop.Contract.DataTransferObjects.Respone.V1.UserAuthResponse, FoodShop.Contract, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-04-16 11:03:05.189 +07:00 [INF] Executed action FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation) in 131289.1374ms
2024-04-16 11:03:05.191 +07:00 [INF] Executed endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)'
2024-04-16 11:03:05.194 +07:00 [DBG] 'ApplicationDbContext' disposed.
2024-04-16 11:03:05.200 +07:00 [DBG] Disposing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:03:05.201 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-04-16 11:03:05.201 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7286/api/v1/Authentication/register - 200 null application/json; charset=utf-8; ver=1 131383.3828ms
2024-04-16 11:03:05.443 +07:00 [DBG] Config reload token fired. Checking for changes...
2024-04-16 11:03:05.700 +07:00 [DBG] Config reload token fired. Checking for changes...
2024-04-16 11:03:06.853 +07:00 [DBG] HttpMessageHandler expired after 120000ms for client 'MailTrapApiClient'
2024-04-16 11:03:15.173 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 11:03:15.180 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.1602ms - processed: 0 items - remaining: 2 items
2024-04-16 11:03:25.188 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 11:03:25.189 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0115ms - processed: 0 items - remaining: 2 items
2024-04-16 11:03:35.209 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 11:03:35.210 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0131ms - processed: 0 items - remaining: 2 items
2024-04-16 11:03:39.986 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7286/api/v1/Authentication/register - application/json; ver=1.0 161
2024-04-16 11:03:40.013 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-04-16 11:03:40.015 +07:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Authentication/register'
2024-04-16 11:03:40.016 +07:00 [DBG] Endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)' with route pattern 'api/v{version:apiVersion}/Authentication/register' is valid for the request path '/api/v1/Authentication/register'
2024-04-16 11:03:40.017 +07:00 [DBG] Request matched endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)'
2024-04-16 11:03:40.017 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-16 11:03:40.017 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-04-16 11:03:40.018 +07:00 [INF] Start request......!
2024-04-16 11:03:40.019 +07:00 [INF] Executing endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)'
2024-04-16 11:03:40.019 +07:00 [INF] Route matched with {action = "Register", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest) on controller FoodShop.Presentation.Controllers.V1.AuthenticationController (FoodShop.Presentation).
2024-04-16 11:03:40.019 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-04-16 11:03:40.020 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-04-16 11:03:40.020 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)","Asp.Versioning.ApplyContentTypeVersionActionFilter"]
2024-04-16 11:03:40.020 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-04-16 11:03:40.020 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-04-16 11:03:40.021 +07:00 [DBG] Executing controller factory for controller FoodShop.Presentation.Controllers.V1.AuthenticationController (FoodShop.Presentation)
2024-04-16 11:03:40.025 +07:00 [DBG] Executed controller factory for controller FoodShop.Presentation.Controllers.V1.AuthenticationController (FoodShop.Presentation)
2024-04-16 11:03:40.025 +07:00 [DBG] Attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest' ...
2024-04-16 11:03:40.026 +07:00 [DBG] Attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest' using the name '' in request data ...
2024-04-16 11:03:40.026 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json; ver=1.0'.
2024-04-16 11:03:40.026 +07:00 [DBG] Connection id "0HN2TP74P7MKJ", Request id "0HN2TP74P7MKJ:0000000B": started reading request body.
2024-04-16 11:03:40.027 +07:00 [DBG] Connection id "0HN2TP74P7MKJ", Request id "0HN2TP74P7MKJ:0000000B": done reading request body.
2024-04-16 11:03:40.027 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'
2024-04-16 11:03:40.027 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'.
2024-04-16 11:03:40.027 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'.
2024-04-16 11:03:40.028 +07:00 [DBG] Attempting to validate the bound parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest' ...
2024-04-16 11:03:40.029 +07:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'.
2024-04-16 11:03:44.597 +07:00 [DBG] Entity Framework Core 8.0.4 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.3' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using lazy loading proxies QuerySplittingBehavior=SplitQuery MigrationsAssembly=FoodShop.Persistence 
2024-04-16 11:03:44.599 +07:00 [DBG] Creating DbConnection.
2024-04-16 11:03:44.599 +07:00 [DBG] Created DbConnection. (0ms).
2024-04-16 11:03:44.599 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:03:44.599 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:03:44.600 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 11:03:44.600 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 11:03:44.600 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 11:03:44.601 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='HIEUDEV623@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 11:03:44.622 +07:00 [INF] Executed DbCommand (21ms) [Parameters=[@__normalizedUserName_0='HIEUDEV623@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 11:03:44.623 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 11:03:44.623 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 0ms reading results.
2024-04-16 11:03:44.623 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:03:44.624 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 11:03:44.626 +07:00 [DBG] 'ApplicationDbContext' generated value '"e8968e46-0681-4cb4-7ffb-08dc5dc9d22e"' for the property 'AppUser.Id'.
2024-04-16 11:03:44.627 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'AppUser' entity with key '{Id: e8968e46-0681-4cb4-7ffb-08dc5dc9d22e}'.
2024-04-16 11:03:44.627 +07:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-04-16 11:03:44.628 +07:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-04-16 11:03:44.628 +07:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-04-16 11:03:44.630 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:03:44.630 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:03:44.630 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 11:03:44.631 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 11:03:44.631 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 11:03:44.632 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='e8968e46-0681-4cb4-7ffb-08dc5dc9d22e', @p1='0', @p2=NULL (Size = 4000), @p3=NULL (Size = 4000), @p4='21a865ff-15ea-46cf-9be5-9c0238374399' (Size = 4000), @p5='0001-01-01T00:00:00.0000000', @p6='hieudev623@gmail.com' (Size = 4000), @p7='False', @p8=NULL (Size = 4000), @p9='string' (Size = 4000), @p10='string' (Size = 4000), @p11='True', @p12=NULL (DbType = DateTimeOffset), @p13='HIEUDEV623@GMAIL.COM' (Size = 4000), @p14='HIEUDEV623@GMAIL.COM' (Size = 4000), @p15='AQAAAAIAAYagAAAAEOiPpBokYlSkEC+d02xoD/i+J7eqsLLu7DSsJ81dRATS6kNmXZ0iqlKW+MyrpBSxrg==' (Size = 4000), @p16='string' (Size = 4000), @p17='False', @p18='2NY45BI7WOARIEHYY6FGFCK7CRKIR7Z6' (Size = 4000), @p19='False', @p20='0001-01-01T00:00:00.0000000', @p21='hieudev623@gmail.com' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AppUser] ([Id], [AccessFailedCount], [Address], [Avatar], [ConcurrencyStamp], [CreatedDate], [Email], [EmailConfirmed], [Facebook], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UpdateDate], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21);
2024-04-16 11:03:44.640 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='e8968e46-0681-4cb4-7ffb-08dc5dc9d22e', @p1='0', @p2=NULL (Size = 4000), @p3=NULL (Size = 4000), @p4='21a865ff-15ea-46cf-9be5-9c0238374399' (Size = 4000), @p5='0001-01-01T00:00:00.0000000', @p6='hieudev623@gmail.com' (Size = 4000), @p7='False', @p8=NULL (Size = 4000), @p9='string' (Size = 4000), @p10='string' (Size = 4000), @p11='True', @p12=NULL (DbType = DateTimeOffset), @p13='HIEUDEV623@GMAIL.COM' (Size = 4000), @p14='HIEUDEV623@GMAIL.COM' (Size = 4000), @p15='AQAAAAIAAYagAAAAEOiPpBokYlSkEC+d02xoD/i+J7eqsLLu7DSsJ81dRATS6kNmXZ0iqlKW+MyrpBSxrg==' (Size = 4000), @p16='string' (Size = 4000), @p17='False', @p18='2NY45BI7WOARIEHYY6FGFCK7CRKIR7Z6' (Size = 4000), @p19='False', @p20='0001-01-01T00:00:00.0000000', @p21='hieudev623@gmail.com' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AppUser] ([Id], [AccessFailedCount], [Address], [Avatar], [ConcurrencyStamp], [CreatedDate], [Email], [EmailConfirmed], [Facebook], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UpdateDate], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21);
2024-04-16 11:03:44.642 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 11:03:44.643 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 0ms reading results.
2024-04-16 11:03:44.644 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:03:44.644 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 11:03:44.645 +07:00 [DBG] The 'AppUser' entity with key '{Id: e8968e46-0681-4cb4-7ffb-08dc5dc9d22e}' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'.
2024-04-16 11:03:44.646 +07:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-04-16 11:03:44.647 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:03:44.648 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:03:44.648 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 11:03:44.649 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 11:03:44.650 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-04-16 11:03:44.650 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 11:03:44.656 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 11:03:44.658 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'AppRole' entity with key '{Id: 1ddacd3b-495b-4144-b828-3c9740ba1651}'.
2024-04-16 11:03:44.659 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 11:03:44.660 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 2ms reading results.
2024-04-16 11:03:44.661 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:03:44.661 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 11:03:44.664 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:03:44.665 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:03:44.665 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 11:03:44.666 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 11:03:44.666 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-04-16 11:03:44.667 +07:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='e8968e46-0681-4cb4-7ffb-08dc5dc9d22e' (Nullable = true), @__get_Item_1='1ddacd3b-495b-4144-b828-3c9740ba1651' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[RoleId], [a].[UserId]
FROM [AppUserRole] AS [a]
WHERE [a].[RoleId] = @__get_Item_0 AND [a].[UserId] = @__get_Item_1
2024-04-16 11:03:44.674 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__get_Item_0='e8968e46-0681-4cb4-7ffb-08dc5dc9d22e' (Nullable = true), @__get_Item_1='1ddacd3b-495b-4144-b828-3c9740ba1651' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[RoleId], [a].[UserId]
FROM [AppUserRole] AS [a]
WHERE [a].[RoleId] = @__get_Item_0 AND [a].[UserId] = @__get_Item_1
2024-04-16 11:03:44.675 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 11:03:44.676 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 0ms reading results.
2024-04-16 11:03:44.676 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:03:44.679 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (2ms).
2024-04-16 11:03:44.680 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:03:44.681 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:03:44.681 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 11:03:44.682 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 11:03:44.682 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 11:03:44.683 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 11:03:44.687 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 11:03:44.688 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 11:03:44.689 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 0ms reading results.
2024-04-16 11:03:44.689 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:03:44.690 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 11:03:44.693 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityUserRole' entity with key '{RoleId: 1ddacd3b-495b-4144-b828-3c9740ba1651, UserId: e8968e46-0681-4cb4-7ffb-08dc5dc9d22e}'.
2024-04-16 11:03:44.695 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:03:44.695 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:03:44.696 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 11:03:44.696 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 11:03:44.696 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 11:03:44.697 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='HIEUDEV623@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 11:03:44.704 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='HIEUDEV623@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 11:03:44.709 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 11:03:44.709 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 0ms reading results.
2024-04-16 11:03:44.710 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:03:44.713 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (2ms).
2024-04-16 11:03:44.715 +07:00 [DBG] The 'AppUser' entity with key '{Id: e8968e46-0681-4cb4-7ffb-08dc5dc9d22e}' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'.
2024-04-16 11:03:44.715 +07:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-04-16 11:03:44.715 +07:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-04-16 11:03:44.716 +07:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-04-16 11:03:44.718 +07:00 [DBG] Executing 2 update commands as a batch.
2024-04-16 11:03:44.719 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:03:44.720 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:03:44.721 +07:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-04-16 11:03:44.721 +07:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-04-16 11:03:44.722 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 11:03:44.722 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 11:03:44.723 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 11:03:44.723 +07:00 [DBG] Executing DbCommand [Parameters=[@p21='e8968e46-0681-4cb4-7ffb-08dc5dc9d22e', @p0='0', @p1=NULL (Size = 4000), @p2=NULL (Size = 4000), @p3='4a49baff-fe3c-4de3-8629-4f1d1742a190' (Size = 4000), @p4='0001-01-01T00:00:00.0000000', @p5='hieudev623@gmail.com' (Size = 4000), @p6='False', @p7=NULL (Size = 4000), @p8='string' (Size = 4000), @p9='string' (Size = 4000), @p10='True', @p11=NULL (DbType = DateTimeOffset), @p12='HIEUDEV623@GMAIL.COM' (Size = 4000), @p13='HIEUDEV623@GMAIL.COM' (Size = 4000), @p14='AQAAAAIAAYagAAAAEOiPpBokYlSkEC+d02xoD/i+J7eqsLLu7DSsJ81dRATS6kNmXZ0iqlKW+MyrpBSxrg==' (Size = 4000), @p15='string' (Size = 4000), @p16='False', @p17='2NY45BI7WOARIEHYY6FGFCK7CRKIR7Z6' (Size = 4000), @p18='False', @p19='0001-01-01T00:00:00.0000000', @p20='hieudev623@gmail.com' (Size = 4000), @p22='1ddacd3b-495b-4144-b828-3c9740ba1651', @p23='e8968e46-0681-4cb4-7ffb-08dc5dc9d22e'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AppUser] SET [AccessFailedCount] = @p0, [Address] = @p1, [Avatar] = @p2, [ConcurrencyStamp] = @p3, [CreatedDate] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [Facebook] = @p7, [FirstName] = @p8, [LastName] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [SecurityStamp] = @p17, [TwoFactorEnabled] = @p18, [UpdateDate] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21;
INSERT INTO [AppUserRole] ([RoleId], [UserId])
VALUES (@p22, @p23);
2024-04-16 11:03:44.737 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[@p21='e8968e46-0681-4cb4-7ffb-08dc5dc9d22e', @p0='0', @p1=NULL (Size = 4000), @p2=NULL (Size = 4000), @p3='4a49baff-fe3c-4de3-8629-4f1d1742a190' (Size = 4000), @p4='0001-01-01T00:00:00.0000000', @p5='hieudev623@gmail.com' (Size = 4000), @p6='False', @p7=NULL (Size = 4000), @p8='string' (Size = 4000), @p9='string' (Size = 4000), @p10='True', @p11=NULL (DbType = DateTimeOffset), @p12='HIEUDEV623@GMAIL.COM' (Size = 4000), @p13='HIEUDEV623@GMAIL.COM' (Size = 4000), @p14='AQAAAAIAAYagAAAAEOiPpBokYlSkEC+d02xoD/i+J7eqsLLu7DSsJ81dRATS6kNmXZ0iqlKW+MyrpBSxrg==' (Size = 4000), @p15='string' (Size = 4000), @p16='False', @p17='2NY45BI7WOARIEHYY6FGFCK7CRKIR7Z6' (Size = 4000), @p18='False', @p19='0001-01-01T00:00:00.0000000', @p20='hieudev623@gmail.com' (Size = 4000), @p22='1ddacd3b-495b-4144-b828-3c9740ba1651', @p23='e8968e46-0681-4cb4-7ffb-08dc5dc9d22e'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AppUser] SET [AccessFailedCount] = @p0, [Address] = @p1, [Avatar] = @p2, [ConcurrencyStamp] = @p3, [CreatedDate] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [Facebook] = @p7, [FirstName] = @p8, [LastName] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [SecurityStamp] = @p17, [TwoFactorEnabled] = @p18, [UpdateDate] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21;
INSERT INTO [AppUserRole] ([RoleId], [UserId])
VALUES (@p22, @p23);
2024-04-16 11:03:44.738 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 11:03:44.740 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 1ms reading results.
2024-04-16 11:03:44.740 +07:00 [DBG] Committing transaction.
2024-04-16 11:03:44.741 +07:00 [DBG] Committed transaction.
2024-04-16 11:03:44.741 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:03:44.742 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 11:03:44.742 +07:00 [DBG] Disposing transaction.
2024-04-16 11:03:44.742 +07:00 [DBG] The 'IdentityUserRole' entity with key '{RoleId: 1ddacd3b-495b-4144-b828-3c9740ba1651, UserId: e8968e46-0681-4cb4-7ffb-08dc5dc9d22e}' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'.
2024-04-16 11:03:44.743 +07:00 [DBG] The 'AppUser' entity with key '{Id: e8968e46-0681-4cb4-7ffb-08dc5dc9d22e}' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'.
2024-04-16 11:03:44.743 +07:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 2 entities written to the database.
2024-04-16 11:03:45.341 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 11:03:45.341 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0055ms - processed: 0 items - remaining: 2 items
2024-04-16 11:03:46.115 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:03:46.116 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:03:46.116 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 11:03:46.117 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 11:03:46.124 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-04-16 11:03:46.124 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='HIEUDEV623@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-04-16 11:03:46.132 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='HIEUDEV623@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-04-16 11:03:46.134 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 11:03:46.134 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 0ms reading results.
2024-04-16 11:03:46.135 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:03:46.136 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 11:03:46.832 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-04-16 11:03:46.833 +07:00 [DBG] No information found on request to perform content negotiation.
2024-04-16 11:03:46.833 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-04-16 11:03:46.833 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-04-16 11:03:46.835 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-04-16 11:03:46.835 +07:00 [INF] Executing OkObjectResult, writing value of type 'FoodShop.Contract.Abstraction.Shared.Result`1[[FoodShop.Contract.DataTransferObjects.Respone.V1.UserAuthResponse, FoodShop.Contract, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-04-16 11:03:46.836 +07:00 [INF] Executed action FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation) in 6815.4835ms
2024-04-16 11:03:46.837 +07:00 [INF] Executed endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)'
2024-04-16 11:03:46.838 +07:00 [DBG] 'ApplicationDbContext' disposed.
2024-04-16 11:03:46.838 +07:00 [DBG] Disposing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:03:46.839 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-04-16 11:03:46.839 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7286/api/v1/Authentication/register - 200 null application/json; charset=utf-8; ver=1 6852.5154ms
2024-04-16 11:03:55.352 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 11:03:55.355 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0082ms - processed: 0 items - remaining: 2 items
2024-04-16 11:04:05.370 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 11:04:05.370 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0058ms - processed: 0 items - remaining: 2 items
2024-04-16 11:04:15.385 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 11:04:15.386 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0073ms - processed: 0 items - remaining: 2 items
2024-04-16 11:04:25.396 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 11:04:25.396 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0037ms - processed: 0 items - remaining: 2 items
2024-04-16 11:04:45.838 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-04-16 11:04:46.482 +07:00 [DBG] The index {'ProductId'} was not created on entity type 'CartProduct' as the properties are already covered by the index {'ProductId', 'CartId'}.
2024-04-16 11:04:46.484 +07:00 [DBG] The index {'OrderId'} was not created on entity type 'OrderProduct' as the properties are already covered by the index {'OrderId', 'ProductId'}.
2024-04-16 11:04:46.484 +07:00 [DBG] The index {'ProductId'} was not created on entity type 'ProductCategory' as the properties are already covered by the index {'ProductId', 'CategoryId'}.
2024-04-16 11:04:46.485 +07:00 [DBG] The index {'RoleId'} was not created on entity type 'IdentityUserRole<Guid>' as the properties are already covered by the index {'RoleId', 'UserId'}.
2024-04-16 11:04:46.570 +07:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-04-16 11:04:46.596 +07:00 [DBG] The property 'IdentityUserToken<Guid>.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-04-16 11:04:46.634 +07:00 [WRN] No store type was specified for the decimal property 'Amout' on entity type 'Cart'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 11:04:46.635 +07:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'CartProduct'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 11:04:46.636 +07:00 [WRN] No store type was specified for the decimal property 'Amout' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 11:04:46.637 +07:00 [WRN] No store type was specified for the decimal property 'AmoutTotal' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 11:04:46.637 +07:00 [WRN] No store type was specified for the decimal property 'Discount' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 11:04:46.638 +07:00 [WRN] No store type was specified for the decimal property 'Shipping' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 11:04:46.638 +07:00 [WRN] No store type was specified for the decimal property 'Tax' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 11:04:46.639 +07:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'OrderProduct'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 11:04:46.639 +07:00 [WRN] No store type was specified for the decimal property 'Discount' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 11:04:46.639 +07:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 11:04:46.789 +07:00 [DBG] Entity Framework Core 8.0.4 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.3' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using lazy loading proxies QuerySplittingBehavior=SplitQuery MigrationsAssembly=FoodShop.Persistence 
2024-04-16 11:04:46.797 +07:00 [DBG] Creating DbConnection.
2024-04-16 11:04:46.856 +07:00 [DBG] Created DbConnection. (55ms).
2024-04-16 11:04:46.860 +07:00 [DBG] Migrating using database 'FoodShop' on server 'localhost'.
2024-04-16 11:04:46.869 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:04:47.182 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:04:47.187 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-04-16 11:04:47.197 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (5ms).
2024-04-16 11:04:47.199 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (13ms).
2024-04-16 11:04:47.207 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 11:04:47.233 +07:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 11:04:47.235 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:04:47.242 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (4ms).
2024-04-16 11:04:47.244 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-04-16 11:04:47.244 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 11:04:47.245 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 11:04:47.245 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:04:47.246 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:04:47.246 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 11:04:47.258 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 11:04:47.259 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:04:47.259 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 11:04:47.260 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:04:47.260 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:04:47.260 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-04-16 11:04:47.261 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-04-16 11:04:47.261 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-04-16 11:04:47.261 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 11:04:47.262 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 11:04:47.263 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:04:47.263 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 11:04:47.263 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-04-16 11:04:47.263 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 11:04:47.263 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 11:04:47.263 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:04:47.264 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:04:47.264 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 11:04:47.265 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 11:04:47.265 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:04:47.265 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 11:04:47.275 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:04:47.276 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:04:47.276 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 11:04:47.276 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 11:04:47.276 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 11:04:47.277 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-16 11:04:47.280 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-16 11:04:47.283 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 11:04:47.284 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 2ms reading results.
2024-04-16 11:04:47.285 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:04:47.285 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 11:04:47.293 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-04-16 11:04:47.328 +07:00 [DBG] Compiling query expression: 
'DbSet<AppRole>()
    .Any()'
2024-04-16 11:04:47.495 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SplitQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AppRole AS a)), 
    ReaderColumn[] { ReaderColumn<bool> }, 
    Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, bool>, 
    null, 
    null, 
    FoodShop.Persistence.ApplicationDbContext, 
    False, 
    True, 
    True
)
    .Single()'
2024-04-16 11:04:47.523 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:04:47.523 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:04:47.523 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 11:04:47.523 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 11:04:47.524 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 11:04:47.524 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AppRole] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-04-16 11:04:47.537 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AppRole] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-04-16 11:04:47.552 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 11:04:47.552 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 2ms reading results.
2024-04-16 11:04:47.553 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:04:47.553 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 11:04:47.555 +07:00 [DBG] 'ApplicationDbContext' disposed.
2024-04-16 11:04:47.557 +07:00 [DBG] Disposing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:04:47.559 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-04-16 11:04:47.624 +07:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-04-16 11:04:47.712 +07:00 [DBG] Hosting starting
2024-04-16 11:04:47.741 +07:00 [INF] User profile is available. Using 'C:\Users\hieud\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-04-16 11:04:47.750 +07:00 [DBG] Reading data from file 'C:\Users\hieud\AppData\Local\ASP.NET\DataProtection-Keys\key-5b2baa0a-904f-4101-af08-7ac673b8db2c.xml'.
2024-04-16 11:04:47.756 +07:00 [DBG] Found key {5b2baa0a-904f-4101-af08-7ac673b8db2c}.
2024-04-16 11:04:47.767 +07:00 [DBG] Considering key {5b2baa0a-904f-4101-af08-7ac673b8db2c} with expiration date 2024-05-20 17:09:10Z as default key.
2024-04-16 11:04:47.774 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-04-16 11:04:47.775 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-04-16 11:04:47.778 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-04-16 11:04:47.782 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-04-16 11:04:47.785 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-04-16 11:04:47.790 +07:00 [DBG] Using key {5b2baa0a-904f-4101-af08-7ac673b8db2c} as the default key.
2024-04-16 11:04:47.791 +07:00 [DBG] Key ring with default key {5b2baa0a-904f-4101-af08-7ac673b8db2c} was loaded during application startup.
2024-04-16 11:04:47.983 +07:00 [INF] Now listening on: https://localhost:7286
2024-04-16 11:04:47.983 +07:00 [INF] Now listening on: http://localhost:5010
2024-04-16 11:04:47.984 +07:00 [DBG] Loaded hosting startup assembly FoodShop.API
2024-04-16 11:04:47.984 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-04-16 11:04:47.984 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-04-16 11:04:47.984 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-04-16 11:04:48.057 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-04-16 11:04:48.058 +07:00 [INF] Hosting environment: Development
2024-04-16 11:04:48.058 +07:00 [INF] Content root path: C:\Users\hieud\Code\C#\FoodShop\FoodShop\src\FoodShop.API
2024-04-16 11:04:48.058 +07:00 [DBG] Hosting started
2024-04-16 11:04:48.373 +07:00 [DBG] Connection id "0HN2TP9DRSB8P" received FIN.
2024-04-16 11:04:48.380 +07:00 [DBG] Connection id "0HN2TP9DRSB8P" accepted.
2024-04-16 11:04:48.381 +07:00 [DBG] Connection id "0HN2TP9DRSB8P" started.
2024-04-16 11:04:48.399 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-04-16 11:04:48.415 +07:00 [DBG] Connection id "0HN2TP9DRSB8P" stopped.
2024-04-16 11:04:48.418 +07:00 [DBG] Connection id "0HN2TP9DRSB8P" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-04-16 11:04:48.661 +07:00 [DBG] Connection id "0HN2TP9DRSB8Q" accepted.
2024-04-16 11:04:48.662 +07:00 [DBG] Connection id "0HN2TP9DRSB8Q" started.
2024-04-16 11:04:48.696 +07:00 [DBG] Connection 0HN2TP9DRSB8Q established using the following protocol: "Tls13"
2024-04-16 11:04:48.760 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/swagger/index.html - null null
2024-04-16 11:04:48.865 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-04-16 11:04:48.911 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-04-16 11:04:48.912 +07:00 [DBG] Request did not match any endpoints
2024-04-16 11:04:49.033 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-16 11:04:49.122 +07:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-04-16 11:04:49.125 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-04-16 11:04:49.149 +07:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-04-16 11:04:49.151 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-04-16 11:04:49.157 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/swagger/index.html - 200 null text/html;charset=utf-8 401.8237ms
2024-04-16 11:04:49.214 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/_framework/aspnetcore-browser-refresh.js - null null
2024-04-16 11:04:49.214 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/_vs/browserLink - null null
2024-04-16 11:04:49.242 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 28.3522ms
2024-04-16 11:04:49.634 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/_vs/browserLink - 200 null text/javascript; charset=UTF-8 421.7386ms
2024-04-16 11:04:49.723 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/swagger/v1/swagger.json - null null
2024-04-16 11:04:49.724 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-04-16 11:04:49.724 +07:00 [DBG] Request did not match any endpoints
2024-04-16 11:04:49.725 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-16 11:04:49.857 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 134.5151ms
2024-04-16 11:05:01.000 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7286/api/v1/Authentication/register - application/json; ver=1.0 164
2024-04-16 11:05:01.031 +07:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Authentication/register'
2024-04-16 11:05:01.034 +07:00 [DBG] Endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)' with route pattern 'api/v{version:apiVersion}/Authentication/register' is valid for the request path '/api/v1/Authentication/register'
2024-04-16 11:05:01.040 +07:00 [DBG] Request matched endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)'
2024-04-16 11:05:01.044 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-16 11:05:01.046 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-04-16 11:05:01.047 +07:00 [INF] Start request......!
2024-04-16 11:05:01.051 +07:00 [INF] Executing endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)'
2024-04-16 11:05:01.085 +07:00 [INF] Route matched with {action = "Register", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest) on controller FoodShop.Presentation.Controllers.V1.AuthenticationController (FoodShop.Presentation).
2024-04-16 11:05:01.087 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-04-16 11:05:01.088 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-04-16 11:05:01.089 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)","Asp.Versioning.ApplyContentTypeVersionActionFilter"]
2024-04-16 11:05:01.090 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-04-16 11:05:01.091 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-04-16 11:05:01.094 +07:00 [DBG] Executing controller factory for controller FoodShop.Presentation.Controllers.V1.AuthenticationController (FoodShop.Presentation)
2024-04-16 11:05:01.342 +07:00 [DBG] Executed controller factory for controller FoodShop.Presentation.Controllers.V1.AuthenticationController (FoodShop.Presentation)
2024-04-16 11:05:01.348 +07:00 [DBG] Attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest' ...
2024-04-16 11:05:01.353 +07:00 [DBG] Attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest' using the name '' in request data ...
2024-04-16 11:05:01.356 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json; ver=1.0'.
2024-04-16 11:05:01.363 +07:00 [DBG] Connection id "0HN2TP9DRSB8Q", Request id "0HN2TP9DRSB8Q:00000009": started reading request body.
2024-04-16 11:05:01.364 +07:00 [DBG] Connection id "0HN2TP9DRSB8Q", Request id "0HN2TP9DRSB8Q:00000009": done reading request body.
2024-04-16 11:05:01.367 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'
2024-04-16 11:05:01.369 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'.
2024-04-16 11:05:01.369 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'.
2024-04-16 11:05:01.370 +07:00 [DBG] Attempting to validate the bound parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest' ...
2024-04-16 11:05:01.380 +07:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'.
2024-04-16 11:05:04.771 +07:00 [DBG] Entity Framework Core 8.0.4 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.3' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using lazy loading proxies QuerySplittingBehavior=SplitQuery MigrationsAssembly=FoodShop.Persistence 
2024-04-16 11:05:04.786 +07:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2024-04-16 11:05:05.215 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppUser>(
    asyncEnumerable: new SplitQueryingEnumerable<AppUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AppUser.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: AppUser.AccessFailedCount (int) Required, 1], [Property: AppUser.Address (string), 2], [Property: AppUser.Avatar (string), 3], [Property: AppUser.ConcurrencyStamp (string), 4], [Property: AppUser.CreatedDate (DateTime) Required, 5], [Property: AppUser.Email (string), 6], [Property: AppUser.EmailConfirmed (bool) Required, 7], [Property: AppUser.Facebook (string), 8], [Property: AppUser.FirstName (string), 9], [Property: AppUser.LastName (string), 10], [Property: AppUser.LockoutEnabled (bool) Required, 11], [Property: AppUser.LockoutEnd (DateTimeOffset?), 12], [Property: AppUser.NormalizedEmail (string), 13], [Property: AppUser.NormalizedUserName (string), 14], [Property: AppUser.PasswordHash (string), 15], [Property: AppUser.PhoneNumber (string), 16], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 17], [Property: AppUser.SecurityStamp (string), 18], [Property: AppUser.TwoFactorEnabled (bool) Required, 19], [Property: AppUser.UpdateDate (DateTime) Required, 20], [Property: AppUser.UserName (string), 21] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.Address, a.Avatar, a.ConcurrencyStamp, a.CreatedDate, a.Email, a.EmailConfirmed, a.Facebook, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UpdateDate, a.UserName
            FROM AppUser AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<int>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<DateTime>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<DateTimeOffset>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<DateTime>, ReaderColumn<object> }, 
        Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, AppUser>, 
        null, 
        null, 
        FoodShop.Persistence.ApplicationDbContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-04-16 11:05:05.235 +07:00 [DBG] Creating DbConnection.
2024-04-16 11:05:05.235 +07:00 [DBG] Created DbConnection. (0ms).
2024-04-16 11:05:05.237 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:05:05.240 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:05:05.240 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 11:05:05.240 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 11:05:05.244 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-04-16 11:05:05.248 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 11:05:05.289 +07:00 [INF] Executed DbCommand (44ms) [Parameters=[@__normalizedUserName_0='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 11:05:05.327 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 11:05:05.327 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 7ms reading results.
2024-04-16 11:05:05.330 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:05:05.332 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (2ms).
2024-04-16 11:05:05.362 +07:00 [DBG] 'ApplicationDbContext' generated value '"c2dd40cb-e264-4986-25ee-08dc5dca65de"' for the property 'AppUser.Id'.
2024-04-16 11:05:05.452 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'AppUser' entity with key '{Id: c2dd40cb-e264-4986-25ee-08dc5dca65de}'.
2024-04-16 11:05:05.457 +07:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-04-16 11:05:05.459 +07:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-04-16 11:05:05.481 +07:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-04-16 11:05:05.553 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:05:05.553 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:05:05.556 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 11:05:05.556 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 11:05:05.557 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-04-16 11:05:05.559 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='c2dd40cb-e264-4986-25ee-08dc5dca65de', @p1='0', @p2=NULL (Size = 4000), @p3=NULL (Size = 4000), @p4='7bde0725-3793-473d-be61-cf5ff72763f2' (Size = 4000), @p5='0001-01-01T00:00:00.0000000', @p6='anhhieuqtqtqt@gmail.com' (Size = 4000), @p7='False', @p8=NULL (Size = 4000), @p9='string' (Size = 4000), @p10='string' (Size = 4000), @p11='True', @p12=NULL (DbType = DateTimeOffset), @p13='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000), @p14='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000), @p15='AQAAAAIAAYagAAAAEJ7h53tcdVagOgM+QnlW2xoPTT7VJ23XEGoxiAmCAdP4Hl4Rm982GvAGu921r7Ibbg==' (Size = 4000), @p16='string' (Size = 4000), @p17='False', @p18='TJY5D4IRU43Q2WTPJLVGW7IVXX43I2PP' (Size = 4000), @p19='False', @p20='0001-01-01T00:00:00.0000000', @p21='anhhieuqtqtqt@gmail.com' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AppUser] ([Id], [AccessFailedCount], [Address], [Avatar], [ConcurrencyStamp], [CreatedDate], [Email], [EmailConfirmed], [Facebook], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UpdateDate], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21);
2024-04-16 11:05:05.569 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='c2dd40cb-e264-4986-25ee-08dc5dca65de', @p1='0', @p2=NULL (Size = 4000), @p3=NULL (Size = 4000), @p4='7bde0725-3793-473d-be61-cf5ff72763f2' (Size = 4000), @p5='0001-01-01T00:00:00.0000000', @p6='anhhieuqtqtqt@gmail.com' (Size = 4000), @p7='False', @p8=NULL (Size = 4000), @p9='string' (Size = 4000), @p10='string' (Size = 4000), @p11='True', @p12=NULL (DbType = DateTimeOffset), @p13='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000), @p14='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000), @p15='AQAAAAIAAYagAAAAEJ7h53tcdVagOgM+QnlW2xoPTT7VJ23XEGoxiAmCAdP4Hl4Rm982GvAGu921r7Ibbg==' (Size = 4000), @p16='string' (Size = 4000), @p17='False', @p18='TJY5D4IRU43Q2WTPJLVGW7IVXX43I2PP' (Size = 4000), @p19='False', @p20='0001-01-01T00:00:00.0000000', @p21='anhhieuqtqtqt@gmail.com' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AppUser] ([Id], [AccessFailedCount], [Address], [Avatar], [ConcurrencyStamp], [CreatedDate], [Email], [EmailConfirmed], [Facebook], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UpdateDate], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21);
2024-04-16 11:05:05.575 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 11:05:05.576 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 5ms reading results.
2024-04-16 11:05:05.578 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:05:05.579 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 11:05:05.595 +07:00 [DBG] The 'AppUser' entity with key '{Id: c2dd40cb-e264-4986-25ee-08dc5dca65de}' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'.
2024-04-16 11:05:05.599 +07:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-04-16 11:05:06.914 +07:00 [DBG] Compiling query expression: 
'DbSet<AppRole>()
    .SingleOrDefault(r => r.NormalizedName == __normalizedRoleName_0)'
2024-04-16 11:05:07.020 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppRole>(
    asyncEnumerable: new SplitQueryingEnumerable<AppRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AppRole.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: AppRole.ConcurrencyStamp (string), 1], [Property: AppRole.CreateBy (string), 2], [Property: AppRole.CreateDate (DateTime?), 3], [Property: AppRole.Description (string) Required MaxLength(250), 4], [Property: AppRole.Name (string), 5], [Property: AppRole.NormalizedName (string), 6], [Property: AppRole.RoleCode (string) Required MaxLength(50), 7], [Property: AppRole.UpdateBy (string), 8], [Property: AppRole.UpdateDate (DateTime?), 9] }
            SELECT TOP(2) a.Id, a.ConcurrencyStamp, a.CreateBy, a.CreateDate, a.Description, a.Name, a.NormalizedName, a.RoleCode, a.UpdateBy, a.UpdateDate
            FROM AppRole AS a
            WHERE a.NormalizedName == @__normalizedRoleName_0), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<DateTime>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<DateTime> }, 
        Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, AppRole>, 
        null, 
        null, 
        FoodShop.Persistence.ApplicationDbContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-04-16 11:05:07.021 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:05:07.022 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:05:07.023 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 11:05:07.023 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 11:05:07.023 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 11:05:07.023 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 11:05:07.026 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 11:05:07.083 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'AppRole' entity with key '{Id: 1ddacd3b-495b-4144-b828-3c9740ba1651}'.
2024-04-16 11:05:07.126 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 11:05:07.126 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 70ms reading results.
2024-04-16 11:05:07.127 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:05:07.128 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 11:05:07.159 +07:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<Guid>>()
    .FirstOrDefault(e => object.Equals(
        objA: EF.Property<object>(e, "RoleId"), 
        objB: __get_Item_0) && object.Equals(
        objA: EF.Property<object>(e, "UserId"), 
        objB: __get_Item_1))'
2024-04-16 11:05:07.290 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityUserRole<Guid>>(
    asyncEnumerable: new SplitQueryingEnumerable<IdentityUserRole<Guid>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUserRole<Guid>.RoleId (Guid) Required PK FK AfterSave:Throw, 0], [Property: IdentityUserRole<Guid>.UserId (Guid) Required PK FK Index AfterSave:Throw, 1] }
            SELECT TOP(1) a.RoleId, a.UserId
            FROM AppUserRole AS a
            WHERE (a.RoleId == @__get_Item_0) && (a.UserId == @__get_Item_1)), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<Guid> }, 
        Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, IdentityUserRole<Guid>>, 
        null, 
        null, 
        FoodShop.Persistence.ApplicationDbContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-04-16 11:05:07.298 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:05:07.299 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:05:07.300 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 11:05:07.301 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 11:05:07.301 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-04-16 11:05:07.302 +07:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='c2dd40cb-e264-4986-25ee-08dc5dca65de' (Nullable = true), @__get_Item_1='1ddacd3b-495b-4144-b828-3c9740ba1651' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[RoleId], [a].[UserId]
FROM [AppUserRole] AS [a]
WHERE [a].[RoleId] = @__get_Item_0 AND [a].[UserId] = @__get_Item_1
2024-04-16 11:05:07.306 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__get_Item_0='c2dd40cb-e264-4986-25ee-08dc5dca65de' (Nullable = true), @__get_Item_1='1ddacd3b-495b-4144-b828-3c9740ba1651' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[RoleId], [a].[UserId]
FROM [AppUserRole] AS [a]
WHERE [a].[RoleId] = @__get_Item_0 AND [a].[UserId] = @__get_Item_1
2024-04-16 11:05:07.308 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 11:05:07.309 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 0ms reading results.
2024-04-16 11:05:07.309 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:05:07.310 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 11:05:07.321 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:05:07.322 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:05:07.323 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 11:05:07.323 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 11:05:07.324 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 11:05:07.324 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 11:05:07.327 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 11:05:07.330 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 11:05:07.331 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 1ms reading results.
2024-04-16 11:05:07.332 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:05:07.332 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 11:05:07.382 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityUserRole' entity with key '{RoleId: 1ddacd3b-495b-4144-b828-3c9740ba1651, UserId: c2dd40cb-e264-4986-25ee-08dc5dca65de}'.
2024-04-16 11:05:07.386 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:05:07.386 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:05:07.386 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 11:05:07.386 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 11:05:07.387 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 11:05:07.387 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 11:05:07.389 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 11:05:07.392 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 11:05:07.393 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 0ms reading results.
2024-04-16 11:05:07.393 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:05:07.393 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 11:05:07.398 +07:00 [DBG] The 'AppUser' entity with key '{Id: c2dd40cb-e264-4986-25ee-08dc5dca65de}' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'.
2024-04-16 11:05:07.398 +07:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-04-16 11:05:07.398 +07:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-04-16 11:05:07.407 +07:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-04-16 11:05:07.419 +07:00 [DBG] Executing 2 update commands as a batch.
2024-04-16 11:05:07.421 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:05:07.421 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:05:07.423 +07:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-04-16 11:05:07.430 +07:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-04-16 11:05:07.432 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 11:05:07.432 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 11:05:07.434 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-04-16 11:05:07.435 +07:00 [DBG] Executing DbCommand [Parameters=[@p21='c2dd40cb-e264-4986-25ee-08dc5dca65de', @p0='0', @p1=NULL (Size = 4000), @p2=NULL (Size = 4000), @p3='4c6fcbe3-5240-4a4a-a491-fdd63b5dff55' (Size = 4000), @p4='0001-01-01T00:00:00.0000000', @p5='anhhieuqtqtqt@gmail.com' (Size = 4000), @p6='False', @p7=NULL (Size = 4000), @p8='string' (Size = 4000), @p9='string' (Size = 4000), @p10='True', @p11=NULL (DbType = DateTimeOffset), @p12='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000), @p13='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000), @p14='AQAAAAIAAYagAAAAEJ7h53tcdVagOgM+QnlW2xoPTT7VJ23XEGoxiAmCAdP4Hl4Rm982GvAGu921r7Ibbg==' (Size = 4000), @p15='string' (Size = 4000), @p16='False', @p17='TJY5D4IRU43Q2WTPJLVGW7IVXX43I2PP' (Size = 4000), @p18='False', @p19='0001-01-01T00:00:00.0000000', @p20='anhhieuqtqtqt@gmail.com' (Size = 4000), @p22='1ddacd3b-495b-4144-b828-3c9740ba1651', @p23='c2dd40cb-e264-4986-25ee-08dc5dca65de'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AppUser] SET [AccessFailedCount] = @p0, [Address] = @p1, [Avatar] = @p2, [ConcurrencyStamp] = @p3, [CreatedDate] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [Facebook] = @p7, [FirstName] = @p8, [LastName] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [SecurityStamp] = @p17, [TwoFactorEnabled] = @p18, [UpdateDate] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21;
INSERT INTO [AppUserRole] ([RoleId], [UserId])
VALUES (@p22, @p23);
2024-04-16 11:05:07.442 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@p21='c2dd40cb-e264-4986-25ee-08dc5dca65de', @p0='0', @p1=NULL (Size = 4000), @p2=NULL (Size = 4000), @p3='4c6fcbe3-5240-4a4a-a491-fdd63b5dff55' (Size = 4000), @p4='0001-01-01T00:00:00.0000000', @p5='anhhieuqtqtqt@gmail.com' (Size = 4000), @p6='False', @p7=NULL (Size = 4000), @p8='string' (Size = 4000), @p9='string' (Size = 4000), @p10='True', @p11=NULL (DbType = DateTimeOffset), @p12='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000), @p13='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000), @p14='AQAAAAIAAYagAAAAEJ7h53tcdVagOgM+QnlW2xoPTT7VJ23XEGoxiAmCAdP4Hl4Rm982GvAGu921r7Ibbg==' (Size = 4000), @p15='string' (Size = 4000), @p16='False', @p17='TJY5D4IRU43Q2WTPJLVGW7IVXX43I2PP' (Size = 4000), @p18='False', @p19='0001-01-01T00:00:00.0000000', @p20='anhhieuqtqtqt@gmail.com' (Size = 4000), @p22='1ddacd3b-495b-4144-b828-3c9740ba1651', @p23='c2dd40cb-e264-4986-25ee-08dc5dca65de'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AppUser] SET [AccessFailedCount] = @p0, [Address] = @p1, [Avatar] = @p2, [ConcurrencyStamp] = @p3, [CreatedDate] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [Facebook] = @p7, [FirstName] = @p8, [LastName] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [SecurityStamp] = @p17, [TwoFactorEnabled] = @p18, [UpdateDate] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21;
INSERT INTO [AppUserRole] ([RoleId], [UserId])
VALUES (@p22, @p23);
2024-04-16 11:05:07.445 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 11:05:07.445 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 1ms reading results.
2024-04-16 11:05:07.448 +07:00 [DBG] Committing transaction.
2024-04-16 11:05:07.462 +07:00 [DBG] Committed transaction.
2024-04-16 11:05:07.465 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:05:07.466 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 11:05:07.469 +07:00 [DBG] Disposing transaction.
2024-04-16 11:05:07.470 +07:00 [DBG] The 'IdentityUserRole' entity with key '{RoleId: 1ddacd3b-495b-4144-b828-3c9740ba1651, UserId: c2dd40cb-e264-4986-25ee-08dc5dca65de}' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'.
2024-04-16 11:05:07.471 +07:00 [DBG] The 'AppUser' entity with key '{Id: c2dd40cb-e264-4986-25ee-08dc5dca65de}' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'.
2024-04-16 11:05:07.471 +07:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 2 entities written to the database.
2024-04-16 11:05:41.425 +07:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2024-04-16 11:05:41.447 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppUser>(
    asyncEnumerable: new SplitQueryingEnumerable<AppUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AppUser.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: AppUser.AccessFailedCount (int) Required, 1], [Property: AppUser.Address (string), 2], [Property: AppUser.Avatar (string), 3], [Property: AppUser.ConcurrencyStamp (string), 4], [Property: AppUser.CreatedDate (DateTime) Required, 5], [Property: AppUser.Email (string), 6], [Property: AppUser.EmailConfirmed (bool) Required, 7], [Property: AppUser.Facebook (string), 8], [Property: AppUser.FirstName (string), 9], [Property: AppUser.LastName (string), 10], [Property: AppUser.LockoutEnabled (bool) Required, 11], [Property: AppUser.LockoutEnd (DateTimeOffset?), 12], [Property: AppUser.NormalizedEmail (string), 13], [Property: AppUser.NormalizedUserName (string), 14], [Property: AppUser.PasswordHash (string), 15], [Property: AppUser.PhoneNumber (string), 16], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 17], [Property: AppUser.SecurityStamp (string), 18], [Property: AppUser.TwoFactorEnabled (bool) Required, 19], [Property: AppUser.UpdateDate (DateTime) Required, 20], [Property: AppUser.UserName (string), 21] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.Address, a.Avatar, a.ConcurrencyStamp, a.CreatedDate, a.Email, a.EmailConfirmed, a.Facebook, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UpdateDate, a.UserName
            FROM AppUser AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<int>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<DateTime>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<DateTimeOffset>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<DateTime>, ReaderColumn<object> }, 
        Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, AppUser>, 
        null, 
        null, 
        FoodShop.Persistence.ApplicationDbContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-04-16 11:05:41.449 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:05:41.449 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:05:41.449 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 11:05:41.450 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 11:05:41.450 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 11:05:41.450 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-04-16 11:05:41.484 +07:00 [INF] Executed DbCommand (34ms) [Parameters=[@__normalizedEmail_0='ANHHIEUQTQTQT@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-04-16 11:05:41.486 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 11:05:41.488 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 1ms reading results.
2024-04-16 11:05:41.488 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:05:41.488 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 11:08:03.616 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-04-16 11:08:04.228 +07:00 [DBG] The index {'ProductId'} was not created on entity type 'CartProduct' as the properties are already covered by the index {'ProductId', 'CartId'}.
2024-04-16 11:08:04.230 +07:00 [DBG] The index {'OrderId'} was not created on entity type 'OrderProduct' as the properties are already covered by the index {'OrderId', 'ProductId'}.
2024-04-16 11:08:04.230 +07:00 [DBG] The index {'ProductId'} was not created on entity type 'ProductCategory' as the properties are already covered by the index {'ProductId', 'CategoryId'}.
2024-04-16 11:08:04.230 +07:00 [DBG] The index {'RoleId'} was not created on entity type 'IdentityUserRole<Guid>' as the properties are already covered by the index {'RoleId', 'UserId'}.
2024-04-16 11:08:04.329 +07:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-04-16 11:08:04.352 +07:00 [DBG] The property 'IdentityUserToken<Guid>.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-04-16 11:08:04.376 +07:00 [WRN] No store type was specified for the decimal property 'Amout' on entity type 'Cart'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 11:08:04.377 +07:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'CartProduct'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 11:08:04.377 +07:00 [WRN] No store type was specified for the decimal property 'Amout' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 11:08:04.378 +07:00 [WRN] No store type was specified for the decimal property 'AmoutTotal' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 11:08:04.378 +07:00 [WRN] No store type was specified for the decimal property 'Discount' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 11:08:04.379 +07:00 [WRN] No store type was specified for the decimal property 'Shipping' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 11:08:04.379 +07:00 [WRN] No store type was specified for the decimal property 'Tax' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 11:08:04.380 +07:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'OrderProduct'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 11:08:04.380 +07:00 [WRN] No store type was specified for the decimal property 'Discount' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 11:08:04.381 +07:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 11:08:04.525 +07:00 [DBG] Entity Framework Core 8.0.4 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.3' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using lazy loading proxies QuerySplittingBehavior=SplitQuery MigrationsAssembly=FoodShop.Persistence 
2024-04-16 11:08:04.530 +07:00 [DBG] Creating DbConnection.
2024-04-16 11:08:04.578 +07:00 [DBG] Created DbConnection. (43ms).
2024-04-16 11:08:04.581 +07:00 [DBG] Migrating using database 'FoodShop' on server 'localhost'.
2024-04-16 11:08:04.587 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:08:04.812 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:08:04.817 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-04-16 11:08:04.824 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (5ms).
2024-04-16 11:08:04.826 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (10ms).
2024-04-16 11:08:04.832 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 11:08:04.857 +07:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 11:08:04.859 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:08:04.865 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (4ms).
2024-04-16 11:08:04.869 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-04-16 11:08:04.869 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 11:08:04.869 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 11:08:04.869 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:08:04.870 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:08:04.871 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 11:08:04.889 +07:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 11:08:04.890 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:08:04.890 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 11:08:04.892 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:08:04.892 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:08:04.893 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-04-16 11:08:04.893 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-04-16 11:08:04.893 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-04-16 11:08:04.894 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 11:08:04.895 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 11:08:04.896 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:08:04.897 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 11:08:04.897 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-04-16 11:08:04.897 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 11:08:04.898 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 11:08:04.898 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:08:04.898 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:08:04.899 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 11:08:04.900 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 11:08:04.900 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:08:04.900 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 11:08:04.919 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:08:04.920 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:08:04.920 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 11:08:04.920 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 11:08:04.921 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 11:08:04.922 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-16 11:08:04.937 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-16 11:08:04.943 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 11:08:04.946 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 6ms reading results.
2024-04-16 11:08:04.947 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:08:04.948 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 11:08:04.963 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-04-16 11:08:05.041 +07:00 [DBG] Compiling query expression: 
'DbSet<AppRole>()
    .Any()'
2024-04-16 11:08:05.225 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SplitQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AppRole AS a)), 
    ReaderColumn[] { ReaderColumn<bool> }, 
    Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, bool>, 
    null, 
    null, 
    FoodShop.Persistence.ApplicationDbContext, 
    False, 
    True, 
    True
)
    .Single()'
2024-04-16 11:08:05.249 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:08:05.249 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:08:05.249 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 11:08:05.250 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 11:08:05.250 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 11:08:05.250 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AppRole] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-04-16 11:08:05.263 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AppRole] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-04-16 11:08:05.278 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 11:08:05.279 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 2ms reading results.
2024-04-16 11:08:05.280 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:08:05.280 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 11:08:05.282 +07:00 [DBG] 'ApplicationDbContext' disposed.
2024-04-16 11:08:05.285 +07:00 [DBG] Disposing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:08:05.287 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-04-16 11:08:06.864 +07:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-04-16 11:08:07.465 +07:00 [DBG] Hosting starting
2024-04-16 11:08:07.513 +07:00 [INF] User profile is available. Using 'C:\Users\hieud\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-04-16 11:08:07.529 +07:00 [DBG] Reading data from file 'C:\Users\hieud\AppData\Local\ASP.NET\DataProtection-Keys\key-5b2baa0a-904f-4101-af08-7ac673b8db2c.xml'.
2024-04-16 11:08:07.543 +07:00 [DBG] Found key {5b2baa0a-904f-4101-af08-7ac673b8db2c}.
2024-04-16 11:08:07.567 +07:00 [DBG] Considering key {5b2baa0a-904f-4101-af08-7ac673b8db2c} with expiration date 2024-05-20 17:09:10Z as default key.
2024-04-16 11:08:07.579 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-04-16 11:08:07.581 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-04-16 11:08:07.585 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-04-16 11:08:07.589 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-04-16 11:08:07.596 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-04-16 11:08:07.604 +07:00 [DBG] Using key {5b2baa0a-904f-4101-af08-7ac673b8db2c} as the default key.
2024-04-16 11:08:07.607 +07:00 [DBG] Key ring with default key {5b2baa0a-904f-4101-af08-7ac673b8db2c} was loaded during application startup.
2024-04-16 11:08:07.912 +07:00 [INF] Now listening on: https://localhost:7286
2024-04-16 11:08:07.913 +07:00 [INF] Now listening on: http://localhost:5010
2024-04-16 11:08:07.914 +07:00 [DBG] Loaded hosting startup assembly FoodShop.API
2024-04-16 11:08:07.914 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-04-16 11:08:07.915 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-04-16 11:08:07.915 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-04-16 11:08:08.048 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-04-16 11:08:08.049 +07:00 [INF] Hosting environment: Development
2024-04-16 11:08:08.049 +07:00 [INF] Content root path: C:\Users\hieud\Code\C#\FoodShop\FoodShop\src\FoodShop.API
2024-04-16 11:08:08.050 +07:00 [DBG] Hosting started
2024-04-16 11:08:08.290 +07:00 [DBG] Connection id "0HN2TPB9EDUR8" accepted.
2024-04-16 11:08:08.292 +07:00 [DBG] Connection id "0HN2TPB9EDUR8" started.
2024-04-16 11:08:08.322 +07:00 [DBG] Connection id "0HN2TPB9EDUR8" received FIN.
2024-04-16 11:08:08.341 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-04-16 11:08:08.368 +07:00 [DBG] Connection id "0HN2TPB9EDUR8" stopped.
2024-04-16 11:08:08.372 +07:00 [DBG] Connection id "0HN2TPB9EDUR8" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-04-16 11:08:08.611 +07:00 [DBG] Connection id "0HN2TPB9EDUR9" accepted.
2024-04-16 11:08:08.612 +07:00 [DBG] Connection id "0HN2TPB9EDUR9" started.
2024-04-16 11:08:08.646 +07:00 [DBG] Connection 0HN2TPB9EDUR9 established using the following protocol: "Tls13"
2024-04-16 11:08:08.703 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/swagger/index.html - null null
2024-04-16 11:08:08.852 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-04-16 11:08:08.902 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-04-16 11:08:08.904 +07:00 [DBG] Request did not match any endpoints
2024-04-16 11:08:09.046 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-16 11:08:09.122 +07:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-04-16 11:08:09.124 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-04-16 11:08:09.170 +07:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-04-16 11:08:09.171 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-04-16 11:08:09.175 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/swagger/index.html - 200 null text/html;charset=utf-8 475.6117ms
2024-04-16 11:08:09.215 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/_framework/aspnetcore-browser-refresh.js - null null
2024-04-16 11:08:09.222 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/_vs/browserLink - null null
2024-04-16 11:08:09.235 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 20.1551ms
2024-04-16 11:08:09.289 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/_vs/browserLink - 200 null text/javascript; charset=UTF-8 67.7382ms
2024-04-16 11:08:09.664 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/swagger/v1/swagger.json - null null
2024-04-16 11:08:09.665 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-04-16 11:08:09.665 +07:00 [DBG] Request did not match any endpoints
2024-04-16 11:08:09.667 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-16 11:08:09.811 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 146.7266ms
2024-04-16 11:08:28.021 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7286/api/v1/Authentication/register - application/json; ver=1.0 161
2024-04-16 11:08:28.058 +07:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Authentication/register'
2024-04-16 11:08:28.061 +07:00 [DBG] Endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)' with route pattern 'api/v{version:apiVersion}/Authentication/register' is valid for the request path '/api/v1/Authentication/register'
2024-04-16 11:08:28.067 +07:00 [DBG] Request matched endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)'
2024-04-16 11:08:28.070 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-16 11:08:28.072 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-04-16 11:08:28.074 +07:00 [INF] Start request......!
2024-04-16 11:08:28.076 +07:00 [INF] Executing endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)'
2024-04-16 11:08:28.097 +07:00 [INF] Route matched with {action = "Register", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest) on controller FoodShop.Presentation.Controllers.V1.AuthenticationController (FoodShop.Presentation).
2024-04-16 11:08:28.101 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-04-16 11:08:28.101 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-04-16 11:08:28.102 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)","Asp.Versioning.ApplyContentTypeVersionActionFilter"]
2024-04-16 11:08:28.103 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-04-16 11:08:28.104 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-04-16 11:08:28.106 +07:00 [DBG] Executing controller factory for controller FoodShop.Presentation.Controllers.V1.AuthenticationController (FoodShop.Presentation)
2024-04-16 11:08:28.298 +07:00 [DBG] Executed controller factory for controller FoodShop.Presentation.Controllers.V1.AuthenticationController (FoodShop.Presentation)
2024-04-16 11:08:28.312 +07:00 [DBG] Attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest' ...
2024-04-16 11:08:28.321 +07:00 [DBG] Attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest' using the name '' in request data ...
2024-04-16 11:08:28.324 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json; ver=1.0'.
2024-04-16 11:08:28.332 +07:00 [DBG] Connection id "0HN2TPB9EDUR9", Request id "0HN2TPB9EDUR9:00000009": started reading request body.
2024-04-16 11:08:28.333 +07:00 [DBG] Connection id "0HN2TPB9EDUR9", Request id "0HN2TPB9EDUR9:00000009": done reading request body.
2024-04-16 11:08:28.340 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'
2024-04-16 11:08:28.341 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'.
2024-04-16 11:08:28.342 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'.
2024-04-16 11:08:28.342 +07:00 [DBG] Attempting to validate the bound parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest' ...
2024-04-16 11:08:28.357 +07:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'.
2024-04-16 11:08:30.980 +07:00 [DBG] Entity Framework Core 8.0.4 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.3' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using lazy loading proxies QuerySplittingBehavior=SplitQuery MigrationsAssembly=FoodShop.Persistence 
2024-04-16 11:08:31.000 +07:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2024-04-16 11:08:31.479 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppUser>(
    asyncEnumerable: new SplitQueryingEnumerable<AppUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AppUser.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: AppUser.AccessFailedCount (int) Required, 1], [Property: AppUser.Address (string), 2], [Property: AppUser.Avatar (string), 3], [Property: AppUser.ConcurrencyStamp (string), 4], [Property: AppUser.CreatedDate (DateTime) Required, 5], [Property: AppUser.Email (string), 6], [Property: AppUser.EmailConfirmed (bool) Required, 7], [Property: AppUser.Facebook (string), 8], [Property: AppUser.FirstName (string), 9], [Property: AppUser.LastName (string), 10], [Property: AppUser.LockoutEnabled (bool) Required, 11], [Property: AppUser.LockoutEnd (DateTimeOffset?), 12], [Property: AppUser.NormalizedEmail (string), 13], [Property: AppUser.NormalizedUserName (string), 14], [Property: AppUser.PasswordHash (string), 15], [Property: AppUser.PhoneNumber (string), 16], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 17], [Property: AppUser.SecurityStamp (string), 18], [Property: AppUser.TwoFactorEnabled (bool) Required, 19], [Property: AppUser.UpdateDate (DateTime) Required, 20], [Property: AppUser.UserName (string), 21] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.Address, a.Avatar, a.ConcurrencyStamp, a.CreatedDate, a.Email, a.EmailConfirmed, a.Facebook, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UpdateDate, a.UserName
            FROM AppUser AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<int>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<DateTime>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<DateTimeOffset>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<DateTime>, ReaderColumn<object> }, 
        Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, AppUser>, 
        null, 
        null, 
        FoodShop.Persistence.ApplicationDbContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-04-16 11:08:31.527 +07:00 [DBG] Creating DbConnection.
2024-04-16 11:08:31.529 +07:00 [DBG] Created DbConnection. (1ms).
2024-04-16 11:08:31.533 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:08:31.538 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:08:31.539 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 11:08:31.540 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 11:08:31.548 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2024-04-16 11:08:31.555 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='HIEUDEV623@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 11:08:31.647 +07:00 [INF] Executed DbCommand (98ms) [Parameters=[@__normalizedUserName_0='HIEUDEV623@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 11:08:31.685 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 11:08:31.686 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 12ms reading results.
2024-04-16 11:08:31.689 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:08:31.690 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 11:08:31.731 +07:00 [DBG] 'ApplicationDbContext' generated value '"55e41b82-910f-4720-3c82-08dc5dcae0df"' for the property 'AppUser.Id'.
2024-04-16 11:08:31.861 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'AppUser' entity with key '{Id: 55e41b82-910f-4720-3c82-08dc5dcae0df}'.
2024-04-16 11:08:31.868 +07:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-04-16 11:08:31.874 +07:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-04-16 11:08:31.916 +07:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-04-16 11:08:31.990 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:08:31.991 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:08:31.994 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 11:08:31.995 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 11:08:31.995 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-04-16 11:08:31.996 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='55e41b82-910f-4720-3c82-08dc5dcae0df', @p1='0', @p2=NULL (Size = 4000), @p3=NULL (Size = 4000), @p4='ab0e362c-a38c-4330-860b-639b0777b4d3' (Size = 4000), @p5='0001-01-01T00:00:00.0000000', @p6='hieudev623@gmail.com' (Size = 4000), @p7='False', @p8=NULL (Size = 4000), @p9='string' (Size = 4000), @p10='string' (Size = 4000), @p11='True', @p12=NULL (DbType = DateTimeOffset), @p13='HIEUDEV623@GMAIL.COM' (Size = 4000), @p14='HIEUDEV623@GMAIL.COM' (Size = 4000), @p15='AQAAAAIAAYagAAAAEJd9NrE0ShSpip2437grxz2Tf9oxZDyutZZrk3WW8vGlObS6jKqRJ2pa33VTo4Yz2Q==' (Size = 4000), @p16='string' (Size = 4000), @p17='False', @p18='JC72TXJLVLQ7VTZWKEOFO5GCZTLDNO7B' (Size = 4000), @p19='False', @p20='0001-01-01T00:00:00.0000000', @p21='hieudev623@gmail.com' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AppUser] ([Id], [AccessFailedCount], [Address], [Avatar], [ConcurrencyStamp], [CreatedDate], [Email], [EmailConfirmed], [Facebook], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UpdateDate], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21);
2024-04-16 11:08:32.007 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='55e41b82-910f-4720-3c82-08dc5dcae0df', @p1='0', @p2=NULL (Size = 4000), @p3=NULL (Size = 4000), @p4='ab0e362c-a38c-4330-860b-639b0777b4d3' (Size = 4000), @p5='0001-01-01T00:00:00.0000000', @p6='hieudev623@gmail.com' (Size = 4000), @p7='False', @p8=NULL (Size = 4000), @p9='string' (Size = 4000), @p10='string' (Size = 4000), @p11='True', @p12=NULL (DbType = DateTimeOffset), @p13='HIEUDEV623@GMAIL.COM' (Size = 4000), @p14='HIEUDEV623@GMAIL.COM' (Size = 4000), @p15='AQAAAAIAAYagAAAAEJd9NrE0ShSpip2437grxz2Tf9oxZDyutZZrk3WW8vGlObS6jKqRJ2pa33VTo4Yz2Q==' (Size = 4000), @p16='string' (Size = 4000), @p17='False', @p18='JC72TXJLVLQ7VTZWKEOFO5GCZTLDNO7B' (Size = 4000), @p19='False', @p20='0001-01-01T00:00:00.0000000', @p21='hieudev623@gmail.com' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AppUser] ([Id], [AccessFailedCount], [Address], [Avatar], [ConcurrencyStamp], [CreatedDate], [Email], [EmailConfirmed], [Facebook], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UpdateDate], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21);
2024-04-16 11:08:32.011 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 11:08:32.011 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 3ms reading results.
2024-04-16 11:08:32.013 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:08:32.014 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 11:08:32.022 +07:00 [DBG] The 'AppUser' entity with key '{Id: 55e41b82-910f-4720-3c82-08dc5dcae0df}' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'.
2024-04-16 11:08:32.025 +07:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-04-16 11:08:32.032 +07:00 [DBG] Compiling query expression: 
'DbSet<AppRole>()
    .SingleOrDefault(r => r.NormalizedName == __normalizedRoleName_0)'
2024-04-16 11:08:32.151 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppRole>(
    asyncEnumerable: new SplitQueryingEnumerable<AppRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AppRole.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: AppRole.ConcurrencyStamp (string), 1], [Property: AppRole.CreateBy (string), 2], [Property: AppRole.CreateDate (DateTime?), 3], [Property: AppRole.Description (string) Required MaxLength(250), 4], [Property: AppRole.Name (string), 5], [Property: AppRole.NormalizedName (string), 6], [Property: AppRole.RoleCode (string) Required MaxLength(50), 7], [Property: AppRole.UpdateBy (string), 8], [Property: AppRole.UpdateDate (DateTime?), 9] }
            SELECT TOP(2) a.Id, a.ConcurrencyStamp, a.CreateBy, a.CreateDate, a.Description, a.Name, a.NormalizedName, a.RoleCode, a.UpdateBy, a.UpdateDate
            FROM AppRole AS a
            WHERE a.NormalizedName == @__normalizedRoleName_0), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<DateTime>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<DateTime> }, 
        Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, AppRole>, 
        null, 
        null, 
        FoodShop.Persistence.ApplicationDbContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-04-16 11:08:32.153 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:08:32.154 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:08:32.154 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 11:08:32.154 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 11:08:32.155 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 11:08:32.155 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 11:08:32.160 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 11:08:32.191 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'AppRole' entity with key '{Id: 1ddacd3b-495b-4144-b828-3c9740ba1651}'.
2024-04-16 11:08:32.228 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 11:08:32.228 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 62ms reading results.
2024-04-16 11:08:32.229 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:08:32.230 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 11:08:32.260 +07:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<Guid>>()
    .FirstOrDefault(e => object.Equals(
        objA: EF.Property<object>(e, "RoleId"), 
        objB: __get_Item_0) && object.Equals(
        objA: EF.Property<object>(e, "UserId"), 
        objB: __get_Item_1))'
2024-04-16 11:08:32.409 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityUserRole<Guid>>(
    asyncEnumerable: new SplitQueryingEnumerable<IdentityUserRole<Guid>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUserRole<Guid>.RoleId (Guid) Required PK FK AfterSave:Throw, 0], [Property: IdentityUserRole<Guid>.UserId (Guid) Required PK FK Index AfterSave:Throw, 1] }
            SELECT TOP(1) a.RoleId, a.UserId
            FROM AppUserRole AS a
            WHERE (a.RoleId == @__get_Item_0) && (a.UserId == @__get_Item_1)), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<Guid> }, 
        Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, IdentityUserRole<Guid>>, 
        null, 
        null, 
        FoodShop.Persistence.ApplicationDbContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-04-16 11:08:32.418 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:08:32.419 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:08:32.419 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 11:08:32.420 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 11:08:32.420 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 11:08:32.421 +07:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='55e41b82-910f-4720-3c82-08dc5dcae0df' (Nullable = true), @__get_Item_1='1ddacd3b-495b-4144-b828-3c9740ba1651' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[RoleId], [a].[UserId]
FROM [AppUserRole] AS [a]
WHERE [a].[RoleId] = @__get_Item_0 AND [a].[UserId] = @__get_Item_1
2024-04-16 11:08:32.425 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='55e41b82-910f-4720-3c82-08dc5dcae0df' (Nullable = true), @__get_Item_1='1ddacd3b-495b-4144-b828-3c9740ba1651' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[RoleId], [a].[UserId]
FROM [AppUserRole] AS [a]
WHERE [a].[RoleId] = @__get_Item_0 AND [a].[UserId] = @__get_Item_1
2024-04-16 11:08:32.426 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 11:08:32.427 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 0ms reading results.
2024-04-16 11:08:32.427 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:08:32.428 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 11:08:32.437 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:08:32.437 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:08:32.438 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 11:08:32.438 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 11:08:32.439 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 11:08:32.439 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 11:08:32.442 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 11:08:32.444 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 11:08:32.445 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 1ms reading results.
2024-04-16 11:08:32.445 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:08:32.446 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 11:08:32.502 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityUserRole' entity with key '{RoleId: 1ddacd3b-495b-4144-b828-3c9740ba1651, UserId: 55e41b82-910f-4720-3c82-08dc5dcae0df}'.
2024-04-16 11:08:32.508 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:08:32.509 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:08:32.510 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 11:08:32.510 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 11:08:32.511 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-04-16 11:08:32.512 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='HIEUDEV623@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 11:08:32.517 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='HIEUDEV623@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 11:08:32.524 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 11:08:32.525 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 1ms reading results.
2024-04-16 11:08:32.526 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:08:32.526 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 11:08:32.537 +07:00 [DBG] The 'AppUser' entity with key '{Id: 55e41b82-910f-4720-3c82-08dc5dcae0df}' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'.
2024-04-16 11:08:32.538 +07:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-04-16 11:08:32.539 +07:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-04-16 11:08:32.558 +07:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-04-16 11:08:32.577 +07:00 [DBG] Executing 2 update commands as a batch.
2024-04-16 11:08:32.580 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:08:32.581 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:08:32.582 +07:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-04-16 11:08:32.589 +07:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-04-16 11:08:32.590 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 11:08:32.590 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 11:08:32.592 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-04-16 11:08:32.592 +07:00 [DBG] Executing DbCommand [Parameters=[@p21='55e41b82-910f-4720-3c82-08dc5dcae0df', @p0='0', @p1=NULL (Size = 4000), @p2=NULL (Size = 4000), @p3='996f7b83-8f4c-4dc9-8499-573e53d271fe' (Size = 4000), @p4='0001-01-01T00:00:00.0000000', @p5='hieudev623@gmail.com' (Size = 4000), @p6='False', @p7=NULL (Size = 4000), @p8='string' (Size = 4000), @p9='string' (Size = 4000), @p10='True', @p11=NULL (DbType = DateTimeOffset), @p12='HIEUDEV623@GMAIL.COM' (Size = 4000), @p13='HIEUDEV623@GMAIL.COM' (Size = 4000), @p14='AQAAAAIAAYagAAAAEJd9NrE0ShSpip2437grxz2Tf9oxZDyutZZrk3WW8vGlObS6jKqRJ2pa33VTo4Yz2Q==' (Size = 4000), @p15='string' (Size = 4000), @p16='False', @p17='JC72TXJLVLQ7VTZWKEOFO5GCZTLDNO7B' (Size = 4000), @p18='False', @p19='0001-01-01T00:00:00.0000000', @p20='hieudev623@gmail.com' (Size = 4000), @p22='1ddacd3b-495b-4144-b828-3c9740ba1651', @p23='55e41b82-910f-4720-3c82-08dc5dcae0df'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AppUser] SET [AccessFailedCount] = @p0, [Address] = @p1, [Avatar] = @p2, [ConcurrencyStamp] = @p3, [CreatedDate] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [Facebook] = @p7, [FirstName] = @p8, [LastName] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [SecurityStamp] = @p17, [TwoFactorEnabled] = @p18, [UpdateDate] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21;
INSERT INTO [AppUserRole] ([RoleId], [UserId])
VALUES (@p22, @p23);
2024-04-16 11:08:32.599 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@p21='55e41b82-910f-4720-3c82-08dc5dcae0df', @p0='0', @p1=NULL (Size = 4000), @p2=NULL (Size = 4000), @p3='996f7b83-8f4c-4dc9-8499-573e53d271fe' (Size = 4000), @p4='0001-01-01T00:00:00.0000000', @p5='hieudev623@gmail.com' (Size = 4000), @p6='False', @p7=NULL (Size = 4000), @p8='string' (Size = 4000), @p9='string' (Size = 4000), @p10='True', @p11=NULL (DbType = DateTimeOffset), @p12='HIEUDEV623@GMAIL.COM' (Size = 4000), @p13='HIEUDEV623@GMAIL.COM' (Size = 4000), @p14='AQAAAAIAAYagAAAAEJd9NrE0ShSpip2437grxz2Tf9oxZDyutZZrk3WW8vGlObS6jKqRJ2pa33VTo4Yz2Q==' (Size = 4000), @p15='string' (Size = 4000), @p16='False', @p17='JC72TXJLVLQ7VTZWKEOFO5GCZTLDNO7B' (Size = 4000), @p18='False', @p19='0001-01-01T00:00:00.0000000', @p20='hieudev623@gmail.com' (Size = 4000), @p22='1ddacd3b-495b-4144-b828-3c9740ba1651', @p23='55e41b82-910f-4720-3c82-08dc5dcae0df'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AppUser] SET [AccessFailedCount] = @p0, [Address] = @p1, [Avatar] = @p2, [ConcurrencyStamp] = @p3, [CreatedDate] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [Facebook] = @p7, [FirstName] = @p8, [LastName] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [SecurityStamp] = @p17, [TwoFactorEnabled] = @p18, [UpdateDate] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21;
INSERT INTO [AppUserRole] ([RoleId], [UserId])
VALUES (@p22, @p23);
2024-04-16 11:08:32.603 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 11:08:32.603 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 2ms reading results.
2024-04-16 11:08:32.606 +07:00 [DBG] Committing transaction.
2024-04-16 11:08:32.620 +07:00 [DBG] Committed transaction.
2024-04-16 11:08:32.623 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:08:32.624 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 11:08:32.627 +07:00 [DBG] Disposing transaction.
2024-04-16 11:08:32.628 +07:00 [DBG] The 'IdentityUserRole' entity with key '{RoleId: 1ddacd3b-495b-4144-b828-3c9740ba1651, UserId: 55e41b82-910f-4720-3c82-08dc5dcae0df}' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'.
2024-04-16 11:08:32.628 +07:00 [DBG] The 'AppUser' entity with key '{Id: 55e41b82-910f-4720-3c82-08dc5dcae0df}' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'.
2024-04-16 11:08:32.629 +07:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 2 entities written to the database.
2024-04-16 11:08:42.282 +07:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2024-04-16 11:08:42.295 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppUser>(
    asyncEnumerable: new SplitQueryingEnumerable<AppUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AppUser.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: AppUser.AccessFailedCount (int) Required, 1], [Property: AppUser.Address (string), 2], [Property: AppUser.Avatar (string), 3], [Property: AppUser.ConcurrencyStamp (string), 4], [Property: AppUser.CreatedDate (DateTime) Required, 5], [Property: AppUser.Email (string), 6], [Property: AppUser.EmailConfirmed (bool) Required, 7], [Property: AppUser.Facebook (string), 8], [Property: AppUser.FirstName (string), 9], [Property: AppUser.LastName (string), 10], [Property: AppUser.LockoutEnabled (bool) Required, 11], [Property: AppUser.LockoutEnd (DateTimeOffset?), 12], [Property: AppUser.NormalizedEmail (string), 13], [Property: AppUser.NormalizedUserName (string), 14], [Property: AppUser.PasswordHash (string), 15], [Property: AppUser.PhoneNumber (string), 16], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 17], [Property: AppUser.SecurityStamp (string), 18], [Property: AppUser.TwoFactorEnabled (bool) Required, 19], [Property: AppUser.UpdateDate (DateTime) Required, 20], [Property: AppUser.UserName (string), 21] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.Address, a.Avatar, a.ConcurrencyStamp, a.CreatedDate, a.Email, a.EmailConfirmed, a.Facebook, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UpdateDate, a.UserName
            FROM AppUser AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<int>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<DateTime>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<DateTimeOffset>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<DateTime>, ReaderColumn<object> }, 
        Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, AppUser>, 
        null, 
        null, 
        FoodShop.Persistence.ApplicationDbContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-04-16 11:08:42.297 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:08:42.298 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:08:42.298 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 11:08:42.298 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 11:08:42.298 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 11:08:42.299 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='HIEUDEV623@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-04-16 11:08:42.303 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='HIEUDEV623@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-04-16 11:08:42.306 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 11:08:42.307 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 1ms reading results.
2024-04-16 11:08:42.333 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:08:42.333 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (25ms).
2024-04-16 11:09:35.828 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-04-16 11:09:35.831 +07:00 [DBG] No information found on request to perform content negotiation.
2024-04-16 11:09:35.832 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-04-16 11:09:35.832 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-04-16 11:09:35.833 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-04-16 11:09:35.835 +07:00 [INF] Executing OkObjectResult, writing value of type 'FoodShop.Contract.Abstraction.Shared.Result`1[[FoodShop.Contract.DataTransferObjects.Respone.V1.UserAuthResponse, FoodShop.Contract, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-04-16 11:09:35.862 +07:00 [INF] Executed action FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation) in 67754.2131ms
2024-04-16 11:09:35.866 +07:00 [INF] Executed endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)'
2024-04-16 11:09:35.869 +07:00 [DBG] 'ApplicationDbContext' disposed.
2024-04-16 11:09:35.879 +07:00 [DBG] Disposing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:09:35.880 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-04-16 11:09:35.881 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7286/api/v1/Authentication/register - 200 null application/json; charset=utf-8; ver=1 67860.8234ms
2024-04-16 11:09:44.523 +07:00 [DBG] Connection id "0HN2TPB9EDURA" accepted.
2024-04-16 11:09:44.523 +07:00 [DBG] Connection id "0HN2TPB9EDURA" started.
2024-04-16 11:09:44.524 +07:00 [DBG] Connection id "0HN2TPB9EDURA" received FIN.
2024-04-16 11:09:44.540 +07:00 [DBG] Connection id "0HN2TPB9EDURB" accepted.
2024-04-16 11:09:44.544 +07:00 [DBG] Connection id "0HN2TPB9EDURB" started.
2024-04-16 11:09:44.547 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-04-16 11:09:44.551 +07:00 [DBG] Connection id "0HN2TPB9EDURA" stopped.
2024-04-16 11:09:44.552 +07:00 [DBG] Connection id "0HN2TPB9EDURA" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-04-16 11:09:44.557 +07:00 [DBG] Connection 0HN2TPB9EDURB established using the following protocol: "Tls13"
2024-04-16 11:09:44.567 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:7286/api/v1/Authentication/active-account?token=CfDJ8AqqK1tPkAFBrwh6xnO42ywsa4qLMhG2MMXpY%2fCsSkMbSYpDAtRNogk%2fQc6a4eHUYEmoZps0gm3ewkOyMgDSHrMlAmItPNGNKBY%2futEaEoy47qF9EbWDZHUbAsETbsVAZuJwNu%2fvoiYztct7OC30lb6l4Kn0KtJ1Sei4yBQY3IsG4X3n3ImdfQmujdiMrBTa%2fpHKr040ez81kItDiR0PE%2bOQ5ymZPSaMUnCwn0rPiUoltCOibTHU%2fV4IFds%2bodeBGA%3d%3d&userid=55e41b82-910f-4720-3c82-08dc5dcae0df - null 0
2024-04-16 11:09:44.576 +07:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Authentication/active-account'
2024-04-16 11:09:44.577 +07:00 [DBG] Endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Active (FoodShop.Presentation)' with route pattern 'api/v{version:apiVersion}/Authentication/active-account' is valid for the request path '/api/v1/Authentication/active-account'
2024-04-16 11:09:44.577 +07:00 [DBG] Request matched endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Active (FoodShop.Presentation)'
2024-04-16 11:09:44.578 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-16 11:09:44.578 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-04-16 11:09:44.579 +07:00 [INF] Start request......!
2024-04-16 11:09:44.579 +07:00 [INF] Executing endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Active (FoodShop.Presentation)'
2024-04-16 11:09:44.586 +07:00 [INF] Route matched with {action = "Active", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Active(System.String, System.String) on controller FoodShop.Presentation.Controllers.V1.AuthenticationController (FoodShop.Presentation).
2024-04-16 11:09:44.586 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-04-16 11:09:44.587 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-04-16 11:09:44.587 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)","Asp.Versioning.ApplyContentTypeVersionActionFilter"]
2024-04-16 11:09:44.588 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-04-16 11:09:44.588 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-04-16 11:09:44.588 +07:00 [DBG] Executing controller factory for controller FoodShop.Presentation.Controllers.V1.AuthenticationController (FoodShop.Presentation)
2024-04-16 11:09:44.592 +07:00 [DBG] Executed controller factory for controller FoodShop.Presentation.Controllers.V1.AuthenticationController (FoodShop.Presentation)
2024-04-16 11:09:44.593 +07:00 [DBG] Attempting to bind parameter 'token' of type 'System.String' ...
2024-04-16 11:09:44.595 +07:00 [DBG] Attempting to bind parameter 'token' of type 'System.String' using the name 'token' in request data ...
2024-04-16 11:09:44.597 +07:00 [DBG] Done attempting to bind parameter 'token' of type 'System.String'.
2024-04-16 11:09:44.598 +07:00 [DBG] Done attempting to bind parameter 'token' of type 'System.String'.
2024-04-16 11:09:44.598 +07:00 [DBG] Attempting to validate the bound parameter 'token' of type 'System.String' ...
2024-04-16 11:09:44.599 +07:00 [DBG] Done attempting to validate the bound parameter 'token' of type 'System.String'.
2024-04-16 11:09:44.599 +07:00 [DBG] Attempting to bind parameter 'userid' of type 'System.String' ...
2024-04-16 11:09:44.600 +07:00 [DBG] Attempting to bind parameter 'userid' of type 'System.String' using the name 'userid' in request data ...
2024-04-16 11:09:44.600 +07:00 [DBG] Done attempting to bind parameter 'userid' of type 'System.String'.
2024-04-16 11:09:44.601 +07:00 [DBG] Done attempting to bind parameter 'userid' of type 'System.String'.
2024-04-16 11:09:44.601 +07:00 [DBG] Attempting to validate the bound parameter 'userid' of type 'System.String' ...
2024-04-16 11:09:44.601 +07:00 [DBG] Done attempting to validate the bound parameter 'userid' of type 'System.String'.
2024-04-16 11:09:44.729 +07:00 [DBG] Entity Framework Core 8.0.4 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.3' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using lazy loading proxies QuerySplittingBehavior=SplitQuery MigrationsAssembly=FoodShop.Persistence 
2024-04-16 11:09:44.734 +07:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .FirstOrDefault(e => object.Equals(
        objA: EF.Property<object>(e, "Id"), 
        objB: __get_Item_0))'
2024-04-16 11:09:44.760 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppUser>(
    asyncEnumerable: new SplitQueryingEnumerable<AppUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AppUser.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: AppUser.AccessFailedCount (int) Required, 1], [Property: AppUser.Address (string), 2], [Property: AppUser.Avatar (string), 3], [Property: AppUser.ConcurrencyStamp (string), 4], [Property: AppUser.CreatedDate (DateTime) Required, 5], [Property: AppUser.Email (string), 6], [Property: AppUser.EmailConfirmed (bool) Required, 7], [Property: AppUser.Facebook (string), 8], [Property: AppUser.FirstName (string), 9], [Property: AppUser.LastName (string), 10], [Property: AppUser.LockoutEnabled (bool) Required, 11], [Property: AppUser.LockoutEnd (DateTimeOffset?), 12], [Property: AppUser.NormalizedEmail (string), 13], [Property: AppUser.NormalizedUserName (string), 14], [Property: AppUser.PasswordHash (string), 15], [Property: AppUser.PhoneNumber (string), 16], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 17], [Property: AppUser.SecurityStamp (string), 18], [Property: AppUser.TwoFactorEnabled (bool) Required, 19], [Property: AppUser.UpdateDate (DateTime) Required, 20], [Property: AppUser.UserName (string), 21] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.Address, a.Avatar, a.ConcurrencyStamp, a.CreatedDate, a.Email, a.EmailConfirmed, a.Facebook, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UpdateDate, a.UserName
            FROM AppUser AS a
            WHERE a.Id == @__get_Item_0), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<int>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<DateTime>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<DateTimeOffset>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<DateTime>, ReaderColumn<object> }, 
        Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, AppUser>, 
        null, 
        null, 
        FoodShop.Persistence.ApplicationDbContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-04-16 11:09:44.764 +07:00 [DBG] Creating DbConnection.
2024-04-16 11:09:44.765 +07:00 [DBG] Created DbConnection. (0ms).
2024-04-16 11:09:44.765 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:09:44.766 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:09:44.766 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 11:09:44.767 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 11:09:44.767 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 11:09:44.768 +07:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='55e41b82-910f-4720-3c82-08dc5dcae0df' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[Id] = @__get_Item_0
2024-04-16 11:09:44.797 +07:00 [INF] Executed DbCommand (29ms) [Parameters=[@__get_Item_0='55e41b82-910f-4720-3c82-08dc5dcae0df' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[Id] = @__get_Item_0
2024-04-16 11:09:44.802 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'AppUser' entity with key '{Id: 55e41b82-910f-4720-3c82-08dc5dcae0df}'.
2024-04-16 11:09:44.803 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 11:09:44.803 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 3ms reading results.
2024-04-16 11:09:44.804 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:09:44.804 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 11:09:44.822 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:09:44.822 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:09:44.823 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 11:09:44.823 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 11:09:44.824 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 11:09:44.824 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='HIEUDEV623@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 11:09:44.831 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedUserName_0='HIEUDEV623@GMAIL.COM' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 11:09:44.835 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 11:09:44.836 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 0ms reading results.
2024-04-16 11:09:44.836 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:09:44.836 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 11:09:44.843 +07:00 [DBG] The 'AppUser' entity with key '{Id: 55e41b82-910f-4720-3c82-08dc5dcae0df}' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'.
2024-04-16 11:09:44.844 +07:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-04-16 11:09:44.844 +07:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-04-16 11:09:44.844 +07:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-04-16 11:09:44.846 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:09:44.848 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:09:44.848 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 11:09:44.848 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 11:09:44.849 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 11:09:44.849 +07:00 [DBG] Executing DbCommand [Parameters=[@p21='55e41b82-910f-4720-3c82-08dc5dcae0df', @p0='0', @p1=NULL (Size = 4000), @p2=NULL (Size = 4000), @p3='a4f0a3e4-5c36-4902-b298-79c35356105a' (Size = 4000), @p4='0001-01-01T00:00:00.0000000', @p5='hieudev623@gmail.com' (Size = 4000), @p6='True', @p7=NULL (Size = 4000), @p8='string' (Size = 4000), @p9='string' (Size = 4000), @p10='True', @p11=NULL (DbType = DateTimeOffset), @p12='HIEUDEV623@GMAIL.COM' (Size = 4000), @p13='HIEUDEV623@GMAIL.COM' (Size = 4000), @p14='AQAAAAIAAYagAAAAEJd9NrE0ShSpip2437grxz2Tf9oxZDyutZZrk3WW8vGlObS6jKqRJ2pa33VTo4Yz2Q==' (Size = 4000), @p15='string' (Size = 4000), @p16='False', @p17='JC72TXJLVLQ7VTZWKEOFO5GCZTLDNO7B' (Size = 4000), @p18='False', @p19='0001-01-01T00:00:00.0000000', @p20='hieudev623@gmail.com' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AppUser] SET [AccessFailedCount] = @p0, [Address] = @p1, [Avatar] = @p2, [ConcurrencyStamp] = @p3, [CreatedDate] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [Facebook] = @p7, [FirstName] = @p8, [LastName] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [SecurityStamp] = @p17, [TwoFactorEnabled] = @p18, [UpdateDate] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21;
2024-04-16 11:09:44.861 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[@p21='55e41b82-910f-4720-3c82-08dc5dcae0df', @p0='0', @p1=NULL (Size = 4000), @p2=NULL (Size = 4000), @p3='a4f0a3e4-5c36-4902-b298-79c35356105a' (Size = 4000), @p4='0001-01-01T00:00:00.0000000', @p5='hieudev623@gmail.com' (Size = 4000), @p6='True', @p7=NULL (Size = 4000), @p8='string' (Size = 4000), @p9='string' (Size = 4000), @p10='True', @p11=NULL (DbType = DateTimeOffset), @p12='HIEUDEV623@GMAIL.COM' (Size = 4000), @p13='HIEUDEV623@GMAIL.COM' (Size = 4000), @p14='AQAAAAIAAYagAAAAEJd9NrE0ShSpip2437grxz2Tf9oxZDyutZZrk3WW8vGlObS6jKqRJ2pa33VTo4Yz2Q==' (Size = 4000), @p15='string' (Size = 4000), @p16='False', @p17='JC72TXJLVLQ7VTZWKEOFO5GCZTLDNO7B' (Size = 4000), @p18='False', @p19='0001-01-01T00:00:00.0000000', @p20='hieudev623@gmail.com' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AppUser] SET [AccessFailedCount] = @p0, [Address] = @p1, [Avatar] = @p2, [ConcurrencyStamp] = @p3, [CreatedDate] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [Facebook] = @p7, [FirstName] = @p8, [LastName] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [SecurityStamp] = @p17, [TwoFactorEnabled] = @p18, [UpdateDate] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21;
2024-04-16 11:09:44.862 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 11:09:44.863 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 0ms reading results.
2024-04-16 11:09:44.863 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:09:44.863 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 11:09:44.864 +07:00 [DBG] The 'AppUser' entity with key '{Id: 55e41b82-910f-4720-3c82-08dc5dcae0df}' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'.
2024-04-16 11:09:44.865 +07:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-04-16 11:09:44.868 +07:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2024-04-16 11:09:44.868 +07:00 [INF] Executed action FoodShop.Presentation.Controllers.V1.AuthenticationController.Active (FoodShop.Presentation) in 279.8835ms
2024-04-16 11:09:44.869 +07:00 [INF] Executed endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Active (FoodShop.Presentation)'
2024-04-16 11:09:44.872 +07:00 [DBG] Connection id "0HN2TPB9EDURB" completed keep alive response.
2024-04-16 11:09:44.872 +07:00 [DBG] 'ApplicationDbContext' disposed.
2024-04-16 11:09:44.873 +07:00 [DBG] Disposing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:09:44.873 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-04-16 11:09:44.874 +07:00 [INF] Request finished HTTP/1.1 POST https://localhost:7286/api/v1/Authentication/active-account?token=CfDJ8AqqK1tPkAFBrwh6xnO42ywsa4qLMhG2MMXpY%2fCsSkMbSYpDAtRNogk%2fQc6a4eHUYEmoZps0gm3ewkOyMgDSHrMlAmItPNGNKBY%2futEaEoy47qF9EbWDZHUbAsETbsVAZuJwNu%2fvoiYztct7OC30lb6l4Kn0KtJ1Sei4yBQY3IsG4X3n3ImdfQmujdiMrBTa%2fpHKr040ez81kItDiR0PE%2bOQ5ymZPSaMUnCwn0rPiUoltCOibTHU%2fV4IFds%2bodeBGA%3d%3d&userid=55e41b82-910f-4720-3c82-08dc5dcae0df - 200 0 null 307.1771ms
2024-04-16 11:10:28.315 +07:00 [DBG] HttpMessageHandler expired after 120000ms for client ''
2024-04-16 11:10:32.649 +07:00 [DBG] HttpMessageHandler expired after 120000ms for client 'MailTrapApiClient'
2024-04-16 11:10:38.320 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 11:10:38.323 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.1252ms - processed: 0 items - remaining: 2 items
2024-04-16 11:10:48.329 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 11:10:48.329 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0082ms - processed: 0 items - remaining: 2 items
2024-04-16 11:10:58.341 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 11:10:58.341 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0049ms - processed: 0 items - remaining: 2 items
2024-04-16 11:11:08.354 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 11:11:08.354 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0045ms - processed: 0 items - remaining: 2 items
2024-04-16 11:11:18.368 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 11:11:18.368 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.007ms - processed: 0 items - remaining: 2 items
2024-04-16 11:11:28.379 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2024-04-16 11:11:28.379 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0046ms - processed: 0 items - remaining: 2 items
2024-04-16 11:28:04.942 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-04-16 11:28:05.469 +07:00 [DBG] The index {'ProductId'} was not created on entity type 'CartProduct' as the properties are already covered by the index {'ProductId', 'CartId'}.
2024-04-16 11:28:05.471 +07:00 [DBG] The index {'OrderId'} was not created on entity type 'OrderProduct' as the properties are already covered by the index {'OrderId', 'ProductId'}.
2024-04-16 11:28:05.471 +07:00 [DBG] The index {'ProductId'} was not created on entity type 'ProductCategory' as the properties are already covered by the index {'ProductId', 'CategoryId'}.
2024-04-16 11:28:05.471 +07:00 [DBG] The index {'RoleId'} was not created on entity type 'IdentityUserRole<Guid>' as the properties are already covered by the index {'RoleId', 'UserId'}.
2024-04-16 11:28:05.552 +07:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-04-16 11:28:05.580 +07:00 [DBG] The property 'IdentityUserToken<Guid>.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-04-16 11:28:05.606 +07:00 [WRN] No store type was specified for the decimal property 'Amout' on entity type 'Cart'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 11:28:05.606 +07:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'CartProduct'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 11:28:05.607 +07:00 [WRN] No store type was specified for the decimal property 'Amout' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 11:28:05.607 +07:00 [WRN] No store type was specified for the decimal property 'AmoutTotal' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 11:28:05.608 +07:00 [WRN] No store type was specified for the decimal property 'Discount' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 11:28:05.609 +07:00 [WRN] No store type was specified for the decimal property 'Shipping' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 11:28:05.609 +07:00 [WRN] No store type was specified for the decimal property 'Tax' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 11:28:05.610 +07:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'OrderProduct'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 11:28:05.611 +07:00 [WRN] No store type was specified for the decimal property 'Discount' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 11:28:05.612 +07:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 11:28:05.785 +07:00 [DBG] Entity Framework Core 8.0.4 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.3' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using lazy loading proxies QuerySplittingBehavior=SplitQuery MigrationsAssembly=FoodShop.Persistence 
2024-04-16 11:28:05.800 +07:00 [DBG] Creating DbConnection.
2024-04-16 11:28:05.903 +07:00 [DBG] Created DbConnection. (99ms).
2024-04-16 11:28:05.908 +07:00 [DBG] Migrating using database 'FoodShop' on server 'localhost'.
2024-04-16 11:28:05.915 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:28:06.230 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:28:06.236 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-04-16 11:28:06.242 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (5ms).
2024-04-16 11:28:06.244 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (10ms).
2024-04-16 11:28:06.250 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 11:28:06.272 +07:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 11:28:06.275 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:28:06.281 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (3ms).
2024-04-16 11:28:06.284 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-04-16 11:28:06.284 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 11:28:06.284 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 11:28:06.285 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:28:06.286 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:28:06.286 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 11:28:06.303 +07:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 11:28:06.304 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:28:06.304 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 11:28:06.305 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:28:06.305 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:28:06.306 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-04-16 11:28:06.306 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-04-16 11:28:06.306 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-04-16 11:28:06.306 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 11:28:06.308 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 11:28:06.309 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:28:06.310 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 11:28:06.310 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-04-16 11:28:06.310 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 11:28:06.311 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 11:28:06.311 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:28:06.311 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:28:06.311 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 11:28:06.312 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 11:28:06.313 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:28:06.313 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 11:28:06.324 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:28:06.325 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:28:06.325 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 11:28:06.325 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 11:28:06.325 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 11:28:06.326 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-16 11:28:06.331 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-16 11:28:06.334 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 11:28:06.335 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 2ms reading results.
2024-04-16 11:28:06.336 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:28:06.337 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 11:28:06.345 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-04-16 11:28:06.490 +07:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .Any()'
2024-04-16 11:28:06.626 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SplitQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AppUser AS a)), 
    ReaderColumn[] { ReaderColumn<bool> }, 
    Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, bool>, 
    null, 
    null, 
    FoodShop.Persistence.ApplicationDbContext, 
    False, 
    True, 
    True
)
    .Single()'
2024-04-16 11:28:06.648 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:28:06.649 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:28:06.649 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 11:28:06.649 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 11:28:06.650 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 11:28:06.650 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AppUser] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-04-16 11:28:06.654 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AppUser] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-04-16 11:28:06.665 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 11:28:06.666 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 1ms reading results.
2024-04-16 11:28:06.666 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:28:06.667 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 11:28:06.670 +07:00 [DBG] Compiling query expression: 
'DbSet<AppRole>()
    .Any()'
2024-04-16 11:28:06.673 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SplitQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AppRole AS a)), 
    ReaderColumn[] { ReaderColumn<bool> }, 
    Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, bool>, 
    null, 
    null, 
    FoodShop.Persistence.ApplicationDbContext, 
    False, 
    True, 
    True
)
    .Single()'
2024-04-16 11:28:06.674 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:28:06.674 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:28:06.674 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 11:28:06.675 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 11:28:06.675 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 11:28:06.676 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AppRole] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-04-16 11:28:06.679 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AppRole] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-04-16 11:28:06.680 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 11:28:06.680 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 0ms reading results.
2024-04-16 11:28:06.680 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:28:06.680 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 11:28:06.681 +07:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<Guid>>()
    .Any()'
2024-04-16 11:28:06.685 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SplitQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AppUserRole AS a)), 
    ReaderColumn[] { ReaderColumn<bool> }, 
    Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, bool>, 
    null, 
    null, 
    FoodShop.Persistence.ApplicationDbContext, 
    False, 
    True, 
    True
)
    .Single()'
2024-04-16 11:28:06.685 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:28:06.686 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:28:06.686 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 11:28:06.687 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 11:28:06.687 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 11:28:06.687 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AppUserRole] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-04-16 11:28:06.690 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AppUserRole] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-04-16 11:28:06.691 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 11:28:06.691 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 0ms reading results.
2024-04-16 11:28:06.692 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:28:06.692 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 11:28:06.694 +07:00 [DBG] 'ApplicationDbContext' disposed.
2024-04-16 11:28:06.697 +07:00 [DBG] Disposing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:28:06.699 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-04-16 11:28:08.115 +07:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-04-16 11:28:08.521 +07:00 [DBG] Hosting starting
2024-04-16 11:28:08.558 +07:00 [INF] User profile is available. Using 'C:\Users\hieud\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-04-16 11:28:08.567 +07:00 [DBG] Reading data from file 'C:\Users\hieud\AppData\Local\ASP.NET\DataProtection-Keys\key-5b2baa0a-904f-4101-af08-7ac673b8db2c.xml'.
2024-04-16 11:28:08.581 +07:00 [DBG] Found key {5b2baa0a-904f-4101-af08-7ac673b8db2c}.
2024-04-16 11:28:08.596 +07:00 [DBG] Considering key {5b2baa0a-904f-4101-af08-7ac673b8db2c} with expiration date 2024-05-20 17:09:10Z as default key.
2024-04-16 11:28:08.601 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-04-16 11:28:08.602 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-04-16 11:28:08.606 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-04-16 11:28:08.610 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-04-16 11:28:08.614 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-04-16 11:28:08.617 +07:00 [DBG] Using key {5b2baa0a-904f-4101-af08-7ac673b8db2c} as the default key.
2024-04-16 11:28:08.618 +07:00 [DBG] Key ring with default key {5b2baa0a-904f-4101-af08-7ac673b8db2c} was loaded during application startup.
2024-04-16 11:28:08.830 +07:00 [INF] Now listening on: https://localhost:7286
2024-04-16 11:28:08.831 +07:00 [INF] Now listening on: http://localhost:5010
2024-04-16 11:28:08.832 +07:00 [DBG] Loaded hosting startup assembly FoodShop.API
2024-04-16 11:28:08.832 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-04-16 11:28:08.832 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-04-16 11:28:08.832 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-04-16 11:28:08.838 +07:00 [DBG] Connection id "0HN2TPMF7O4AH" accepted.
2024-04-16 11:28:08.840 +07:00 [DBG] Connection id "0HN2TPMF7O4AH" started.
2024-04-16 11:28:08.866 +07:00 [DBG] Connection id "0HN2TPMF7O4AH" received FIN.
2024-04-16 11:28:08.880 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-04-16 11:28:08.905 +07:00 [DBG] Connection id "0HN2TPMF7O4AH" stopped.
2024-04-16 11:28:08.908 +07:00 [DBG] Connection id "0HN2TPMF7O4AH" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-04-16 11:28:08.951 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-04-16 11:28:08.951 +07:00 [INF] Hosting environment: Development
2024-04-16 11:28:08.952 +07:00 [INF] Content root path: C:\Users\hieud\Code\C#\FoodShop\FoodShop\src\FoodShop.API
2024-04-16 11:28:08.952 +07:00 [DBG] Hosting started
2024-04-16 11:28:09.143 +07:00 [DBG] Connection id "0HN2TPMF7O4AI" accepted.
2024-04-16 11:28:09.143 +07:00 [DBG] Connection id "0HN2TPMF7O4AI" started.
2024-04-16 11:28:09.184 +07:00 [DBG] Connection 0HN2TPMF7O4AI established using the following protocol: "Tls13"
2024-04-16 11:28:09.268 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/swagger/index.html - null null
2024-04-16 11:28:09.716 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-04-16 11:28:09.790 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-04-16 11:28:09.792 +07:00 [DBG] Request did not match any endpoints
2024-04-16 11:28:09.897 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-16 11:28:09.978 +07:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-04-16 11:28:09.980 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-04-16 11:28:10.001 +07:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-04-16 11:28:10.002 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-04-16 11:28:10.008 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/swagger/index.html - 200 null text/html;charset=utf-8 747.4932ms
2024-04-16 11:28:10.052 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/_framework/aspnetcore-browser-refresh.js - null null
2024-04-16 11:28:10.052 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/_vs/browserLink - null null
2024-04-16 11:28:10.063 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 11.354ms
2024-04-16 11:28:10.124 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/_vs/browserLink - 200 null text/javascript; charset=UTF-8 72.3778ms
2024-04-16 11:28:10.514 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/swagger/v1/swagger.json - null null
2024-04-16 11:28:10.515 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-04-16 11:28:10.515 +07:00 [DBG] Request did not match any endpoints
2024-04-16 11:28:10.517 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-16 11:28:10.641 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 128.0606ms
2024-04-16 11:55:31.401 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-04-16 11:55:31.940 +07:00 [DBG] The index {'ProductId'} was not created on entity type 'CartProduct' as the properties are already covered by the index {'ProductId', 'CartId'}.
2024-04-16 11:55:31.941 +07:00 [DBG] The index {'OrderId'} was not created on entity type 'OrderProduct' as the properties are already covered by the index {'OrderId', 'ProductId'}.
2024-04-16 11:55:31.942 +07:00 [DBG] The index {'ProductId'} was not created on entity type 'ProductCategory' as the properties are already covered by the index {'ProductId', 'CategoryId'}.
2024-04-16 11:55:31.943 +07:00 [DBG] The index {'RoleId'} was not created on entity type 'IdentityUserRole<Guid>' as the properties are already covered by the index {'RoleId', 'UserId'}.
2024-04-16 11:55:32.035 +07:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-04-16 11:55:32.078 +07:00 [DBG] The property 'IdentityUserToken<Guid>.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-04-16 11:55:32.120 +07:00 [WRN] No store type was specified for the decimal property 'Amout' on entity type 'Cart'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 11:55:32.120 +07:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'CartProduct'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 11:55:32.121 +07:00 [WRN] No store type was specified for the decimal property 'Amout' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 11:55:32.121 +07:00 [WRN] No store type was specified for the decimal property 'AmoutTotal' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 11:55:32.122 +07:00 [WRN] No store type was specified for the decimal property 'Discount' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 11:55:32.123 +07:00 [WRN] No store type was specified for the decimal property 'Shipping' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 11:55:32.123 +07:00 [WRN] No store type was specified for the decimal property 'Tax' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 11:55:32.124 +07:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'OrderProduct'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 11:55:32.124 +07:00 [WRN] No store type was specified for the decimal property 'Discount' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 11:55:32.124 +07:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 11:55:32.340 +07:00 [DBG] Entity Framework Core 8.0.4 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.3' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using lazy loading proxies QuerySplittingBehavior=SplitQuery MigrationsAssembly=FoodShop.Persistence 
2024-04-16 11:55:32.348 +07:00 [DBG] Creating DbConnection.
2024-04-16 11:55:32.407 +07:00 [DBG] Created DbConnection. (55ms).
2024-04-16 11:55:32.411 +07:00 [DBG] Migrating using database 'FoodShop' on server 'localhost'.
2024-04-16 11:55:32.419 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:55:32.768 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:55:32.774 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-04-16 11:55:32.781 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (5ms).
2024-04-16 11:55:32.783 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (10ms).
2024-04-16 11:55:32.789 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 11:55:32.815 +07:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 11:55:32.817 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:55:32.824 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (4ms).
2024-04-16 11:55:32.827 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-04-16 11:55:32.828 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 11:55:32.828 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 11:55:32.828 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:55:32.829 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:55:32.830 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 11:55:32.851 +07:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 11:55:32.851 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:55:32.852 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (1ms).
2024-04-16 11:55:32.854 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:55:32.854 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:55:32.854 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-04-16 11:55:32.855 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-04-16 11:55:32.855 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-04-16 11:55:32.855 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 11:55:32.857 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 11:55:32.857 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:55:32.857 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 11:55:32.858 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-04-16 11:55:32.858 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 11:55:32.858 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 11:55:32.858 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:55:32.859 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:55:32.859 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 11:55:32.860 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 11:55:32.861 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:55:32.861 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 11:55:32.873 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:55:32.874 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:55:32.874 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 11:55:32.874 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 11:55:32.875 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 11:55:32.876 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-16 11:55:32.880 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-16 11:55:32.884 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 11:55:32.885 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 3ms reading results.
2024-04-16 11:55:32.886 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:55:32.886 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 11:55:32.895 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-04-16 11:55:33.031 +07:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .Any()'
2024-04-16 11:55:33.370 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SplitQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AppUser AS a)), 
    ReaderColumn[] { ReaderColumn<bool> }, 
    Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, bool>, 
    null, 
    null, 
    FoodShop.Persistence.ApplicationDbContext, 
    False, 
    True, 
    True
)
    .Single()'
2024-04-16 11:55:33.412 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:55:33.429 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:55:33.437 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 11:55:33.449 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (12ms).
2024-04-16 11:55:33.450 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (13ms).
2024-04-16 11:55:33.451 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AppUser] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-04-16 11:55:33.454 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AppUser] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-04-16 11:55:33.469 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 11:55:33.469 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 2ms reading results.
2024-04-16 11:55:33.470 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:55:33.470 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 11:55:33.476 +07:00 [DBG] Compiling query expression: 
'DbSet<AppRole>()
    .Any()'
2024-04-16 11:55:33.480 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SplitQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AppRole AS a)), 
    ReaderColumn[] { ReaderColumn<bool> }, 
    Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, bool>, 
    null, 
    null, 
    FoodShop.Persistence.ApplicationDbContext, 
    False, 
    True, 
    True
)
    .Single()'
2024-04-16 11:55:33.481 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:55:33.481 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:55:33.481 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 11:55:33.481 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 11:55:33.481 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 11:55:33.482 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AppRole] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-04-16 11:55:33.484 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AppRole] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-04-16 11:55:33.485 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 11:55:33.485 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 0ms reading results.
2024-04-16 11:55:33.486 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:55:33.486 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 11:55:33.487 +07:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<Guid>>()
    .Any()'
2024-04-16 11:55:33.489 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SplitQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AppUserRole AS a)), 
    ReaderColumn[] { ReaderColumn<bool> }, 
    Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, bool>, 
    null, 
    null, 
    FoodShop.Persistence.ApplicationDbContext, 
    False, 
    True, 
    True
)
    .Single()'
2024-04-16 11:55:33.489 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:55:33.490 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:55:33.490 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 11:55:33.490 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 11:55:33.490 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 11:55:33.490 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AppUserRole] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-04-16 11:55:33.493 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AppUserRole] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-04-16 11:55:33.494 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 11:55:33.494 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 0ms reading results.
2024-04-16 11:55:33.495 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:55:33.495 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 11:55:33.497 +07:00 [DBG] 'ApplicationDbContext' disposed.
2024-04-16 11:55:33.500 +07:00 [DBG] Disposing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 11:55:33.501 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-04-16 11:55:33.606 +07:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-04-16 11:55:33.691 +07:00 [DBG] Hosting starting
2024-04-16 11:55:33.732 +07:00 [INF] User profile is available. Using 'C:\Users\hieud\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-04-16 11:55:33.744 +07:00 [DBG] Reading data from file 'C:\Users\hieud\AppData\Local\ASP.NET\DataProtection-Keys\key-5b2baa0a-904f-4101-af08-7ac673b8db2c.xml'.
2024-04-16 11:55:33.760 +07:00 [DBG] Found key {5b2baa0a-904f-4101-af08-7ac673b8db2c}.
2024-04-16 11:55:33.776 +07:00 [DBG] Considering key {5b2baa0a-904f-4101-af08-7ac673b8db2c} with expiration date 2024-05-20 17:09:10Z as default key.
2024-04-16 11:55:33.781 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-04-16 11:55:33.782 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-04-16 11:55:33.786 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-04-16 11:55:33.789 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-04-16 11:55:33.794 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-04-16 11:55:33.800 +07:00 [DBG] Using key {5b2baa0a-904f-4101-af08-7ac673b8db2c} as the default key.
2024-04-16 11:55:33.801 +07:00 [DBG] Key ring with default key {5b2baa0a-904f-4101-af08-7ac673b8db2c} was loaded during application startup.
2024-04-16 11:55:34.050 +07:00 [INF] Now listening on: https://localhost:7286
2024-04-16 11:55:34.050 +07:00 [INF] Now listening on: http://localhost:5010
2024-04-16 11:55:34.051 +07:00 [DBG] Loaded hosting startup assembly FoodShop.API
2024-04-16 11:55:34.051 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-04-16 11:55:34.051 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-04-16 11:55:34.051 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-04-16 11:55:34.134 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-04-16 11:55:34.134 +07:00 [INF] Hosting environment: Development
2024-04-16 11:55:34.134 +07:00 [INF] Content root path: C:\Users\hieud\Code\C#\FoodShop\FoodShop\src\FoodShop.API
2024-04-16 11:55:34.135 +07:00 [DBG] Hosting started
2024-04-16 11:55:34.166 +07:00 [DBG] Connection id "0HN2TQ5PIQI3M" received FIN.
2024-04-16 11:55:34.174 +07:00 [DBG] Connection id "0HN2TQ5PIQI3M" accepted.
2024-04-16 11:55:34.175 +07:00 [DBG] Connection id "0HN2TQ5PIQI3M" started.
2024-04-16 11:55:34.196 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-04-16 11:55:34.211 +07:00 [DBG] Connection id "0HN2TQ5PIQI3M" stopped.
2024-04-16 11:55:34.216 +07:00 [DBG] Connection id "0HN2TQ5PIQI3M" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-04-16 11:55:34.429 +07:00 [DBG] Connection id "0HN2TQ5PIQI3N" accepted.
2024-04-16 11:55:34.430 +07:00 [DBG] Connection id "0HN2TQ5PIQI3N" started.
2024-04-16 11:55:34.487 +07:00 [DBG] Connection 0HN2TQ5PIQI3N established using the following protocol: "Tls13"
2024-04-16 11:55:34.565 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/swagger/index.html - null null
2024-04-16 11:55:34.675 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-04-16 11:55:34.712 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-04-16 11:55:34.713 +07:00 [DBG] Request did not match any endpoints
2024-04-16 11:55:34.790 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-16 11:55:34.847 +07:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-04-16 11:55:34.850 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-04-16 11:55:34.876 +07:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-04-16 11:55:34.877 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-04-16 11:55:34.881 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/swagger/index.html - 200 null text/html;charset=utf-8 324.9297ms
2024-04-16 11:55:34.925 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/_framework/aspnetcore-browser-refresh.js - null null
2024-04-16 11:55:34.925 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/_vs/browserLink - null null
2024-04-16 11:55:34.937 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 12.4191ms
2024-04-16 11:55:34.993 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/_vs/browserLink - 200 null text/javascript; charset=UTF-8 68.5466ms
2024-04-16 11:55:35.358 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/swagger/v1/swagger.json - null null
2024-04-16 11:55:35.358 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-04-16 11:55:35.359 +07:00 [DBG] Request did not match any endpoints
2024-04-16 11:55:35.360 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-16 11:55:35.526 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 167.956ms
2024-04-16 11:55:38.321 +07:00 [DBG] Connection id "0HN2TQ5PIQI3N" received FIN.
2024-04-16 11:55:38.330 +07:00 [DBG] Connection id "0HN2TQ5PIQI3N" is closed. The last processed stream ID was 7.
2024-04-16 11:55:38.330 +07:00 [DBG] The connection queue processing loop for 0HN2TQ5PIQI3N completed.
2024-04-16 11:55:38.331 +07:00 [DBG] Connection id "0HN2TQ5PIQI3N" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-04-16 11:55:38.333 +07:00 [DBG] Connection id "0HN2TQ5PIQI3N" stopped.
2024-04-16 12:00:24.677 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-04-16 12:00:25.143 +07:00 [DBG] The index {'ProductId'} was not created on entity type 'CartProduct' as the properties are already covered by the index {'ProductId', 'CartId'}.
2024-04-16 12:00:25.144 +07:00 [DBG] The index {'OrderId'} was not created on entity type 'OrderProduct' as the properties are already covered by the index {'OrderId', 'ProductId'}.
2024-04-16 12:00:25.145 +07:00 [DBG] The index {'ProductId'} was not created on entity type 'ProductCategory' as the properties are already covered by the index {'ProductId', 'CategoryId'}.
2024-04-16 12:00:25.145 +07:00 [DBG] The index {'RoleId'} was not created on entity type 'IdentityUserRole<Guid>' as the properties are already covered by the index {'RoleId', 'UserId'}.
2024-04-16 12:00:25.232 +07:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-04-16 12:00:25.259 +07:00 [DBG] The property 'IdentityUserToken<Guid>.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-04-16 12:00:25.296 +07:00 [WRN] No store type was specified for the decimal property 'Amout' on entity type 'Cart'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 12:00:25.297 +07:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'CartProduct'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 12:00:25.298 +07:00 [WRN] No store type was specified for the decimal property 'Amout' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 12:00:25.298 +07:00 [WRN] No store type was specified for the decimal property 'AmoutTotal' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 12:00:25.298 +07:00 [WRN] No store type was specified for the decimal property 'Discount' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 12:00:25.299 +07:00 [WRN] No store type was specified for the decimal property 'Shipping' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 12:00:25.299 +07:00 [WRN] No store type was specified for the decimal property 'Tax' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 12:00:25.299 +07:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'OrderProduct'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 12:00:25.300 +07:00 [WRN] No store type was specified for the decimal property 'Discount' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 12:00:25.300 +07:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 12:00:25.472 +07:00 [DBG] Entity Framework Core 8.0.4 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.3' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using lazy loading proxies QuerySplittingBehavior=SplitQuery MigrationsAssembly=FoodShop.Persistence 
2024-04-16 12:00:25.484 +07:00 [DBG] Creating DbConnection.
2024-04-16 12:00:25.532 +07:00 [DBG] Created DbConnection. (45ms).
2024-04-16 12:00:25.535 +07:00 [DBG] Migrating using database 'FoodShop' on server 'localhost'.
2024-04-16 12:00:25.540 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 12:00:25.797 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 12:00:25.803 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-04-16 12:00:25.810 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (4ms).
2024-04-16 12:00:25.812 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (10ms).
2024-04-16 12:00:25.818 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 12:00:25.844 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 12:00:25.847 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 12:00:25.854 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (5ms).
2024-04-16 12:00:25.858 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-04-16 12:00:25.858 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 12:00:25.858 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 12:00:25.859 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 12:00:25.860 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 12:00:25.861 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 12:00:25.889 +07:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 12:00:25.890 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 12:00:25.891 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (1ms).
2024-04-16 12:00:25.892 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 12:00:25.893 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 12:00:25.893 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-04-16 12:00:25.893 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-04-16 12:00:25.893 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-04-16 12:00:25.893 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 12:00:25.895 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 12:00:25.895 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 12:00:25.896 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 12:00:25.896 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-04-16 12:00:25.896 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 12:00:25.896 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 12:00:25.897 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 12:00:25.897 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 12:00:25.897 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 12:00:25.898 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 12:00:25.899 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 12:00:25.899 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 12:00:25.914 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 12:00:25.914 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 12:00:25.915 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 12:00:25.915 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 12:00:25.915 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 12:00:25.916 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-16 12:00:25.924 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-16 12:00:25.928 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 12:00:25.931 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 4ms reading results.
2024-04-16 12:00:25.931 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 12:00:25.932 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 12:00:25.943 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-04-16 12:00:26.060 +07:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .Any()'
2024-04-16 12:00:26.223 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SplitQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AppUser AS a)), 
    ReaderColumn[] { ReaderColumn<bool> }, 
    Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, bool>, 
    null, 
    null, 
    FoodShop.Persistence.ApplicationDbContext, 
    False, 
    True, 
    True
)
    .Single()'
2024-04-16 12:00:26.261 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 12:00:26.261 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 12:00:26.263 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 12:00:26.263 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 12:00:26.263 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 12:00:26.264 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AppUser] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-04-16 12:00:26.269 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AppUser] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-04-16 12:00:26.282 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 12:00:26.283 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 2ms reading results.
2024-04-16 12:00:26.283 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 12:00:26.284 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 12:00:26.290 +07:00 [DBG] Compiling query expression: 
'DbSet<AppRole>()
    .Any()'
2024-04-16 12:00:26.293 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SplitQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AppRole AS a)), 
    ReaderColumn[] { ReaderColumn<bool> }, 
    Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, bool>, 
    null, 
    null, 
    FoodShop.Persistence.ApplicationDbContext, 
    False, 
    True, 
    True
)
    .Single()'
2024-04-16 12:00:26.295 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 12:00:26.295 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 12:00:26.296 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 12:00:26.296 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 12:00:26.296 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 12:00:26.297 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AppRole] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-04-16 12:00:26.298 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AppRole] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-04-16 12:00:26.299 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 12:00:26.299 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 0ms reading results.
2024-04-16 12:00:26.299 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 12:00:26.299 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 12:00:26.301 +07:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<Guid>>()
    .Any()'
2024-04-16 12:00:26.304 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SplitQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AppUserRole AS a)), 
    ReaderColumn[] { ReaderColumn<bool> }, 
    Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, bool>, 
    null, 
    null, 
    FoodShop.Persistence.ApplicationDbContext, 
    False, 
    True, 
    True
)
    .Single()'
2024-04-16 12:00:26.305 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 12:00:26.305 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 12:00:26.306 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 12:00:26.306 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 12:00:26.306 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 12:00:26.306 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AppUserRole] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-04-16 12:00:26.310 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AppUserRole] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-04-16 12:00:26.311 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 12:00:26.311 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 0ms reading results.
2024-04-16 12:00:26.312 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 12:00:26.312 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 12:00:26.315 +07:00 [DBG] 'ApplicationDbContext' disposed.
2024-04-16 12:00:26.319 +07:00 [DBG] Disposing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 12:00:26.322 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-04-16 12:00:26.452 +07:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-04-16 12:00:26.536 +07:00 [DBG] Hosting starting
2024-04-16 12:00:26.563 +07:00 [INF] User profile is available. Using 'C:\Users\hieud\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-04-16 12:00:26.575 +07:00 [DBG] Reading data from file 'C:\Users\hieud\AppData\Local\ASP.NET\DataProtection-Keys\key-5b2baa0a-904f-4101-af08-7ac673b8db2c.xml'.
2024-04-16 12:00:26.583 +07:00 [DBG] Found key {5b2baa0a-904f-4101-af08-7ac673b8db2c}.
2024-04-16 12:00:26.595 +07:00 [DBG] Considering key {5b2baa0a-904f-4101-af08-7ac673b8db2c} with expiration date 2024-05-20 17:09:10Z as default key.
2024-04-16 12:00:26.600 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-04-16 12:00:26.602 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-04-16 12:00:26.604 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-04-16 12:00:26.607 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-04-16 12:00:26.611 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-04-16 12:00:26.615 +07:00 [DBG] Using key {5b2baa0a-904f-4101-af08-7ac673b8db2c} as the default key.
2024-04-16 12:00:26.616 +07:00 [DBG] Key ring with default key {5b2baa0a-904f-4101-af08-7ac673b8db2c} was loaded during application startup.
2024-04-16 12:00:26.820 +07:00 [INF] Now listening on: https://localhost:7286
2024-04-16 12:00:26.820 +07:00 [INF] Now listening on: http://localhost:5010
2024-04-16 12:00:26.821 +07:00 [DBG] Loaded hosting startup assembly FoodShop.API
2024-04-16 12:00:26.821 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-04-16 12:00:26.821 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-04-16 12:00:26.821 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-04-16 12:00:27.130 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-04-16 12:00:27.136 +07:00 [INF] Hosting environment: Development
2024-04-16 12:00:27.136 +07:00 [INF] Content root path: C:\Users\hieud\Code\C#\FoodShop\FoodShop\src\FoodShop.API
2024-04-16 12:00:27.141 +07:00 [DBG] Hosting started
2024-04-16 12:00:27.155 +07:00 [DBG] Connection id "0HN2TQ8GSVC5T" accepted.
2024-04-16 12:00:27.204 +07:00 [DBG] Connection id "0HN2TQ8GSVC5T" received FIN.
2024-04-16 12:00:27.217 +07:00 [DBG] Connection id "0HN2TQ8GSVC5T" started.
2024-04-16 12:00:27.246 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-04-16 12:00:27.267 +07:00 [DBG] Connection id "0HN2TQ8GSVC5T" stopped.
2024-04-16 12:00:27.271 +07:00 [DBG] Connection id "0HN2TQ8GSVC5T" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-04-16 12:00:27.474 +07:00 [DBG] Connection id "0HN2TQ8GSVC5U" accepted.
2024-04-16 12:00:27.474 +07:00 [DBG] Connection id "0HN2TQ8GSVC5U" started.
2024-04-16 12:00:27.515 +07:00 [DBG] Connection 0HN2TQ8GSVC5U established using the following protocol: "Tls13"
2024-04-16 12:00:27.581 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/swagger/index.html - null null
2024-04-16 12:00:27.688 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-04-16 12:00:27.730 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-04-16 12:00:27.731 +07:00 [DBG] Request did not match any endpoints
2024-04-16 12:00:27.810 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-16 12:00:27.882 +07:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-04-16 12:00:27.885 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-04-16 12:00:27.912 +07:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-04-16 12:00:27.913 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-04-16 12:00:27.919 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/swagger/index.html - 200 null text/html;charset=utf-8 343.5545ms
2024-04-16 12:00:27.978 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/_framework/aspnetcore-browser-refresh.js - null null
2024-04-16 12:00:28.027 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/_vs/browserLink - null null
2024-04-16 12:00:28.032 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 53.662ms
2024-04-16 12:00:28.240 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/_vs/browserLink - 200 null text/javascript; charset=UTF-8 213.5654ms
2024-04-16 12:00:28.750 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/swagger/v1/swagger.json - null null
2024-04-16 12:00:28.751 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-04-16 12:00:28.751 +07:00 [DBG] Request did not match any endpoints
2024-04-16 12:00:28.753 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-16 12:00:28.911 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 161.7569ms
2024-04-16 12:00:36.727 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7286/api/v1.0/Authentication/register - application/json; ver=1.0 147
2024-04-16 12:00:36.797 +07:00 [DBG] 1 candidate(s) found for the request path '/api/v1.0/Authentication/register'
2024-04-16 12:00:36.800 +07:00 [DBG] Endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)' with route pattern 'api/v{version:apiVersion}/Authentication/register' is valid for the request path '/api/v1.0/Authentication/register'
2024-04-16 12:00:36.808 +07:00 [DBG] Request matched endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)'
2024-04-16 12:00:36.813 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-16 12:00:36.816 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-04-16 12:00:36.819 +07:00 [INF] Start request......!
2024-04-16 12:00:36.822 +07:00 [INF] Executing endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)'
2024-04-16 12:00:36.852 +07:00 [INF] Route matched with {action = "Register", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest) on controller FoodShop.Presentation.Controllers.V1.AuthenticationController (FoodShop.Presentation).
2024-04-16 12:00:36.854 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-04-16 12:00:36.855 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-04-16 12:00:36.855 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)","Asp.Versioning.ApplyContentTypeVersionActionFilter"]
2024-04-16 12:00:36.856 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-04-16 12:00:36.856 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-04-16 12:00:36.859 +07:00 [DBG] Executing controller factory for controller FoodShop.Presentation.Controllers.V1.AuthenticationController (FoodShop.Presentation)
2024-04-16 12:00:36.956 +07:00 [DBG] Executed controller factory for controller FoodShop.Presentation.Controllers.V1.AuthenticationController (FoodShop.Presentation)
2024-04-16 12:00:36.962 +07:00 [DBG] Attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest' ...
2024-04-16 12:00:36.965 +07:00 [DBG] Attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest' using the name '' in request data ...
2024-04-16 12:00:36.967 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json; ver=1.0'.
2024-04-16 12:00:36.974 +07:00 [DBG] Connection id "0HN2TQ8GSVC5U", Request id "0HN2TQ8GSVC5U:00000009": started reading request body.
2024-04-16 12:00:36.974 +07:00 [DBG] Connection id "0HN2TQ8GSVC5U", Request id "0HN2TQ8GSVC5U:00000009": done reading request body.
2024-04-16 12:00:36.979 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'
2024-04-16 12:00:36.980 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'.
2024-04-16 12:00:36.981 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'.
2024-04-16 12:00:36.981 +07:00 [DBG] Attempting to validate the bound parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest' ...
2024-04-16 12:00:36.991 +07:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'.
2024-04-16 12:00:37.135 +07:00 [DBG] Entity Framework Core 8.0.4 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.3' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using lazy loading proxies QuerySplittingBehavior=SplitQuery MigrationsAssembly=FoodShop.Persistence 
2024-04-16 12:00:37.147 +07:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2024-04-16 12:00:37.518 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppUser>(
    asyncEnumerable: new SplitQueryingEnumerable<AppUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AppUser.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: AppUser.AccessFailedCount (int) Required, 1], [Property: AppUser.Address (string), 2], [Property: AppUser.Avatar (string), 3], [Property: AppUser.ConcurrencyStamp (string), 4], [Property: AppUser.CreatedDate (DateTime) Required, 5], [Property: AppUser.Email (string), 6], [Property: AppUser.EmailConfirmed (bool) Required, 7], [Property: AppUser.Facebook (string), 8], [Property: AppUser.FirstName (string), 9], [Property: AppUser.LastName (string), 10], [Property: AppUser.LockoutEnabled (bool) Required, 11], [Property: AppUser.LockoutEnd (DateTimeOffset?), 12], [Property: AppUser.NormalizedEmail (string), 13], [Property: AppUser.NormalizedUserName (string), 14], [Property: AppUser.PasswordHash (string), 15], [Property: AppUser.PhoneNumber (string), 16], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 17], [Property: AppUser.SecurityStamp (string), 18], [Property: AppUser.TwoFactorEnabled (bool) Required, 19], [Property: AppUser.UpdateDate (DateTime) Required, 20], [Property: AppUser.UserName (string), 21] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.Address, a.Avatar, a.ConcurrencyStamp, a.CreatedDate, a.Email, a.EmailConfirmed, a.Facebook, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UpdateDate, a.UserName
            FROM AppUser AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<int>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<DateTime>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<DateTimeOffset>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<DateTime>, ReaderColumn<object> }, 
        Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, AppUser>, 
        null, 
        null, 
        FoodShop.Persistence.ApplicationDbContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-04-16 12:00:37.538 +07:00 [DBG] Creating DbConnection.
2024-04-16 12:00:37.539 +07:00 [DBG] Created DbConnection. (0ms).
2024-04-16 12:00:37.541 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 12:00:37.543 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 12:00:37.544 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 12:00:37.544 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 12:00:37.548 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-04-16 12:00:37.551 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='STRING' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 12:00:37.604 +07:00 [INF] Executed DbCommand (55ms) [Parameters=[@__normalizedUserName_0='STRING' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 12:00:37.671 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'AppUser' entity with key '{Id: 82f1667a-615d-4fe7-3a61-08dc5d7818dd}'.
2024-04-16 12:00:37.717 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 12:00:37.718 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 96ms reading results.
2024-04-16 12:00:37.720 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 12:00:37.720 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 12:00:37.727 +07:00 [DBG] User validation failed: DuplicateUserName.
2024-04-16 12:00:37.826 +07:00 [INF] Executed action FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation) in 965.2902ms
2024-04-16 12:00:37.828 +07:00 [INF] Executed endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)'
2024-04-16 12:00:37.902 +07:00 [ERR] BadRequest
FoodShop.Domain.Exceptions.BadRequestException: BadRequest
   at FoodShop.Application.UseCases.V1.Commands.AuthenticationCommand.RegisterHandler.Handle(RegisterCommand request, CancellationToken cancellationToken) in C:\Users\hieud\Code\C#\FoodShop\FoodShop\src\FoodShop.Application\UseCases\V1\Commands\AuthenticationCommand\RegisterHandler.cs:line 33
   at FoodShop.Presentation.Controllers.V1.AuthenticationController.Register(RegisterRequest model) in C:\Users\hieud\Code\C#\FoodShop\FoodShop\src\FoodShop.Presentation\Controllers\V1\AuthenticationController.cs:line 50
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at FoodShop.API.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in C:\Users\hieud\Code\C#\FoodShop\FoodShop\src\FoodShop.API\Middleware\ExceptionHandlingMiddleware.cs:line 22
2024-04-16 12:00:37.957 +07:00 [DBG] 'ApplicationDbContext' disposed.
2024-04-16 12:00:37.968 +07:00 [DBG] Disposing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 12:00:37.969 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-04-16 12:00:37.970 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7286/api/v1.0/Authentication/register - 400 null application/json; ver=1.0 1242.8529ms
2024-04-16 12:07:17.162 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-04-16 12:07:17.644 +07:00 [DBG] The index {'ProductId'} was not created on entity type 'CartProduct' as the properties are already covered by the index {'ProductId', 'CartId'}.
2024-04-16 12:07:17.646 +07:00 [DBG] The index {'OrderId'} was not created on entity type 'OrderProduct' as the properties are already covered by the index {'OrderId', 'ProductId'}.
2024-04-16 12:07:17.646 +07:00 [DBG] The index {'ProductId'} was not created on entity type 'ProductCategory' as the properties are already covered by the index {'ProductId', 'CategoryId'}.
2024-04-16 12:07:17.647 +07:00 [DBG] The index {'RoleId'} was not created on entity type 'IdentityUserRole<Guid>' as the properties are already covered by the index {'RoleId', 'UserId'}.
2024-04-16 12:07:17.734 +07:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-04-16 12:07:17.753 +07:00 [DBG] The property 'IdentityUserToken<Guid>.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-04-16 12:07:17.781 +07:00 [WRN] No store type was specified for the decimal property 'Amout' on entity type 'Cart'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 12:07:17.782 +07:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'CartProduct'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 12:07:17.782 +07:00 [WRN] No store type was specified for the decimal property 'Amout' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 12:07:17.782 +07:00 [WRN] No store type was specified for the decimal property 'AmoutTotal' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 12:07:17.783 +07:00 [WRN] No store type was specified for the decimal property 'Discount' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 12:07:17.783 +07:00 [WRN] No store type was specified for the decimal property 'Shipping' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 12:07:17.783 +07:00 [WRN] No store type was specified for the decimal property 'Tax' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 12:07:17.784 +07:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'OrderProduct'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 12:07:17.784 +07:00 [WRN] No store type was specified for the decimal property 'Discount' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 12:07:17.785 +07:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 12:07:17.923 +07:00 [DBG] Entity Framework Core 8.0.4 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.3' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using lazy loading proxies QuerySplittingBehavior=SplitQuery MigrationsAssembly=FoodShop.Persistence 
2024-04-16 12:07:17.929 +07:00 [DBG] Creating DbConnection.
2024-04-16 12:07:17.974 +07:00 [DBG] Created DbConnection. (43ms).
2024-04-16 12:07:17.976 +07:00 [DBG] Migrating using database 'FoodShop' on server 'localhost'.
2024-04-16 12:07:17.981 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 12:07:18.231 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 12:07:18.238 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-04-16 12:07:18.246 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (6ms).
2024-04-16 12:07:18.248 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (12ms).
2024-04-16 12:07:18.254 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 12:07:18.275 +07:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 12:07:18.277 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 12:07:18.284 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (4ms).
2024-04-16 12:07:18.288 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-04-16 12:07:18.288 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 12:07:18.289 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 12:07:18.289 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 12:07:18.290 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 12:07:18.291 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 12:07:18.309 +07:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 12:07:18.309 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 12:07:18.310 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 12:07:18.311 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 12:07:18.312 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 12:07:18.312 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-04-16 12:07:18.313 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-04-16 12:07:18.313 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-04-16 12:07:18.313 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 12:07:18.315 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-16 12:07:18.316 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 12:07:18.316 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 12:07:18.316 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-04-16 12:07:18.316 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 12:07:18.317 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-04-16 12:07:18.317 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 12:07:18.317 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 12:07:18.318 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 12:07:18.319 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-16 12:07:18.319 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 12:07:18.319 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 12:07:18.338 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 12:07:18.339 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 12:07:18.339 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 12:07:18.340 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 12:07:18.340 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 12:07:18.341 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-16 12:07:18.347 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-16 12:07:18.350 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 12:07:18.352 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 2ms reading results.
2024-04-16 12:07:18.354 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 12:07:18.354 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 12:07:18.367 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-04-16 12:07:18.514 +07:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .Any()'
2024-04-16 12:07:18.662 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SplitQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AppUser AS a)), 
    ReaderColumn[] { ReaderColumn<bool> }, 
    Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, bool>, 
    null, 
    null, 
    FoodShop.Persistence.ApplicationDbContext, 
    False, 
    True, 
    True
)
    .Single()'
2024-04-16 12:07:18.687 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 12:07:18.688 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 12:07:18.688 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 12:07:18.688 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 12:07:18.688 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 12:07:18.689 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AppUser] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-04-16 12:07:18.707 +07:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AppUser] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-04-16 12:07:18.717 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 12:07:18.718 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 1ms reading results.
2024-04-16 12:07:18.718 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 12:07:18.718 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 12:07:18.722 +07:00 [DBG] Compiling query expression: 
'DbSet<AppRole>()
    .Any()'
2024-04-16 12:07:18.725 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SplitQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AppRole AS a)), 
    ReaderColumn[] { ReaderColumn<bool> }, 
    Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, bool>, 
    null, 
    null, 
    FoodShop.Persistence.ApplicationDbContext, 
    False, 
    True, 
    True
)
    .Single()'
2024-04-16 12:07:18.725 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 12:07:18.725 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 12:07:18.725 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 12:07:18.725 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 12:07:18.726 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 12:07:18.726 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AppRole] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-04-16 12:07:18.727 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AppRole] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-04-16 12:07:18.727 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 12:07:18.727 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 0ms reading results.
2024-04-16 12:07:18.727 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 12:07:18.727 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 12:07:18.728 +07:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<Guid>>()
    .Any()'
2024-04-16 12:07:18.730 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SplitQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AppUserRole AS a)), 
    ReaderColumn[] { ReaderColumn<bool> }, 
    Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, bool>, 
    null, 
    null, 
    FoodShop.Persistence.ApplicationDbContext, 
    False, 
    True, 
    True
)
    .Single()'
2024-04-16 12:07:18.730 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 12:07:18.730 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 12:07:18.731 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 12:07:18.731 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 12:07:18.731 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 12:07:18.731 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AppUserRole] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-04-16 12:07:18.737 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AppUserRole] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-04-16 12:07:18.738 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 12:07:18.738 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 0ms reading results.
2024-04-16 12:07:18.738 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 12:07:18.738 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 12:07:18.739 +07:00 [DBG] 'ApplicationDbContext' disposed.
2024-04-16 12:07:18.741 +07:00 [DBG] Disposing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 12:07:18.742 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-04-16 12:07:18.800 +07:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-04-16 12:07:18.853 +07:00 [DBG] Hosting starting
2024-04-16 12:07:18.881 +07:00 [INF] User profile is available. Using 'C:\Users\hieud\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-04-16 12:07:18.892 +07:00 [DBG] Reading data from file 'C:\Users\hieud\AppData\Local\ASP.NET\DataProtection-Keys\key-5b2baa0a-904f-4101-af08-7ac673b8db2c.xml'.
2024-04-16 12:07:18.901 +07:00 [DBG] Found key {5b2baa0a-904f-4101-af08-7ac673b8db2c}.
2024-04-16 12:07:18.914 +07:00 [DBG] Considering key {5b2baa0a-904f-4101-af08-7ac673b8db2c} with expiration date 2024-05-20 17:09:10Z as default key.
2024-04-16 12:07:18.920 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-04-16 12:07:18.921 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-04-16 12:07:18.925 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-04-16 12:07:18.928 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-04-16 12:07:18.936 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-04-16 12:07:18.942 +07:00 [DBG] Using key {5b2baa0a-904f-4101-af08-7ac673b8db2c} as the default key.
2024-04-16 12:07:18.944 +07:00 [DBG] Key ring with default key {5b2baa0a-904f-4101-af08-7ac673b8db2c} was loaded during application startup.
2024-04-16 12:07:19.163 +07:00 [INF] Now listening on: https://localhost:7286
2024-04-16 12:07:19.163 +07:00 [INF] Now listening on: http://localhost:5010
2024-04-16 12:07:19.163 +07:00 [DBG] Loaded hosting startup assembly FoodShop.API
2024-04-16 12:07:19.164 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-04-16 12:07:19.164 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-04-16 12:07:19.164 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-04-16 12:07:19.184 +07:00 [DBG] Connection id "0HN2TQCBMCNSA" accepted.
2024-04-16 12:07:19.185 +07:00 [DBG] Connection id "0HN2TQCBMCNSA" started.
2024-04-16 12:07:19.189 +07:00 [DBG] Connection id "0HN2TQCBMCNSA" received FIN.
2024-04-16 12:07:19.189 +07:00 [DBG] Connection id "0HN2TQCBMCNSB" received FIN.
2024-04-16 12:07:19.195 +07:00 [DBG] Connection id "0HN2TQCBMCNSB" accepted.
2024-04-16 12:07:19.196 +07:00 [DBG] Connection id "0HN2TQCBMCNSB" started.
2024-04-16 12:07:19.211 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-04-16 12:07:19.211 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-04-16 12:07:19.228 +07:00 [DBG] Connection id "0HN2TQCBMCNSB" stopped.
2024-04-16 12:07:19.228 +07:00 [DBG] Connection id "0HN2TQCBMCNSA" stopped.
2024-04-16 12:07:19.236 +07:00 [DBG] Connection id "0HN2TQCBMCNSA" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-04-16 12:07:19.236 +07:00 [DBG] Connection id "0HN2TQCBMCNSB" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-04-16 12:07:19.271 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-04-16 12:07:19.272 +07:00 [INF] Hosting environment: Development
2024-04-16 12:07:19.272 +07:00 [INF] Content root path: C:\Users\hieud\Code\C#\FoodShop\FoodShop\src\FoodShop.API
2024-04-16 12:07:19.272 +07:00 [DBG] Hosting started
2024-04-16 12:07:19.479 +07:00 [DBG] Connection id "0HN2TQCBMCNSC" accepted.
2024-04-16 12:07:19.480 +07:00 [DBG] Connection id "0HN2TQCBMCNSC" started.
2024-04-16 12:07:19.510 +07:00 [DBG] Connection 0HN2TQCBMCNSC established using the following protocol: "Tls13"
2024-04-16 12:07:19.574 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/swagger/index.html - null null
2024-04-16 12:07:19.679 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-04-16 12:07:19.710 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-04-16 12:07:19.711 +07:00 [DBG] Request did not match any endpoints
2024-04-16 12:07:19.763 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-16 12:07:19.811 +07:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-04-16 12:07:19.812 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-04-16 12:07:19.830 +07:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-04-16 12:07:19.832 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-04-16 12:07:19.836 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/swagger/index.html - 200 null text/html;charset=utf-8 268.1792ms
2024-04-16 12:07:19.885 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/_vs/browserLink - null null
2024-04-16 12:07:19.885 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/_framework/aspnetcore-browser-refresh.js - null null
2024-04-16 12:07:19.894 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 7.0108ms
2024-04-16 12:07:19.931 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/_vs/browserLink - 200 null text/javascript; charset=UTF-8 46.0697ms
2024-04-16 12:07:20.338 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7286/swagger/v1/swagger.json - null null
2024-04-16 12:07:20.344 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-04-16 12:07:20.345 +07:00 [DBG] Request did not match any endpoints
2024-04-16 12:07:20.346 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-16 12:07:20.458 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7286/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 119.3763ms
2024-04-16 12:07:27.039 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7286/api/v1/Authentication/register - application/json; ver=1.0 147
2024-04-16 12:07:27.068 +07:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Authentication/register'
2024-04-16 12:07:27.070 +07:00 [DBG] Endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)' with route pattern 'api/v{version:apiVersion}/Authentication/register' is valid for the request path '/api/v1/Authentication/register'
2024-04-16 12:07:27.075 +07:00 [DBG] Request matched endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)'
2024-04-16 12:07:27.077 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-16 12:07:27.079 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-04-16 12:07:27.082 +07:00 [INF] Start request......!
2024-04-16 12:07:27.084 +07:00 [INF] Executing endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)'
2024-04-16 12:07:27.111 +07:00 [INF] Route matched with {action = "Register", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest) on controller FoodShop.Presentation.Controllers.V1.AuthenticationController (FoodShop.Presentation).
2024-04-16 12:07:27.114 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-04-16 12:07:27.115 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-04-16 12:07:27.116 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)","Asp.Versioning.ApplyContentTypeVersionActionFilter"]
2024-04-16 12:07:27.117 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-04-16 12:07:27.117 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-04-16 12:07:27.120 +07:00 [DBG] Executing controller factory for controller FoodShop.Presentation.Controllers.V1.AuthenticationController (FoodShop.Presentation)
2024-04-16 12:07:27.237 +07:00 [DBG] Executed controller factory for controller FoodShop.Presentation.Controllers.V1.AuthenticationController (FoodShop.Presentation)
2024-04-16 12:07:27.244 +07:00 [DBG] Attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest' ...
2024-04-16 12:07:27.248 +07:00 [DBG] Attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest' using the name '' in request data ...
2024-04-16 12:07:27.250 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json; ver=1.0'.
2024-04-16 12:07:27.256 +07:00 [DBG] Connection id "0HN2TQCBMCNSC", Request id "0HN2TQCBMCNSC:00000009": started reading request body.
2024-04-16 12:07:27.256 +07:00 [DBG] Connection id "0HN2TQCBMCNSC", Request id "0HN2TQCBMCNSC:00000009": done reading request body.
2024-04-16 12:07:27.261 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'
2024-04-16 12:07:27.262 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'.
2024-04-16 12:07:27.262 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'.
2024-04-16 12:07:27.263 +07:00 [DBG] Attempting to validate the bound parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest' ...
2024-04-16 12:07:27.273 +07:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'.
2024-04-16 12:07:27.402 +07:00 [DBG] Entity Framework Core 8.0.4 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.3' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using lazy loading proxies QuerySplittingBehavior=SplitQuery MigrationsAssembly=FoodShop.Persistence 
2024-04-16 12:07:27.414 +07:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2024-04-16 12:07:27.998 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppUser>(
    asyncEnumerable: new SplitQueryingEnumerable<AppUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AppUser.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: AppUser.AccessFailedCount (int) Required, 1], [Property: AppUser.Address (string), 2], [Property: AppUser.Avatar (string), 3], [Property: AppUser.ConcurrencyStamp (string), 4], [Property: AppUser.CreatedDate (DateTime) Required, 5], [Property: AppUser.Email (string), 6], [Property: AppUser.EmailConfirmed (bool) Required, 7], [Property: AppUser.Facebook (string), 8], [Property: AppUser.FirstName (string), 9], [Property: AppUser.LastName (string), 10], [Property: AppUser.LockoutEnabled (bool) Required, 11], [Property: AppUser.LockoutEnd (DateTimeOffset?), 12], [Property: AppUser.NormalizedEmail (string), 13], [Property: AppUser.NormalizedUserName (string), 14], [Property: AppUser.PasswordHash (string), 15], [Property: AppUser.PhoneNumber (string), 16], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 17], [Property: AppUser.SecurityStamp (string), 18], [Property: AppUser.TwoFactorEnabled (bool) Required, 19], [Property: AppUser.UpdateDate (DateTime) Required, 20], [Property: AppUser.UserName (string), 21] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.Address, a.Avatar, a.ConcurrencyStamp, a.CreatedDate, a.Email, a.EmailConfirmed, a.Facebook, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UpdateDate, a.UserName
            FROM AppUser AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<int>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<DateTime>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<DateTimeOffset>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<object>, ReaderColumn<bool>, ReaderColumn<DateTime>, ReaderColumn<object> }, 
        Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, AppUser>, 
        null, 
        null, 
        FoodShop.Persistence.ApplicationDbContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-04-16 12:07:28.036 +07:00 [DBG] Creating DbConnection.
2024-04-16 12:07:28.037 +07:00 [DBG] Created DbConnection. (1ms).
2024-04-16 12:07:28.041 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 12:07:28.046 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 12:07:28.047 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 12:07:28.048 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 12:07:28.055 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-04-16 12:07:28.061 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='STRING' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 12:07:28.156 +07:00 [INF] Executed DbCommand (99ms) [Parameters=[@__normalizedUserName_0='STRING' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 12:07:28.249 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'AppUser' entity with key '{Id: 82f1667a-615d-4fe7-3a61-08dc5d7818dd}'.
2024-04-16 12:07:28.324 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 12:07:28.324 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 131ms reading results.
2024-04-16 12:07:28.326 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 12:07:28.327 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (1ms).
2024-04-16 12:07:28.333 +07:00 [DBG] User validation failed: DuplicateUserName.
2024-04-16 12:07:28.439 +07:00 [INF] Executed action FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation) in 1318.3381ms
2024-04-16 12:07:28.441 +07:00 [INF] Executed endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)'
2024-04-16 12:07:28.510 +07:00 [ERR] BadRequest
FoodShop.Domain.Exceptions.BadRequestException: BadRequest
   at FoodShop.Application.UseCases.V1.Commands.AuthenticationCommand.RegisterHandler.Handle(RegisterCommand request, CancellationToken cancellationToken) in C:\Users\hieud\Code\C#\FoodShop\FoodShop\src\FoodShop.Application\UseCases\V1\Commands\AuthenticationCommand\RegisterHandler.cs:line 33
   at FoodShop.Presentation.Controllers.V1.AuthenticationController.Register(RegisterRequest model) in C:\Users\hieud\Code\C#\FoodShop\FoodShop\src\FoodShop.Presentation\Controllers\V1\AuthenticationController.cs:line 50
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at FoodShop.API.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in C:\Users\hieud\Code\C#\FoodShop\FoodShop\src\FoodShop.API\Middleware\ExceptionHandlingMiddleware.cs:line 22
2024-04-16 12:07:28.534 +07:00 [DBG] 'ApplicationDbContext' disposed.
2024-04-16 12:07:28.542 +07:00 [DBG] Disposing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 12:07:28.543 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-04-16 12:07:28.544 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7286/api/v1/Authentication/register - 400 null application/json; ver=1 1504.8749ms
2024-04-16 12:07:50.741 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7286/api/v1/Authentication/register - application/json; ver=1.0 148
2024-04-16 12:07:50.750 +07:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Authentication/register'
2024-04-16 12:07:50.751 +07:00 [DBG] Endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)' with route pattern 'api/v{version:apiVersion}/Authentication/register' is valid for the request path '/api/v1/Authentication/register'
2024-04-16 12:07:50.752 +07:00 [DBG] Request matched endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)'
2024-04-16 12:07:50.752 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-16 12:07:50.753 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-04-16 12:07:50.754 +07:00 [INF] Start request......!
2024-04-16 12:07:50.754 +07:00 [INF] Executing endpoint 'FoodShop.Presentation.Controllers.V1.AuthenticationController.Register (FoodShop.Presentation)'
2024-04-16 12:07:50.755 +07:00 [INF] Route matched with {action = "Register", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest) on controller FoodShop.Presentation.Controllers.V1.AuthenticationController (FoodShop.Presentation).
2024-04-16 12:07:50.755 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-04-16 12:07:50.756 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-04-16 12:07:50.756 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)","Asp.Versioning.ApplyContentTypeVersionActionFilter"]
2024-04-16 12:07:50.756 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-04-16 12:07:50.756 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-04-16 12:07:50.757 +07:00 [DBG] Executing controller factory for controller FoodShop.Presentation.Controllers.V1.AuthenticationController (FoodShop.Presentation)
2024-04-16 12:07:50.760 +07:00 [DBG] Executed controller factory for controller FoodShop.Presentation.Controllers.V1.AuthenticationController (FoodShop.Presentation)
2024-04-16 12:07:50.761 +07:00 [DBG] Attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest' ...
2024-04-16 12:07:50.761 +07:00 [DBG] Attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest' using the name '' in request data ...
2024-04-16 12:07:50.762 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json; ver=1.0'.
2024-04-16 12:07:50.762 +07:00 [DBG] Connection id "0HN2TQCBMCNSC", Request id "0HN2TQCBMCNSC:0000000B": started reading request body.
2024-04-16 12:07:50.762 +07:00 [DBG] Connection id "0HN2TQCBMCNSC", Request id "0HN2TQCBMCNSC:0000000B": done reading request body.
2024-04-16 12:07:50.763 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'
2024-04-16 12:07:50.763 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'.
2024-04-16 12:07:50.763 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'.
2024-04-16 12:07:50.763 +07:00 [DBG] Attempting to validate the bound parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest' ...
2024-04-16 12:07:50.765 +07:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'FoodShop.Contract.DataTransferObjects.Request.V1.RegisterRequest'.
2024-04-16 12:07:50.993 +07:00 [DBG] Entity Framework Core 8.0.4 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.3' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using lazy loading proxies QuerySplittingBehavior=SplitQuery MigrationsAssembly=FoodShop.Persistence 
2024-04-16 12:07:50.997 +07:00 [DBG] Creating DbConnection.
2024-04-16 12:07:50.998 +07:00 [DBG] Created DbConnection. (0ms).
2024-04-16 12:07:50.998 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 12:07:50.998 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 12:07:50.999 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 12:07:50.999 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 12:07:50.999 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 12:07:51.000 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='STRING1' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 12:07:51.003 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='STRING1' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 12:07:51.004 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 12:07:51.005 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 0ms reading results.
2024-04-16 12:07:51.005 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 12:07:51.005 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 12:07:51.030 +07:00 [DBG] 'ApplicationDbContext' generated value '"c2c2748e-b493-4aa2-2647-08dc5dd32a61"' for the property 'AppUser.Id'.
2024-04-16 12:07:51.051 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'AppUser' entity with key '{Id: c2c2748e-b493-4aa2-2647-08dc5dd32a61}'.
2024-04-16 12:07:51.054 +07:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-04-16 12:07:51.057 +07:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-04-16 12:07:51.077 +07:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-04-16 12:07:51.149 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 12:07:51.149 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 12:07:51.152 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 12:07:51.153 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 12:07:51.154 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-04-16 12:07:51.155 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='c2c2748e-b493-4aa2-2647-08dc5dd32a61', @p1='0', @p2=NULL (Size = 4000), @p3=NULL (Size = 4000), @p4='007a56b1-10d9-4cd3-b057-37a4a39d6684' (Size = 4000), @p5='0001-01-01T00:00:00.0000000', @p6='string1' (Size = 4000), @p7='False', @p8=NULL (Size = 4000), @p9='string' (Size = 4000), @p10='string' (Size = 4000), @p11='True', @p12=NULL (DbType = DateTimeOffset), @p13='STRING1' (Size = 4000), @p14='STRING1' (Size = 4000), @p15='AQAAAAIAAYagAAAAEKADHMhdVhAFxSUBUs6yoM7Fo2xzsy9F61TjSRVRg6b6mgH+7btgC+Q3rVKydmSgRA==' (Size = 4000), @p16='string' (Size = 4000), @p17='False', @p18='RTKHMER2TXNOBZ33AIXXPIRNZ6O5BVO4' (Size = 4000), @p19='False', @p20='0001-01-01T00:00:00.0000000', @p21='string1' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AppUser] ([Id], [AccessFailedCount], [Address], [Avatar], [ConcurrencyStamp], [CreatedDate], [Email], [EmailConfirmed], [Facebook], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UpdateDate], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21);
2024-04-16 12:07:51.164 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='c2c2748e-b493-4aa2-2647-08dc5dd32a61', @p1='0', @p2=NULL (Size = 4000), @p3=NULL (Size = 4000), @p4='007a56b1-10d9-4cd3-b057-37a4a39d6684' (Size = 4000), @p5='0001-01-01T00:00:00.0000000', @p6='string1' (Size = 4000), @p7='False', @p8=NULL (Size = 4000), @p9='string' (Size = 4000), @p10='string' (Size = 4000), @p11='True', @p12=NULL (DbType = DateTimeOffset), @p13='STRING1' (Size = 4000), @p14='STRING1' (Size = 4000), @p15='AQAAAAIAAYagAAAAEKADHMhdVhAFxSUBUs6yoM7Fo2xzsy9F61TjSRVRg6b6mgH+7btgC+Q3rVKydmSgRA==' (Size = 4000), @p16='string' (Size = 4000), @p17='False', @p18='RTKHMER2TXNOBZ33AIXXPIRNZ6O5BVO4' (Size = 4000), @p19='False', @p20='0001-01-01T00:00:00.0000000', @p21='string1' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AppUser] ([Id], [AccessFailedCount], [Address], [Avatar], [ConcurrencyStamp], [CreatedDate], [Email], [EmailConfirmed], [Facebook], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UpdateDate], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21);
2024-04-16 12:07:51.177 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 12:07:51.178 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 11ms reading results.
2024-04-16 12:07:51.179 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 12:07:51.179 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 12:07:51.191 +07:00 [DBG] The 'AppUser' entity with key '{Id: c2c2748e-b493-4aa2-2647-08dc5dd32a61}' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'.
2024-04-16 12:07:51.195 +07:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-04-16 12:07:51.205 +07:00 [DBG] Compiling query expression: 
'DbSet<AppRole>()
    .SingleOrDefault(r => r.NormalizedName == __normalizedRoleName_0)'
2024-04-16 12:07:51.297 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppRole>(
    asyncEnumerable: new SplitQueryingEnumerable<AppRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AppRole.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: AppRole.ConcurrencyStamp (string), 1], [Property: AppRole.CreateBy (string), 2], [Property: AppRole.CreateDate (DateTime?), 3], [Property: AppRole.Description (string) Required MaxLength(250), 4], [Property: AppRole.Name (string), 5], [Property: AppRole.NormalizedName (string), 6], [Property: AppRole.RoleCode (string) Required MaxLength(50), 7], [Property: AppRole.UpdateBy (string), 8], [Property: AppRole.UpdateDate (DateTime?), 9] }
            SELECT TOP(2) a.Id, a.ConcurrencyStamp, a.CreateBy, a.CreateDate, a.Description, a.Name, a.NormalizedName, a.RoleCode, a.UpdateBy, a.UpdateDate
            FROM AppRole AS a
            WHERE a.NormalizedName == @__normalizedRoleName_0), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<DateTime>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<DateTime> }, 
        Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, AppRole>, 
        null, 
        null, 
        FoodShop.Persistence.ApplicationDbContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-04-16 12:07:51.299 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 12:07:51.304 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 12:07:51.305 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 12:07:51.307 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-04-16 12:07:51.318 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2024-04-16 12:07:51.321 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 12:07:51.363 +07:00 [INF] Executed DbCommand (42ms) [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 12:07:51.447 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'AppRole' entity with key '{Id: 1ddacd3b-495b-4144-b828-3c9740ba1651}'.
2024-04-16 12:07:51.515 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 12:07:51.515 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 132ms reading results.
2024-04-16 12:07:51.515 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 12:07:51.516 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 12:07:51.535 +07:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<Guid>>()
    .FirstOrDefault(e => object.Equals(
        objA: EF.Property<object>(e, "RoleId"), 
        objB: __get_Item_0) && object.Equals(
        objA: EF.Property<object>(e, "UserId"), 
        objB: __get_Item_1))'
2024-04-16 12:07:51.592 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityUserRole<Guid>>(
    asyncEnumerable: new SplitQueryingEnumerable<IdentityUserRole<Guid>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUserRole<Guid>.RoleId (Guid) Required PK FK AfterSave:Throw, 0], [Property: IdentityUserRole<Guid>.UserId (Guid) Required PK FK Index AfterSave:Throw, 1] }
            SELECT TOP(1) a.RoleId, a.UserId
            FROM AppUserRole AS a
            WHERE (a.RoleId == @__get_Item_0) && (a.UserId == @__get_Item_1)), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<Guid> }, 
        Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, IdentityUserRole<Guid>>, 
        null, 
        null, 
        FoodShop.Persistence.ApplicationDbContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-04-16 12:07:51.594 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 12:07:51.595 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 12:07:51.595 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 12:07:51.595 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 12:07:51.595 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 12:07:51.595 +07:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='c2c2748e-b493-4aa2-2647-08dc5dd32a61' (Nullable = true), @__get_Item_1='1ddacd3b-495b-4144-b828-3c9740ba1651' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[RoleId], [a].[UserId]
FROM [AppUserRole] AS [a]
WHERE [a].[RoleId] = @__get_Item_0 AND [a].[UserId] = @__get_Item_1
2024-04-16 12:07:51.598 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='c2c2748e-b493-4aa2-2647-08dc5dd32a61' (Nullable = true), @__get_Item_1='1ddacd3b-495b-4144-b828-3c9740ba1651' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[RoleId], [a].[UserId]
FROM [AppUserRole] AS [a]
WHERE [a].[RoleId] = @__get_Item_0 AND [a].[UserId] = @__get_Item_1
2024-04-16 12:07:51.598 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 12:07:51.599 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 0ms reading results.
2024-04-16 12:07:51.599 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 12:07:51.599 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 12:07:51.601 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 12:07:51.601 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 12:07:51.601 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 12:07:51.601 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 12:07:51.602 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 12:07:51.602 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 12:07:51.603 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='USER' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[CreateBy], [a].[CreateDate], [a].[Description], [a].[Name], [a].[NormalizedName], [a].[RoleCode], [a].[UpdateBy], [a].[UpdateDate]
FROM [AppRole] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-16 12:07:51.604 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 12:07:51.604 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 0ms reading results.
2024-04-16 12:07:51.604 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 12:07:51.604 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 12:07:51.625 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityUserRole' entity with key '{RoleId: 1ddacd3b-495b-4144-b828-3c9740ba1651, UserId: c2c2748e-b493-4aa2-2647-08dc5dd32a61}'.
2024-04-16 12:07:51.627 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 12:07:51.627 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 12:07:51.627 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 12:07:51.628 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 12:07:51.628 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-16 12:07:51.628 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='STRING1' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 12:07:51.630 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='STRING1' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Avatar], [a].[ConcurrencyStamp], [a].[CreatedDate], [a].[Email], [a].[EmailConfirmed], [a].[Facebook], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdateDate], [a].[UserName]
FROM [AppUser] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 12:07:51.630 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 12:07:51.631 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 0ms reading results.
2024-04-16 12:07:51.631 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 12:07:51.631 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 12:07:51.634 +07:00 [DBG] The 'AppUser' entity with key '{Id: c2c2748e-b493-4aa2-2647-08dc5dd32a61}' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'.
2024-04-16 12:07:51.635 +07:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-04-16 12:07:51.635 +07:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-04-16 12:07:51.648 +07:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-04-16 12:07:51.669 +07:00 [DBG] Executing 2 update commands as a batch.
2024-04-16 12:07:51.673 +07:00 [DBG] Opening connection to database 'FoodShop' on server 'localhost'.
2024-04-16 12:07:51.674 +07:00 [DBG] Opened connection to database 'FoodShop' on server 'localhost'.
2024-04-16 12:07:51.676 +07:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-04-16 12:07:51.689 +07:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-04-16 12:07:51.690 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-16 12:07:51.691 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-16 12:07:51.693 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-04-16 12:07:51.693 +07:00 [DBG] Executing DbCommand [Parameters=[@p21='c2c2748e-b493-4aa2-2647-08dc5dd32a61', @p0='0', @p1=NULL (Size = 4000), @p2=NULL (Size = 4000), @p3='5c03838d-54fe-4327-8841-565dedea6361' (Size = 4000), @p4='0001-01-01T00:00:00.0000000', @p5='string1' (Size = 4000), @p6='False', @p7=NULL (Size = 4000), @p8='string' (Size = 4000), @p9='string' (Size = 4000), @p10='True', @p11=NULL (DbType = DateTimeOffset), @p12='STRING1' (Size = 4000), @p13='STRING1' (Size = 4000), @p14='AQAAAAIAAYagAAAAEKADHMhdVhAFxSUBUs6yoM7Fo2xzsy9F61TjSRVRg6b6mgH+7btgC+Q3rVKydmSgRA==' (Size = 4000), @p15='string' (Size = 4000), @p16='False', @p17='RTKHMER2TXNOBZ33AIXXPIRNZ6O5BVO4' (Size = 4000), @p18='False', @p19='0001-01-01T00:00:00.0000000', @p20='string1' (Size = 4000), @p22='1ddacd3b-495b-4144-b828-3c9740ba1651', @p23='c2c2748e-b493-4aa2-2647-08dc5dd32a61'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AppUser] SET [AccessFailedCount] = @p0, [Address] = @p1, [Avatar] = @p2, [ConcurrencyStamp] = @p3, [CreatedDate] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [Facebook] = @p7, [FirstName] = @p8, [LastName] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [SecurityStamp] = @p17, [TwoFactorEnabled] = @p18, [UpdateDate] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21;
INSERT INTO [AppUserRole] ([RoleId], [UserId])
VALUES (@p22, @p23);
2024-04-16 12:07:51.709 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[@p21='c2c2748e-b493-4aa2-2647-08dc5dd32a61', @p0='0', @p1=NULL (Size = 4000), @p2=NULL (Size = 4000), @p3='5c03838d-54fe-4327-8841-565dedea6361' (Size = 4000), @p4='0001-01-01T00:00:00.0000000', @p5='string1' (Size = 4000), @p6='False', @p7=NULL (Size = 4000), @p8='string' (Size = 4000), @p9='string' (Size = 4000), @p10='True', @p11=NULL (DbType = DateTimeOffset), @p12='STRING1' (Size = 4000), @p13='STRING1' (Size = 4000), @p14='AQAAAAIAAYagAAAAEKADHMhdVhAFxSUBUs6yoM7Fo2xzsy9F61TjSRVRg6b6mgH+7btgC+Q3rVKydmSgRA==' (Size = 4000), @p15='string' (Size = 4000), @p16='False', @p17='RTKHMER2TXNOBZ33AIXXPIRNZ6O5BVO4' (Size = 4000), @p18='False', @p19='0001-01-01T00:00:00.0000000', @p20='string1' (Size = 4000), @p22='1ddacd3b-495b-4144-b828-3c9740ba1651', @p23='c2c2748e-b493-4aa2-2647-08dc5dd32a61'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AppUser] SET [AccessFailedCount] = @p0, [Address] = @p1, [Avatar] = @p2, [ConcurrencyStamp] = @p3, [CreatedDate] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [Facebook] = @p7, [FirstName] = @p8, [LastName] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [SecurityStamp] = @p17, [TwoFactorEnabled] = @p18, [UpdateDate] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21;
INSERT INTO [AppUserRole] ([RoleId], [UserId])
VALUES (@p22, @p23);
2024-04-16 12:07:51.713 +07:00 [DBG] Closing data reader to 'FoodShop' on server 'localhost'.
2024-04-16 12:07:51.713 +07:00 [DBG] A data reader for 'FoodShop' on server 'localhost' is being disposed after spending 3ms reading results.
2024-04-16 12:07:51.719 +07:00 [DBG] Committing transaction.
2024-04-16 12:07:51.726 +07:00 [DBG] Committed transaction.
2024-04-16 12:07:51.729 +07:00 [DBG] Closing connection to database 'FoodShop' on server 'localhost'.
2024-04-16 12:07:51.730 +07:00 [DBG] Closed connection to database 'FoodShop' on server 'localhost' (0ms).
2024-04-16 12:07:51.733 +07:00 [DBG] Disposing transaction.
2024-04-16 12:07:51.734 +07:00 [DBG] The 'IdentityUserRole' entity with key '{RoleId: 1ddacd3b-495b-4144-b828-3c9740ba1651, UserId: c2c2748e-b493-4aa2-2647-08dc5dd32a61}' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'.
2024-04-16 12:07:51.735 +07:00 [DBG] The 'AppUser' entity with key '{Id: c2c2748e-b493-4aa2-2647-08dc5dd32a61}' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'.
2024-04-16 12:07:51.735 +07:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 2 entities written to the database.
